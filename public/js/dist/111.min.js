(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[111],{

/***/ "./src/app/components/inputs/fields/select/gis_select.js":
/*!***************************************************************!*\
  !*** ./src/app/components/inputs/fields/select/gis_select.js ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var antd_lib_form_style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! antd/lib/form/style */ "./node_modules/antd/lib/form/style/index.js");
/* harmony import */ var antd_lib_form_style__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(antd_lib_form_style__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var antd_lib_form__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! antd/lib/form */ "./node_modules/antd/lib/form/index.js");
/* harmony import */ var antd_lib_form__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(antd_lib_form__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var antd_lib_checkbox_style__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! antd/lib/checkbox/style */ "./node_modules/antd/lib/checkbox/style/index.js");
/* harmony import */ var antd_lib_checkbox_style__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(antd_lib_checkbox_style__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var antd_lib_checkbox__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! antd/lib/checkbox */ "./node_modules/antd/lib/checkbox/index.js");
/* harmony import */ var antd_lib_checkbox__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(antd_lib_checkbox__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var antd_lib_select_style__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! antd/lib/select/style */ "./node_modules/antd/lib/select/style/index.js");
/* harmony import */ var antd_lib_select_style__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(antd_lib_select_style__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var antd_lib_select__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! antd/lib/select */ "./node_modules/antd/lib/select/index.js");
/* harmony import */ var antd_lib_select__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(antd_lib_select__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _helpers_functions__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../helpers/functions */ "./src/app/helpers/functions/index.js");
/* harmony import */ var redux_form__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! redux-form */ "./node_modules/redux-form/es/index.js");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _identify_Component_common_esri_request__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../identify/Component/common/esri_request */ "./src/app/components/inputs/fields/identify/Component/common/esri_request.js");
/* harmony import */ var _identify_Component_common_common_func__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../identify/Component/common/common_func */ "./src/app/components/inputs/fields/identify/Component/common/common_func.js");
/* harmony import */ var _identify_Component_mapviewer_config_map__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../identify/Component/mapviewer/config/map */ "./src/app/components/inputs/fields/identify/Component/mapviewer/config/map.js");
/* harmony import */ var antd_dist_antd_css__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! antd/dist/antd.css */ "./node_modules/antd/dist/antd.css");
/* harmony import */ var antd_dist_antd_css__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(antd_dist_antd_css__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var _identify_Component_ThirdIdentifier_Helpers__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../identify/Component/ThirdIdentifier/Helpers */ "./src/app/components/inputs/fields/identify/Component/ThirdIdentifier/Helpers.js");
/* harmony import */ var esri_loader__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! esri-loader */ "./node_modules/esri-loader/dist/umd/esri-loader.js");
/* harmony import */ var esri_loader__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(esri_loader__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var _identify_Component_ThirdIdentifier__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../identify/Component/ThirdIdentifier */ "./src/app/components/inputs/fields/identify/Component/ThirdIdentifier/index.js");
/* harmony import */ var _mapping__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./mapping */ "./src/app/components/inputs/fields/select/mapping.js");

















// import SelectGis from './select';
// import SelectGis2 from './select2';
// import SelectGis3 from './select3';


const {
  Option
} = antd_lib_select__WEBPACK_IMPORTED_MODULE_6___default.a;
// import {aaa}from './gis_fields'
const plainOptions = ["حدود البلديه", "حدود البلدية الفرعية", "حدود التقسيم", "حدود المخططات", "حدود االحياء", "حدود البلكات", "الراضي", "الشوارع"];
const layerAlias = {
  "حدود البلديه": "Municipality_Boundary",
  "حدود البلدية الفرعية": "Sub_Municipality_Boundary",
  "حدود التقسيم": "Subdivision",
  "حدود المخططات": "Plan_Data",
  "حدود االحياء": "District_Boundary",
  "حدود البلكات": "Survey_Block",
  الراضي: "Landbase_Parcel",
  الشوارع: "Street_Naming"
};
const CheckboxGroup = antd_lib_checkbox__WEBPACK_IMPORTED_MODULE_4___default.a.Group;
class IdentifyWizerd extends react__WEBPACK_IMPORTED_MODULE_7__["Component"] {
  constructor() {
    super();
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, "Del", index => {
      let a = this.state.TableEle.filter((e, i) => i !== index);
      this.setState({
        TableEle: a
      });
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, "AddRequest", () => {
      let a = this.state.TableEle.concat({
        munic: this.MUNICIPALITY_NAME,
        municCode: this.MUNICIPALITY_code,
        sub: this.SUB_MUNICIPALITY_NAME,
        subCode: this.SUB_MUNICIPALITY_code,
        distrect: this.distrectname,
        distrectCode: this.distrectcode,
        Layers: this.LayersName.join("-"),
        LayersId: this.layersid
      });
      this.setState({
        TableEle: a
      });
      console.log(this.TableEle);
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, "onMunChange", e => {
      var _this$state$Municipal;
      this.setState({
        munval: e,
        planeval: undefined,
        subNameval: undefined,
        PlanNum: [],
        planId: null,
        subDivNames: []
      });
      this.SUB_MUNICIPALITY_NAME = null;
      this.SUB_MUNICIPALITY_code = null;
      this.distrectname = null;
      this.distrectcode = null;
      this.MUNICIPALITY_code = e;
      this.MUNICIPALITY_NAME = (_this$state$Municipal = this.state.MunicipalityNames) === null || _this$state$Municipal === void 0 ? void 0 : _this$state$Municipal.find(m => m.code == e).name;
      Object(_identify_Component_common_esri_request__WEBPACK_IMPORTED_MODULE_11__["esriRequest"])(_identify_Component_mapviewer_config_map__WEBPACK_IMPORTED_MODULE_13__["mapUrl"] + "/" + this.LayerID.Sub_Municipality_Boundary).then(response => {
        let subtypes = response.types.find(ele => ele.id === e).domains.SUB_MUNICIPALITY_NAME.codedValues;
        this.setState({
          PlanNum: subtypes,
          secondry_muns: true
        });
      });
      Object(_identify_Component_common_common_func__WEBPACK_IMPORTED_MODULE_12__["queryTask"])({
        returnDistinctValues: true,
        ...Object(_identify_Component_ThirdIdentifier_Helpers__WEBPACK_IMPORTED_MODULE_15__["querySetting"])(this.LayerID.Landbase_Parcel, `MUNICIPALITY_NAME="${e}"`, false, ["DISTRICT_NAME"]),
        callbackResult: res => {
          Object(_identify_Component_common_common_func__WEBPACK_IMPORTED_MODULE_12__["getFeatureDomainName"])(res.features, this.LayerID.Landbase_Parcel).then(result => {
            this.setState({
              subDivNames: result,
              districts: true
            });
          });
        }
      });
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, "LayerBox", e => {
      this.LayersName = e;
      this.layersid = e.map(h => this.LayerID[layerAlias[h]]);
      console.log(e);
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, "onPlaneChange", f => {
      this.setState({
        planeval: f,
        subTypeval: undefined,
        subNameval: undefined,
        subDivNames: []
      });
      this.distrectname = null;
      this.distrectcode = null;
      this.SUB_MUNICIPALITY_NAME = this.state.PlanNum.find(m => m.code == f).name;
      this.SUB_MUNICIPALITY_code = f;
      Object(_identify_Component_common_common_func__WEBPACK_IMPORTED_MODULE_12__["queryTask"])({
        returnDistinctValues: true,
        ...Object(_identify_Component_ThirdIdentifier_Helpers__WEBPACK_IMPORTED_MODULE_15__["querySetting"])(this.LayerID.Landbase_Parcel, `SUB_MUNICIPALITY_NAME="${f}"`, false, ["DISTRICT_NAME"]),
        callbackResult: res => {
          Object(_identify_Component_common_common_func__WEBPACK_IMPORTED_MODULE_12__["getFeatureDomainName"])(res.features, this.LayerID.Landbase_Parcel).then(result => {
            this.setState({
              subDivNames: result
            });
          });
        }
      });
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, "DataTypeChange", e => {
      this.datatype = e;
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_2___default()(this, "onSubNameChange", e => {
      this.setState({
        subNameval: e
      });
      this.distrectcode = e;
      this.distrectname = this.state.subDivNames.find(m => m.attributes.DISTRICT_NAME_Code == e).attributes.DISTRICT_NAME;
    });
    this.MUNICIPALITY_NAME = null;
    this.MUNICIPALITY_code = null;
    this.SUB_MUNICIPALITY_NAME = null;
    this.SUB_MUNICIPALITY_code = null;
    this.distrectname = null;
    this.distrectcode = null;
    this.LayersName = [];
    this.layersid = [];
    this.PlanNum = [];
    this.datatype = null;
    this.state = {
      TableEle: [],
      munval: undefined,
      planeval: undefined,
      subTypeval: undefined,
      subNameval: undefined,
      subDivNames: [],
      muns: false,
      MunicipalityNames: [],
      PlanNum: []
    };
  }
  componentDidMount() {
    //  const {setData}=this.props
    Object(_identify_Component_common_common_func__WEBPACK_IMPORTED_MODULE_12__["getInfo"])().then(res => {
      this.LayerID = res;
      Object(_identify_Component_common_esri_request__WEBPACK_IMPORTED_MODULE_11__["esriRequest"])(_identify_Component_mapviewer_config_map__WEBPACK_IMPORTED_MODULE_13__["mapUrl"] + "/" + this.LayerID.Municipality_Boundary).then(response => {
        console.log(response);
        this.setState({
          MunicipalityNames: response.types[0].domains.MUNICIPALITY_NAME.codedValues,
          muns: true
        });
        // setData(this.state.MunicipalityNames)
      });
    });
  }
  ssss(values) {
    console.log("ddu", values);
  }
  handleChange(value, options) {
    const {
      input: {
        onChange
      },
      resetFields,
      change
    } = this.props;
    resetFields && resetFields.map(f => change(f, ""));
    let newVal = value ? value : "";
    onChange(newVal);
  }
  render() {
    const {
      input: {
        value,
        ...input
      },
      handleSubmit,
      showArrow,
      selectors,
      showSearch = false,
      label,
      placeholder,
      data = [],
      label_key = "label",
      value_key = "value",
      t,
      disabled,
      ux_pattern
    } = this.props;
    console.log(this.props);
    let districts = this.state.subDivNames && this.state.subDivNames.filter(e => e.attributes.DISTRICT_NAME);
    const {
      muns,
      MunicipalityNames,
      PlanNum,
      secondry_muns,
      district
    } = this.state;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(antd_lib_form__WEBPACK_IMPORTED_MODULE_1___default.a, {
      style: {
        direction: "rtl"
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div", {
      className: "wizard_identify"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("label", null, "\u0627\u0644\u0628\u0644\u062F\u064A\u0629"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(redux_form__WEBPACK_IMPORTED_MODULE_9__["Field"], {
      value: this.state.munval,
      name: "muns",
      component: SelectGis,
      data: muns ? MunicipalityNames : [],
      chang: this.onMunChange
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("label", null, "\u0627\u0644\u0628\u0644\u062F\u064A\u0629 \u0627\u0644\u0641\u0631\u0639\u064A\u0629"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(redux_form__WEBPACK_IMPORTED_MODULE_9__["Field"], {
      name: "secondry_muns",
      value: this.state.planeval,
      component: SelectGis2,
      data: secondry_muns ? PlanNum : [],
      chang: this.onPlaneChange
    }))));
  }
}
/* harmony default export */ __webpack_exports__["default"] = (Object(redux_form__WEBPACK_IMPORTED_MODULE_9__["reduxForm"])({
  form: "identify" // a unique identifier for this form
})(IdentifyWizerd));

/***/ })

}]);
//# sourceMappingURL=111.min.js.map