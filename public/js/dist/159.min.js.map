{"version":3,"file":"159.min.js","sources":["webpack:///./src/app/components/wizard/components/stepContent/sections/sectionTypes/wizardSummery/components/suggestParcel.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport { backEndUrlforMap, filesHost } from \"imports/config\";\r\nimport {\r\n  remove_duplicate,\r\n  convertToArabic,\r\n} from \"../../../../../../../inputs/fields/identify/Component/common/common_func\";\r\nexport default class identify extends Component {\r\n  // remove_duplicate(url) {\r\n  //   return (\r\n  //     filesHost +\r\n  //     url\r\n  //       .split(\"/\")\r\n  //       .filter((d) => d.toLowerCase() != \"GISAPI\".toLowerCase())\r\n  //       .join(\"/\")\r\n  //       .toString()\r\n  //       .substring(url.toLowerCase().indexOf(\"subattachments\"), url.length)\r\n  //   );\r\n  // }\r\n  render() {\r\n    const { polygons } =\r\n      this.props.mainObject.suggestParcel.suggestParcel.suggestParcels;\r\n\r\n    var parcel = polygons.filter((polygon) => {\r\n      return (\r\n        polygon.polygon &&\r\n        // polygon.polygon.layer?.toLowerCase() == \"boundry\"?.toLowerCase()\r\n        polygon.layerName?.toLowerCase() != \"plus\"?.toLowerCase() &&\r\n        polygon.layerName?.toLowerCase() != \"notPlus\"?.toLowerCase()\r\n      );\r\n    })[0];\r\n\r\n    return (\r\n      <div>\r\n        <img\r\n          src={remove_duplicate(\r\n            this.props?.mainObject?.suggestParcel?.suggestParcel\r\n              ?.submission_data?.suggestionUrl ||\r\n              this.props?.mainObject?.suggestParcel?.submission_data\r\n                ?.suggestionUrl\r\n          )}\r\n          style={{ width: \"100%\" }}\r\n        />\r\n\r\n        {polygons.length > 0 && (\r\n          <div style={{ marginTop: \"30px\" }}>\r\n            {polygons\r\n              .filter((polygon) => {\r\n                return (\r\n                  polygon.polygon &&\r\n                  polygon.polygon.layer?.toLowerCase() ==\r\n                    \"boundry\"?.toLowerCase()\r\n                );\r\n              })\r\n              .map((polygon, key) => {\r\n                return (\r\n                  <table className=\"table table-bordered\" key={key}>\r\n                    <tbody>\r\n                      <tr>\r\n                        {\" \"}\r\n                        <td> أسم الأرض </td>{\" \"}\r\n                        <td>{convertToArabic(polygon.parcel_name)}</td>\r\n                      </tr>\r\n                      <tr>\r\n                        <td> مساحة الأرض </td>\r\n                        <td>{convertToArabic(polygon.area.toFixed(2))} م٢</td>\r\n                      </tr>\r\n                      <tr>\r\n                        <td> مساحة الأرض بالحروف</td>\r\n                        <td>{convertToArabic(polygon.parcel_area_desc)}</td>\r\n                      </tr>\r\n                      <tr>\r\n                        <td>وصف الحد الشمالي</td>\r\n                        <td>{convertToArabic(polygon.north_Desc)}</td>\r\n                      </tr>\r\n                      <tr>\r\n                        <td> طول الضلع الشمالي </td>\r\n                        <td>\r\n                          {convertToArabic(polygon.data[0].totalLength)} م\r\n                        </td>\r\n                      </tr>\r\n                      <tr>\r\n                        <td> وصف الحد الشرقي</td>\r\n                        <td>{convertToArabic(polygon.east_Desc)}</td>\r\n                      </tr>\r\n                      <tr>\r\n                        <td>طول الضلع الشرقي</td>\r\n                        <td>\r\n                          {convertToArabic(polygon.data[1].totalLength)} م\r\n                        </td>\r\n                      </tr>\r\n                      <tr>\r\n                        <td>وصف الحد الجنوبي</td>\r\n                        <td>{convertToArabic(polygon.south_Desc)}</td>\r\n                      </tr>\r\n                      <tr>\r\n                        <td> طول الضلع الجنوبي</td>\r\n                        <td>\r\n                          {convertToArabic(polygon.data[4].totalLength)} م\r\n                        </td>\r\n                      </tr>\r\n                      <tr>\r\n                        <td>وصف الحد الغربي</td>\r\n                        <td>{convertToArabic(polygon.weast_Desc)}</td>\r\n                      </tr>\r\n                      <tr>\r\n                        <td> طول الضلع الغربي</td>\r\n                        <td>\r\n                          {convertToArabic(polygon.data[3].totalLength)} م\r\n                        </td>\r\n                      </tr>\r\n                    </tbody>\r\n                  </table>\r\n                );\r\n              })}\r\n\r\n            {polygons\r\n              .filter((polygon) => {\r\n                return (\r\n                  polygon.polygon &&\r\n                  polygon.polygon.layer?.toLowerCase() ==\r\n                    \"full_boundry\"?.toLowerCase()\r\n                );\r\n              })\r\n              .map((polygon, key) => {\r\n                return (\r\n                  <table className=\"table table-bordered\" key={key}>\r\n                    <tbody>\r\n                      <tr>\r\n                        {\" \"}\r\n                        <td> أسم الأرض </td>{\" \"}\r\n                        <td>{convertToArabic(polygon.parcel_name)}</td>\r\n                      </tr>\r\n                      <tr>\r\n                        <td> مساحة الأرض </td>\r\n                        <td>{convertToArabic(polygon.area.toFixed(2))} م٢</td>\r\n                      </tr>\r\n                      <tr>\r\n                        <td> مساحة الأرض بالحروف</td>\r\n                        <td>{convertToArabic(polygon.parcel_area_desc)}</td>\r\n                      </tr>\r\n                      <tr>\r\n                        <td>وصف الحد الشمالي</td>\r\n                        <td>{convertToArabic(polygon.north_Desc)}</td>\r\n                      </tr>\r\n                      <tr>\r\n                        <td> طول الضلع الشمالي </td>\r\n                        <td>\r\n                          {convertToArabic(polygon.data[0].totalLength)} م\r\n                        </td>\r\n                      </tr>\r\n                      <tr>\r\n                        <td> وصف الحد الشرقي</td>\r\n                        <td>{convertToArabic(polygon.east_Desc)}</td>\r\n                      </tr>\r\n                      <tr>\r\n                        <td>طول الضلع الشرقي</td>\r\n                        <td>\r\n                          {convertToArabic(polygon.data[1].totalLength)} م\r\n                        </td>\r\n                      </tr>\r\n                      <tr>\r\n                        <td>وصف الحد الجنوبي</td>\r\n                        <td>{convertToArabic(polygon.south_Desc)}</td>\r\n                      </tr>\r\n                      <tr>\r\n                        <td> طول الضلع الجنوبي</td>\r\n                        <td>\r\n                          {convertToArabic(polygon.data[4].totalLength)} م\r\n                        </td>\r\n                      </tr>\r\n                      <tr>\r\n                        <td>وصف الحد الغربي</td>\r\n                        <td>{convertToArabic(polygon.weast_Desc)}</td>\r\n                      </tr>\r\n                      <tr>\r\n                        <td> طول الضلع الغربي</td>\r\n                        <td>\r\n                          {convertToArabic(polygon.data[3].totalLength)} م\r\n                        </td>\r\n                      </tr>\r\n                    </tbody>\r\n                  </table>\r\n                );\r\n              })}\r\n\r\n            <div style={{ marginTop: \"30px\" }}>الزوائد </div>\r\n            {polygons\r\n              .filter((polygon) => {\r\n                return (\r\n                  (polygon.polygon &&\r\n                    polygon.polygon.layer?.toLowerCase() ==\r\n                      \"plus\"?.toLowerCase()) ||\r\n                  polygon.layerName?.toLowerCase() == \"notPlus\"?.toLowerCase()\r\n                );\r\n              })\r\n              .map((polygon, key) => {\r\n                return (\r\n                  <table\r\n                    className=\"table table-bordered\"\r\n                    key={key}\r\n                    style={{ marginTop: \"10px\" }}\r\n                  >\r\n                    <tbody>\r\n                      <tr>\r\n                        <td> أسم الأرض </td>\r\n                        <td>{convertToArabic(polygon.parcel_name)}</td>\r\n                      </tr>\r\n                      <tr>\r\n                        {\" \"}\r\n                        <td> مساحة الزائدة </td>\r\n                        <td>\r\n                          {convertToArabic((+polygon.area).toFixed(2))} م٢\r\n                        </td>\r\n                      </tr>\r\n                      <tr>\r\n                        {\" \"}\r\n                        <td> مساحة الزائدة بالحروف</td>{\" \"}\r\n                        <td>{convertToArabic(polygon.parcel_area_desc)}</td>\r\n                      </tr>\r\n                      {polygon.north_Desc && (\r\n                        <tr>\r\n                          {\" \"}\r\n                          <td>وصف الحد الشمالي</td>{\" \"}\r\n                          <td>{convertToArabic(polygon.north_Desc)}</td>\r\n                        </tr>\r\n                      )}\r\n                      {polygon.data && (\r\n                        <tr>\r\n                          {\" \"}\r\n                          <td> طول الحد الشمالي </td>\r\n                          <td>\r\n                            {convertToArabic(polygon.data[0].totalLength)} م\r\n                          </td>\r\n                        </tr>\r\n                      )}\r\n\r\n                      {polygon.east_Desc && (\r\n                        <tr>\r\n                          {\" \"}\r\n                          <td>وصف الحد الشرقي</td>{\" \"}\r\n                          <td>{convertToArabic(polygon.east_Desc)}</td>\r\n                        </tr>\r\n                      )}\r\n                      {polygon.data && (\r\n                        <tr>\r\n                          <td>طول الحد الشرقي</td>\r\n\r\n                          <td>\r\n                            {convertToArabic(polygon.data[1].totalLength)} م\r\n                          </td>\r\n                        </tr>\r\n                      )}\r\n                      {polygon.south_Desc && (\r\n                        <tr>\r\n                          {\" \"}\r\n                          <td>وصف الحد الجنوبي</td>{\" \"}\r\n                          <td>{convertToArabic(polygon.south_Desc)}</td>\r\n                        </tr>\r\n                      )}\r\n                      {polygon.data && (\r\n                        <tr>\r\n                          {\" \"}\r\n                          <td>طول الحد الجنوبي</td>\r\n                          <td>\r\n                            {convertToArabic(polygon.data[4].totalLength)} م\r\n                          </td>\r\n                        </tr>\r\n                      )}\r\n                      {polygon.weast_Desc && (\r\n                        <tr>\r\n                          {\" \"}\r\n                          <td>وصف الحد الغربي</td>\r\n                          <td>{convertToArabic(polygon.weast_Desc)}</td>\r\n                        </tr>\r\n                      )}\r\n                      {polygon.data && (\r\n                        <tr>\r\n                          <td> طول الحد الغربي</td>\r\n\r\n                          <td>\r\n                            {convertToArabic(polygon.data[3].totalLength)} م\r\n                          </td>\r\n                        </tr>\r\n                      )}\r\n                    </tbody>\r\n                  </table>\r\n                );\r\n              })}\r\n          </div>\r\n        )}\r\n\r\n        <div style={{ marginTop: \"30px\" }}>الشطفات</div>\r\n        {polygons\r\n          .filter((polygon) => {\r\n            return (\r\n              polygon.polygon &&\r\n              // polygon.polygon.layer?.toLowerCase() == \"boundry\"?.toLowerCase()\r\n              polygon.layerName?.toLowerCase() != \"plus\"?.toLowerCase() &&\r\n              polygon.layerName?.toLowerCase() != \"notPlus\"?.toLowerCase() &&\r\n              (polygon.shtfa_northeast ||\r\n                polygon.shtfa_northweast ||\r\n                polygon.shtfa_southeast ||\r\n                polygon.shtfa_southweast ||\r\n                polygon.electricArea)\r\n            );\r\n          })\r\n          .map((parcel) => (\r\n            <table\r\n              className=\"table table-bordered\"\r\n              style={{ marginTop: \"10px\" }}\r\n            >\r\n              <tbody>\r\n                <>\r\n                  <tr>\r\n                    <td>قطعة الأرض رقم</td>\r\n                    <td>{convertToArabic(parcel.parcel_name)}</td>\r\n                  </tr>\r\n                  {\r\n                    <tr>\r\n                      <td>\r\n                        مساحة قطعة الأرض بعد بخصم{\" \"}\r\n                        {(parcel.shtfa_northeast ||\r\n                          parcel.shtfa_northweast ||\r\n                          parcel.shtfa_southeast ||\r\n                          parcel.shtfa_southweast) &&\r\n                          \"مساحة الشطفة\"}{\" \"}\r\n                        {((parcel.shtfa_northeast ||\r\n                          parcel.shtfa_northweast ||\r\n                          parcel.shtfa_southeast ||\r\n                          parcel.shtfa_southweast) &&\r\n                          parcel.electricArea &&\r\n                          \"و غرفة الكهرباء\") ||\r\n                          (!(\r\n                            parcel.shtfa_northeast ||\r\n                            parcel.shtfa_northweast ||\r\n                            parcel.shtfa_southeast ||\r\n                            parcel.shtfa_southweast\r\n                          ) &&\r\n                            parcel.electricArea &&\r\n                            \"غرفة الكهرباء\")}\r\n                      </td>\r\n                      <td>\r\n                        {convertToArabic(\r\n                          +parcel?.area?.toFixed(2) -\r\n                            ((+parcel.shtfa_southweast || 0) +\r\n                              (+parcel.shtfa_southeast || 0) +\r\n                              (+parcel.shtfa_northweast || 0) +\r\n                              (+parcel.shtfa_northeast || 0)) -\r\n                            (+parcel.electricArea || 0)\r\n                        )}\r\n                        م٢\r\n                      </td>\r\n                    </tr>\r\n                  }\r\n                  {parcel.electricArea && (\r\n                    <tr>\r\n                      <td> مساحة غرفة الكهرباء : </td>\r\n                      <td> {convertToArabic(parcel.electricArea)} م٢ </td>\r\n                    </tr>\r\n                  )}\r\n\r\n                  {parcel.electricPosition && (\r\n                    <tr>\r\n                      <td>موقع غرفة الكهرباء : </td>\r\n                      <td>{convertToArabic(parcel.electricPosition)}</td>\r\n                    </tr>\r\n                  )}\r\n\r\n                  {parcel && parcel.shtfa_northeast && (\r\n                    <tr>\r\n                      <td>مساحة الشطفة : </td>\r\n                      <td>\r\n                        {convertToArabic(parcel.shtfa_northeast)}\r\n                        {\" م٢ \"}\r\n                      </td>\r\n                    </tr>\r\n                  )}\r\n\r\n                  {parcel && parcel.shtfa_northeast && (\r\n                    <tr>\r\n                      <td> موقع الشطفة</td>\r\n                      <td>شمال شرق</td>\r\n                    </tr>\r\n                  )}\r\n\r\n                  {parcel && parcel.shtfa_northweast && (\r\n                    <tr>\r\n                      <td>مساحة الشطفة : </td>\r\n                      <td>\r\n                        {convertToArabic(parcel.shtfa_northweast)}\r\n                        {\" م٢ \"}\r\n                      </td>\r\n                    </tr>\r\n                  )}\r\n\r\n                  {parcel && parcel.shtfa_northweast && (\r\n                    <tr>\r\n                      <td> موقع الشطفة</td>\r\n                      <td>شمال غرب</td>\r\n                    </tr>\r\n                  )}\r\n\r\n                  {parcel && parcel.shtfa_southeast && (\r\n                    <tr>\r\n                      <td>مساحة الشطفة : </td>\r\n                      <td>\r\n                        {convertToArabic(parcel.shtfa_southeast)}\r\n                        {\" م٢ \"}\r\n                      </td>\r\n                    </tr>\r\n                  )}\r\n\r\n                  {parcel && parcel.shtfa_southeast && (\r\n                    <tr>\r\n                      <td> موقع الشطفة</td>\r\n                      <td>جنوب شرق</td>\r\n                    </tr>\r\n                  )}\r\n\r\n                  {parcel && parcel.shtfa_southweast && (\r\n                    <tr>\r\n                      <td>مساحة الشطفة : </td>\r\n                      <td>\r\n                        {convertToArabic(parcel.shtfa_southweast)}\r\n                        {\" م٢ \"}\r\n                      </td>\r\n                    </tr>\r\n                  )}\r\n\r\n                  {parcel && parcel.shtfa_southweast && (\r\n                    <tr>\r\n                      <td> موقع الشطفة</td>\r\n                      <td>جنوب غرب</td>\r\n                    </tr>\r\n                  )}\r\n                </>\r\n              </tbody>\r\n            </table>\r\n          ))}\r\n\r\n        {/* {+[\r\n          ...(polygons.find((p) => {\r\n            return (\r\n              (p.polygon && p.polygon.layer == \"full_boundry\") ||\r\n              (p.layerName && p.layerName == \"full_boundry\")\r\n            );\r\n          }) ||\r\n            polygons.filter((p) => {\r\n              return (\r\n                // (p.polygon && p.polygon.layer == \"boundry\") ||\r\n                // (p.layerName && p.layerName == \"boundry\")\r\n                p.layerName?.toLowerCase() != \"plus\"?.toLowerCase() &&\r\n                p.layerName?.toLowerCase() != \"notPlus\"?.toLowerCase()\r\n              );\r\n            })),\r\n        ]\r\n          ?.reduce((a, b) => {\r\n            return (\r\n              a +\r\n              (+b?.area?.toFixed(2) -\r\n                ((+b.shtfa_southweast || 0) +\r\n                  (+b.shtfa_southeast || 0) +\r\n                  (+b.shtfa_northweast || 0) +\r\n                  (+b.shtfa_northeast || 0)) -\r\n                (+b.electricArea || 0))\r\n            );\r\n          }, 0)\r\n          ?.toFixed(2) >= 0 && (\r\n          <table className=\"table table-bordered\">\r\n            {[\r\n              ...(polygons.find((p) => {\r\n                return (\r\n                  (p.polygon && p.polygon.layer == \"full_boundry\") ||\r\n                  (p.layerName && p.layerName == \"full_boundry\")\r\n                );\r\n              }) ||\r\n                polygons.filter((p) => {\r\n                  return (\r\n                    // (p.polygon && p.polygon.layer == \"boundry\") ||\r\n                    // (p.layerName && p.layerName == \"boundry\")\r\n                    p.layerName?.toLowerCase() != \"plus\"?.toLowerCase() &&\r\n                    p.layerName?.toLowerCase() != \"notPlus\"?.toLowerCase()\r\n                  );\r\n                })),\r\n            ].map(\r\n              (parcel) =>\r\n                (parcel.shtfa_northeast ||\r\n                  parcel.shtfa_northweast ||\r\n                  parcel.shtfa_southeast ||\r\n                  parcel.shtfa_southweast ||\r\n                  parcel.electricArea) && (\r\n                  <tr>\r\n                    <td>\r\n                      مساحة قطعة الأرض رقم {parcel.parcel_name} بعد بخصم{\" \"}\r\n                      {(parcel.shtfa_northeast ||\r\n                        parcel.shtfa_northweast ||\r\n                        parcel.shtfa_southeast ||\r\n                        parcel.shtfa_southweast) &&\r\n                        \"مساحة الشطفة\"}{\" \"}\r\n                      {((parcel.shtfa_northeast ||\r\n                        parcel.shtfa_northweast ||\r\n                        parcel.shtfa_southeast ||\r\n                        parcel.shtfa_southweast) &&\r\n                        parcel.electricArea &&\r\n                        \"و غرفة الكهرباء\") ||\r\n                        (!(\r\n                          parcel.shtfa_northeast ||\r\n                          parcel.shtfa_northweast ||\r\n                          parcel.shtfa_southeast ||\r\n                          parcel.shtfa_southweast\r\n                        ) &&\r\n                          parcel.electricArea &&\r\n                          \"غرفة الكهرباء\")}\r\n                    </td>\r\n                    <td>\r\n                      {convertToArabic(\r\n                        // +[\r\n                        //   ...(polygons.find((p) => {\r\n                        //     return (\r\n                        //       (p.polygon &&\r\n                        //         p.polygon.layer == \"full_boundry\") ||\r\n                        //       (p.layerName && p.layerName == \"full_boundry\")\r\n                        //     );\r\n                        //   }) ||\r\n                        //     polygons.filter((p) => {\r\n                        //       return (\r\n                        //         // (p.polygon && p.polygon.layer == \"boundry\") ||\r\n                        //         // (p.layerName && p.layerName == \"boundry\")\r\n                        //         p.layerName?.toLowerCase() !=\r\n                        //           \"plus\"?.toLowerCase() &&\r\n                        //         p.layerName?.toLowerCase() !=\r\n                        //           \"notPlus\"?.toLowerCase()\r\n                        //       );\r\n                        //     })),\r\n                        // ]\r\n                        //   ?.reduce((a, b) => {\r\n                        //     return (\r\n                        //       a +\r\n                        //       (+b?.area?.toFixed(2) -\r\n                        //         ((+b.shtfa_southweast || 0) +\r\n                        //           (+b.shtfa_southeast || 0) +\r\n                        //           (+b.shtfa_northweast || 0) +\r\n                        //           (+b.shtfa_northeast || 0)) -\r\n                        //         (+b.electricArea || 0))\r\n                        //     );\r\n                        //   }, 0)\r\n                        //   .toFixed(2)\r\n                        +parcel?.area?.toFixed(2) -\r\n                          ((+parcel.shtfa_southweast || 0) +\r\n                            (+parcel.shtfa_southeast || 0) +\r\n                            (+parcel.shtfa_northweast || 0) +\r\n                            (+parcel.shtfa_northeast || 0)) -\r\n                          (+parcel.electricArea || 0)\r\n                      )}\r\n                      م٢\r\n                    </td>\r\n                  </tr>\r\n                )\r\n            )}\r\n          </table>\r\n        )} */}\r\n\r\n        {this.props.mainObject.suggestParcel.suggestParcel.check ? (\r\n          <div style={{ marginTop: \"20px\" }}>المخطط ملكية خاصة</div>\r\n        ) : (\r\n          <div></div>\r\n        )}\r\n\r\n        {this.props.mainObject.suggestParcel.suggestParcel\r\n          .ownerApproveImage && (\r\n          <div>\r\n            {this.props.mainObject.suggestParcel.suggestParcel.ownerApproveImage.map(\r\n              (image, key) => {\r\n                return (\r\n                  <img\r\n                    key={key}\r\n                    src={backEndUrlforMap + \"/gisapi/\" + image}\r\n                    style={{ width: \"50%\", height: \"20%\" }}\r\n                  />\r\n                );\r\n              }\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAGA;AAAA;AACA;AAEA;AACA;AAGA;AAEA;AAGA;AAMA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAEA;AACA;AAKA;AAEA;AACA;AAAA;AAAA;AA0DA;AAGA;AACA;AAKA;AAEA;AACA;AAAA;AAAA;AA0DA;AAEA;AAAA;AAAA;AAAA;AAEA;AACA;AAMA;AAEA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAuFA;AAIA;AAAA;AAAA;AAAA;AAEA;AACA;AAEA;AACA;AAQA;AACA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAgIA;AA8HA;AAAA;AAAA;AAAA;AAUA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AAMA;AACA;;;;A","sourceRoot":""}