(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[153],{

/***/ "./src/app/components/wizard/components/stepContent/sections/sectionTypes/wizardSummery/components/sak_data.js":
/*!*********************************************************************************************************************!*\
  !*** ./src/app/components/wizard/components/stepContent/sections/sectionTypes/wizardSummery/components/sak_data.js ***!
  \*********************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var antd_lib_collapse_style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! antd/lib/collapse/style */ "./node_modules/antd/lib/collapse/style/index.js");
/* harmony import */ var antd_lib_collapse_style__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(antd_lib_collapse_style__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var antd_lib_collapse__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! antd/lib/collapse */ "./node_modules/antd/lib/collapse/index.js");
/* harmony import */ var antd_lib_collapse__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(antd_lib_collapse__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _imports_config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../../../../imports/config */ "./src/imports/config.js");
/* harmony import */ var _inputs_fields_identify_Component_common_common_func__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../../../inputs/fields/identify/Component/common/common_func */ "./src/app/components/inputs/fields/identify/Component/common/common_func.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! axios */ "./node_modules/axios/index.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _mapping__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../mapping */ "./src/app/components/wizard/components/stepContent/sections/sectionTypes/wizardSummery/mapping.js");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");





const {
  Panel
} = antd_lib_collapse__WEBPACK_IMPORTED_MODULE_1___default.a;




class Waseka extends react__WEBPACK_IMPORTED_MODULE_2__["Component"] {
  convertEnglishNotReverseToArabic(english) {
    var arabicNumbers = ["۰", "١", "٢", "٣", "٤", "٥", "٦", "٧", "٨", "٩"];
    if (english == null || english == "") {
      return "";
    } else {
      var chars = english.split("");
      for (var i = 0; i < chars.length; i++) {
        if (/\d/.test(chars[i])) {
          chars[i] = arabicNumbers[chars[i]];
        }
      }
      let revesedChars = chars.join("");
      return revesedChars;
    }
  }
  convertEnglishToArabic(english, notreverse) {
    //
    var arabicNumbers = ["۰", "١", "٢", "٣", "٤", "٥", "٦", "٧", "٨", "٩"];
    if (english == null || english == "") {
      return "";
    } else {
      var chars = english.split("");
      for (var i = 0; i < chars.length; i++) {
        if (/\d/.test(chars[i])) {
          chars[i] = arabicNumbers[chars[i]];
        }
      }
      let revesedChars = chars.join("");
      if (notreverse) return revesedChars; //.split('/').reverse().join('/')
      return revesedChars.split("/").reverse().join("/");
    }
  }
  componentDidMount() {
    var _Object$values;
    const {
      mainObject
    } = this.props;
    let {
      mainObject: {
        sakData: {
          sakData: {
            saks
          }
        }
      },
      currentModule
    } = this.props;
    var ownerData = mainObject.ownerData && mainObject.ownerData.ownerData.owners[Object.keys(mainObject.ownerData.ownerData.owners)[0]];
    (_Object$values = Object.values(saks)) === null || _Object$values === void 0 ? void 0 : _Object$values.forEach(waseka => {
      if (waseka.sakValid == undefined || waseka.sakValid == null || waseka.sakValid == "") {
        var _waseka$date, _waseka$date$split;
        axios__WEBPACK_IMPORTED_MODULE_5___default.a.get(window.host + "/api/contracts/IsVarifiedContract", {
          headers: {
            "Content-Type": "application/json",
            Accept: "application/json",
            Authorization: `Bearer ${localStorage.token}`
          },
          params: {
            id: ownerData && (ownerData.ssn || ownerData.commercial_registeration || ownerData.code_regesteration),
            contractDate: waseka === null || waseka === void 0 ? void 0 : (_waseka$date = waseka.date) === null || _waseka$date === void 0 ? void 0 : (_waseka$date$split = _waseka$date.split("/")) === null || _waseka$date$split === void 0 ? void 0 : _waseka$date$split.join("-"),
            contractNo: waseka === null || waseka === void 0 ? void 0 : waseka.number
          }
        }).then(res => {
          waseka.sakValid = res.data;
          this.setState({});
        }, res => {
          waseka.sakValid = "لم يتم التأكد من سريان الصك";
          this.setState({});
        });
      }
    });
  }
  render() {
    let appId = localStorage.getItem("appId") == "16" ? true : false;
    const {
      mainObject: {
        sakData: {
          sakData: {
            saks
          }
        }
      },
      currentModule
    } = this.props;
    let waseka_table = saks && Object.values(saks) || [];
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_2___default.a.Fragment, null, waseka_table && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", null, waseka_table.map((d, k) => {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(antd_lib_collapse__WEBPACK_IMPORTED_MODULE_1___default.a, {
        className: "Collapse",
        defaultActiveKey: ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9"],
        key: k
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement(Panel, {
        header: `صك ${k + 1}`,
        forceRender: true,
        style: {
          margin: "5px"
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("table", {
        className: "table table-bordered"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("tbody", null, d.lands && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("td", null, " \u0627\u0644\u0627\u0631\u0636 \u0627\u0644\u0645\u062E\u062A\u0627\u0631\u0629"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("td", null, Object(_inputs_fields_identify_Component_common_common_func__WEBPACK_IMPORTED_MODULE_4__["convertToArabic"])(d.lands))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("td", null, "\u0631\u0642\u0645 \u0648\u062B\u064A\u0642\u0629 \u0627\u0644\u0645\u0644\u0643\u064A\u0629 "), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("td", null, Object(_inputs_fields_identify_Component_common_common_func__WEBPACK_IMPORTED_MODULE_4__["convertToArabic"])(d.number))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("td", null, "\u062A\u0627\u0631\u064A\u062E \u0648\u062B\u064A\u0642\u0629 \u0627\u0644\u0645\u0644\u0643\u064A\u0629"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("td", {
        style: {
          direction: "ltr"
        }
      }, Object(_inputs_fields_identify_Component_common_common_func__WEBPACK_IMPORTED_MODULE_4__["convertToArabic"])(d.date))), d.issuer && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("td", null, "\u062C\u0647\u0629 \u0627\u0635\u062F\u0627\u0631 \u0648\u062B\u064A\u0642\u0629 \u0627\u0644\u0645\u0644\u0643\u064A\u0629"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("td", null, d.issuer)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("td", null, "\u0627\u0644\u0645\u0631\u0641\u0642\u0627\u062A"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("td", null, Object(_inputs_fields_identify_Component_common_common_func__WEBPACK_IMPORTED_MODULE_4__["checkImage"])(this.props, d.image, {
        width: "100px"
      }))), d.sakValid && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("td", null, "\u0627\u0644\u062A\u0623\u0643\u062F \u0645\u0646 \u0633\u0631\u064A\u0627\u0646 \u0645\u0641\u0639\u0648\u0644 \u0627\u0644\u0635\u0643"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("td", null, d.sakValid))))));
    })));
  }
}
/* harmony default export */ __webpack_exports__["default"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_8__["connect"])(_mapping__WEBPACK_IMPORTED_MODULE_7__["mapStateToProps"], _mapping__WEBPACK_IMPORTED_MODULE_7__["mapDispatchToProps"])(Object(react_i18next__WEBPACK_IMPORTED_MODULE_6__["translate"])("labels")(Waseka)));

/***/ })

}]);
//# sourceMappingURL=153.min.js.map