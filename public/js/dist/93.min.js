(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[93],{

/***/ "./src/app/helpers/components/show/select/main.js":
/*!********************************************************!*\
  !*** ./src/app/helpers/components/show/select/main.js ***!
  \********************************************************/
/*! exports provided: selectComponent, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectComponent", function() { return selectComponent; });
/* harmony import */ var lodash_find__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/find */ "./node_modules/lodash/find.js");
/* harmony import */ var lodash_find__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_find__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/get */ "./node_modules/lodash/get.js");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _mapping__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./mapping */ "./src/app/helpers/components/show/select/mapping.js");
/* harmony import */ var _functions__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../functions */ "./src/app/helpers/functions/index.js");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");







class selectComponent extends react__WEBPACK_IMPORTED_MODULE_2___default.a.Component {
  componentDidMount() {
    const {
      data = [],
      setNextUrl,
      setData,
      fetch,
      links = {},
      ux_pattern,
      api_config,
      VALUE,
      inconsistant
    } = this.props;
    const {
      nextLink
    } = links;
    if ((fetch || this.props.field.fetch) && (!data.length || ux_pattern != "infiniteScrolling" && (nextLink || inconsistant))) {
      ux_pattern == "infiniteScrolling" ? this.getScrollingData(this.props, true) : Object(_functions__WEBPACK_IMPORTED_MODULE_5__["fetchAllData"])(fetch || this.props.field.fetch, api_config).then(data => {
        setData(data);
        setNextUrl("");
      });
    }
  }
  getScrollingData(props, onMount) {
    // const { fetch, addToData, setData, links = {}, api_config, setNextUrl, pageSize = 20 } = props;
    // const { nextLink } = links;
    // if (onMount) {
    //     return fetchData(fetch, {
    //         ...api_config,
    //         params: {
    //             ...get(api_config, 'params'),
    //             pageSize: pageSize
    //         }
    //     })
    //         .then(({ results, next }) => {
    //             setData(results);
    //             setNextUrl(next)
    //         })
    // }
    // else {
    //     return fetchData(nextLink, omit(api_config, 'params'))
    //         .then(({ results, next }) => {
    //             addToData(results, -1);
    //             setNextUrl(next);
    //         })
    // }
  }
  render() {
    //;
    const {
      field,
      data,
      val,
      t,
      values
    } = this.props;
    const show = lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(values, field.show, lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(lodash_find__WEBPACK_IMPORTED_MODULE_0___default()(field.data || data, {
      [field.value_key || "value"]: val
    }), field.label_key || "label")) || lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(lodash_find__WEBPACK_IMPORTED_MODULE_0___default()(field.data || data, {
      [field.value_key || "value"]: val
    }), field.label_key || "label") || val;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("p", null, t(show));
  }
}
/* harmony default export */ __webpack_exports__["default"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_3__["connect"])(_mapping__WEBPACK_IMPORTED_MODULE_4__["mapStateToProps"], _mapping__WEBPACK_IMPORTED_MODULE_4__["mapDispatchToProps"])(Object(react_i18next__WEBPACK_IMPORTED_MODULE_6__["translate"])("labels")(selectComponent)));

/***/ }),

/***/ "./src/app/helpers/components/show/select/mapping.js":
/*!***********************************************************!*\
  !*** ./src/app/helpers/components/show/select/mapping.js ***!
  \***********************************************************/
/*! exports provided: mapStateToProps, mapDispatchToProps */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mapStateToProps", function() { return mapStateToProps; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mapDispatchToProps", function() { return mapDispatchToProps; });
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/get */ "./node_modules/lodash/get.js");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_0__);

const mapStateToProps = ({
  selectors = {},
  mainApp,
  mapViewer,
  ...state
}, {
  moduleName,
  path,
  value_key,
  ...props
}) => {
  return {
    data: props.field.data || lodash_get__WEBPACK_IMPORTED_MODULE_0___default()(state, path),
    lang: mainApp.language,
    selectors,
    apps: mainApp.apps,
    info: lodash_get__WEBPACK_IMPORTED_MODULE_0___default()(mapViewer, 'info.info', {}),
    ...(selectors[moduleName] || {}),
    value_key: lodash_get__WEBPACK_IMPORTED_MODULE_0___default()(selectors[moduleName], 'value_key', value_key)
  };
};
const mapDispatchToProps = (dispatch, {
  moduleName
}) => {
  return {
    setSelector: (moduleName, data) => {
      dispatch({
        type: 'setSelectors',
        path: `${moduleName}`,
        data
      });
    },
    setValueLabelKeys: (label_key, value_key) => {
      dispatch({
        type: 'setSelectors',
        path: `${moduleName}.label_key`,
        data: label_key
      });
      dispatch({
        type: 'setSelectors',
        path: `${moduleName}.value_key`,
        data: value_key
      });
    },
    setData: data => {
      dispatch({
        type: 'setSelectors',
        path: `${moduleName}.data`,
        data
      });
    },
    setChildData: (field, data) => {
      field.data = data;
      dispatch({
        type: 'setSelectors',
        path: `${field.moduleName}.data`,
        data
      });
    },
    addToData: (data, index, operation) => {
      dispatch({
        type: 'insertInArraySelectors',
        path: `${moduleName}.data`,
        operation,
        index,
        data
      });
    },
    setNextUrl: nextUrl => {
      dispatch({
        type: 'setSelectors',
        path: `${moduleName}.links.nextLink`,
        data: nextUrl
      });
    },
    addNewSelector: (moduleName, data) => {
      dispatch({
        type: 'setSelectors',
        path: moduleName,
        data
      });
    },
    removeSelector: moduleName => {
      dispatch({
        type: 'removeSelectors',
        path: moduleName
      });
    },
    setCurrentModule: data => {
      dispatch({
        type: 'setWizard',
        path: "currentModule",
        data
      });
    },
    removeMainObject: () => {
      dispatch({
        type: 'removeWizard',
        path: 'mainObject'
      });
      dispatch({
        type: 'removeWizard',
        path: 'currentStep'
      });
      dispatch({
        type: 'removeWizard',
        path: 'comments'
      });
      dispatch({
        type: 'removeWizard',
        path: 'allNotes'
      });
    }
  };
};

/***/ })

}]);
//# sourceMappingURL=93.min.js.map