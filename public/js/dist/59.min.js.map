{"version":3,"file":"59.min.js","sources":["webpack:///./src/app/components/inputs/fields/identify/Component/msa7yDataComponent/planDataStyle.css","webpack:///./src/app/components/inputs/fields/identify/Component/msa7yDataComponent/planDataStyle.css?51c2","webpack:///./src/app/components/wizard/components/stepContent/sections/sectionTypes/wizardSummery/components/plans.js"],"sourcesContent":["exports = module.exports = require(\"../../../../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".usingsymbolStyle {\\r\\n    background: green;\\r\\n    color: white;\\r\\n    text-align: center;\\r\\n    padding: 15px;\\r\\n    margin-top: 15px;\\r\\n    margin-bottom: 15px;\\r\\n    font-size: 18px;\\r\\n}\\r\\n\\r\\n\\r\\n\", \"\"]);\n\n","\nvar content = require(\"!!../../../../../../../../node_modules/css-loader/dist/cjs.js!./planDataStyle.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../../node_modules/css-loader/dist/cjs.js!./planDataStyle.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../../node_modules/css-loader/dist/cjs.js!./planDataStyle.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","import React, { Component } from \"react\";\r\nimport { host, filesHost } from \"config\";\r\nimport {withTranslation} from \"react-i18next\";\r\nimport {\r\n  convertToArabic,\r\n  localizeNumber,\r\n  getInfo,\r\n  remove_duplicate,\r\n  checkImage,\r\n  map_object,\r\n  calculateSchemanticProportions,\r\n  updateStatisticParcels,\r\n  getFieldDomain,\r\n} from \"../../../../../../../inputs/fields/identify/Component/common/common_func\";\r\nimport { getSubmissionHistory } from \"main_helpers/functions/submission_history\";\r\nimport {\r\n  Select,\r\n  Button,\r\n  Form,\r\n  message,\r\n  Checkbox,\r\n  Tabs,\r\n  Collapse,\r\n  Pagination,\r\n  Tooltip,\r\n} from \"antd\";\r\nconst Panel = Collapse.Panel;\r\nimport \"../../../../../../../inputs/fields/identify/Component/msa7yDataComponent/planDataStyle.css\";\r\nimport { esriRequest } from \"../../../../../../../inputs/fields/identify/Component/common/esri_request\";\r\nimport { mapUrl } from \"../../../../../../../inputs/fields/identify/Component/mapviewer/config/map\";\r\nimport { map, get, assign, isEmpty, isFunction } from \"lodash\";\r\nimport { mapStateToProps, mapDispatchToProps } from \"../mapping\";\r\nimport mapDispatchToProps1 from \"main_helpers/actions/main\";\r\nimport { connect } from \"react-redux\";\r\nimport { workFlowUrl } from \"../../../../../../../../../imports/config\";\r\nconst planDescStyle = {\r\n  fontSize: \"15px\",\r\n  fontWeight: \"600\",\r\n  marginTop: \"5px\",\r\n  marginBottom: \"5px\",\r\n};\r\n\r\nconst containerDetails = {\r\n  minHeight: \"10em\",\r\n  width: \"150em\",\r\n  display: \"table-cell\",\r\n  verticalAlign: \"middle\",\r\n};\r\n\r\nexport const appMapDispatchToProps = (dispatch) => {\r\n  return {\r\n    ...mapDispatchToProps(dispatch, \"plansData\"),\r\n    ...mapDispatchToProps1(dispatch),\r\n  };\r\n};\r\nclass allAttachments extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      isImageShown: false,\r\n    };\r\n\r\n    this.fields = {\r\n      survayParcelCutter: {\r\n        field: \"list\",\r\n        hideLabel: true,\r\n        init_data: (values, props) => {\r\n          if (!props.input.value) {\r\n            props.input.onChange([\r\n              {\r\n                direction: \"الشطفة\",\r\n                NORTH_EAST_DIRECTION: \"\",\r\n                NORTH_WEST_DIRECTION: \"\",\r\n                SOUTH_EAST_DIRECTION: \"\",\r\n                SOUTH_WEST_DIRECTION: \"\",\r\n              },\r\n            ]);\r\n          }\r\n        },\r\n        fields: {\r\n          direction: { head: \"الإتجاه\" },\r\n          NORTH_EAST_DIRECTION: {\r\n            head: \"شمال / شرق\",\r\n          },\r\n          NORTH_WEST_DIRECTION: {\r\n            head: \"شمال / غرب\",\r\n          },\r\n          SOUTH_EAST_DIRECTION: {\r\n            head: \"جنوب / شرق\",\r\n          },\r\n          SOUTH_WEST_DIRECTION: {\r\n            head: \"جنوب / غرب\",\r\n          },\r\n        },\r\n      },\r\n    };\r\n\r\n    getInfo(mapUrl).then((response) => {\r\n      let StreetNamingLayerId = response[\"Street_Naming\"];\r\n      getFieldDomain(\"\", StreetNamingLayerId).then((domains) => {\r\n        this.domains = domains;\r\n      });\r\n    });\r\n  }\r\n\r\n  componentDidMount() {\r\n    getSubmissionHistory(\r\n      this.props.currentModule.record.workflow_id,\r\n      this.props,\r\n      this.props.currentModule.record\r\n    ).then((result) => {\r\n      let prevStep_fekraTakhtitya =\r\n        result.steps_history.prevSteps.find(\r\n          (r) => [2322, 3099].indexOf(r.prevStep.id) != -1\r\n        ) != undefined;\r\n      let currentStep_fekraTakhtitya =\r\n        [2322, 3099].indexOf(\r\n          result.steps_history.currentSteps.currentStep.id\r\n        ) != -1;\r\n      if (prevStep_fekraTakhtitya || currentStep_fekraTakhtitya) {\r\n        this.setState({ isImageShown: true });\r\n      }\r\n    });\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps, nextState) {\r\n    return true;\r\n  }\r\n\r\n  // calculateSchemanticProportions = (uplodedFeatures, statisticsParcels, planDetails) => {\r\n  //   var msa7y_area = _.chain(\r\n  //     this.props.mainObject.data_msa7y.msa7yData.cadDetails.suggestionsParcels\r\n  //   )\r\n  //     .reduce(function (a, b) {\r\n  //       return a + +b.area;\r\n  //     }, 0)\r\n  //     .value();\r\n\r\n  //   var cutAreaIsCut =\r\n  //     _.chain(uplodedFeatures.shapeFeatures.landbase)\r\n  //       .filter((parcel) => {\r\n  //         return parcel.is_cut && parcel.is_cut != 2;\r\n  //       })\r\n  //       .reduce((a, b) => {\r\n  //         return a + +b.area;\r\n  //       }, 0)\r\n  //       .value() +\r\n  //     (_.chain(statisticsParcels)\r\n  //       ?.filter((parcel) => parcel.isInvestalIncluded == true)\r\n  //       ?.reduce((a, b) => {\r\n  //         return a + +b.area;\r\n  //       }, 0)\r\n  //       ?.value() || 0);\r\n\r\n  //   var totalLandbasesArea = _.chain(uplodedFeatures.shapeFeatures.landbase)\r\n  //     .reduce((a, b) => {\r\n  //       return a + +b.area;\r\n  //     }, 0)\r\n  //     .value();\r\n\r\n  //   var newCutArea = this.props.mainObject.submission_data.mostafed_data\r\n  //     .e3adt_tanzem\r\n  //     ? msa7y_area - (totalLandbasesArea - cutAreaIsCut)\r\n  //     : cutAreaIsCut;\r\n\r\n  //   let nesabIndex = statisticsParcels.findIndex(\r\n  //     (parcel) => parcel.name == \"النسب التخطيطية\"\r\n  //   );\r\n  //   let nesabObj = {\r\n  //     name: \"النسب التخطيطية\",\r\n  //     area: newCutArea,\r\n  //     areaPercentage:\r\n  //       (newCutArea /\r\n  //         ((this.props.mainObject.submission_data.mostafed_data.e3adt_tanzem &&\r\n  //           msa7y_area) ||\r\n  //           planDetails.TotalParcelArea)) *\r\n  //       100,\r\n  //   };\r\n  //   if (nesabIndex == -1) {\r\n  //     statisticsParcels.push(nesabObj);\r\n  //   } else {\r\n  //     statisticsParcels[nesabIndex] = nesabObj;\r\n  //   }\r\n  // };\r\n\r\n  handleParcelChange = (page) => {\r\n    this.setState({\r\n      currentParcelPage: page,\r\n      minParcelIndex: (page - 1) * this.pageSize,\r\n      maxParcelIndex: page * this.pageSize,\r\n    });\r\n  };\r\n\r\n  handleStreetChange = (page) => {\r\n    this.setState({\r\n      currentStreetPage: page,\r\n      minStreetIndex: (page - 1) * this.pageSize,\r\n      maxStreetIndex: page * this.pageSize,\r\n    });\r\n  };\r\n\r\n  isValidCondition = (parcel) => {\r\n    const { mainObject } = this.props;\r\n    if (parcel.usingSymbol) {\r\n      var condition = _.find(mainObject.buildingCondition, function (d) {\r\n        return d.attributes.USING_SYMBOL_CODE == parcel.usingSymbol;\r\n      });\r\n      if (condition && condition.attributes && condition.attributes.SLIDE_AREA)\r\n        return condition.attributes.SLIDE_AREA <= parcel.area;\r\n      else return true;\r\n    } else return true;\r\n  };\r\n\r\n  openPopup = (key, evt) => {\r\n    var fields = this.fields;\r\n\r\n    let data =\r\n      (!this.props?.treeNode?.option?.data && this.props?.data?.data) ||\r\n      (!this.props?.data?.data && this.props?.data) ||\r\n      this.props?.treeNode?.option?.data ||\r\n      this.props?.data?.data;\r\n    let uplodedFeatures = data?.planDetails.uplodedFeatures;\r\n    let selectedCADIndex = data?.planDetails.selectedCADIndex;\r\n\r\n    // const {\r\n    //   input: { value },\r\n    // } = this.props;\r\n\r\n    let selectedPlan = uplodedFeatures && uplodedFeatures[selectedCADIndex];\r\n    this.props.setMain(\"Popup\", {\r\n      popup: {\r\n        type: \"create\",\r\n        childProps: {\r\n          fields,\r\n          initialValues: {\r\n            ...selectedPlan.shapeFeatures.landbase[key],\r\n          },\r\n          ok(values) {\r\n            return Promise.resolve(true);\r\n          },\r\n        },\r\n      },\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      mainObject: {\r\n        streetlengthsPercentage,\r\n        data_msa7y: {\r\n          msa7yData: { cadDetails },\r\n        },\r\n        landData: {\r\n          landData: {\r\n            lands: {\r\n              parcelData: { plans_approved_Image, approved_Image },\r\n            },\r\n          },\r\n        },\r\n        currentStepId,\r\n      },\r\n      currentModule: {\r\n        record: { CurrentStep },\r\n      },\r\n    } = this.props;\r\n    const { isImageShown } = this.state;\r\n    this.pageSize = 15;\r\n\r\n    let data =\r\n      (!this.props?.treeNode?.option?.data && this.props?.data?.data) ||\r\n      (!this.props?.data?.data && this.props?.data) ||\r\n      this.props?.treeNode?.option?.data ||\r\n      this.props?.data?.data;\r\n    let planDetails = data?.planDetails;\r\n\r\n    let planDescription = cadDetails.planDescription || \"\";\r\n    let planUsingSymbol = planDetails.planUsingSymbol || \"\";\r\n    let hide_details = planDetails.hide_details || false;\r\n    let current_step = (CurrentStep && CurrentStep.id) || currentStepId;\r\n    let streets = planDetails.streets || [];\r\n    let minStreetIndex = this.state.minStreetIndex || 0;\r\n    let maxStreetIndex = this.state.maxStreetIndex || 1 * this.pageSize;\r\n    let currentStreetPage = this.state.currentStreetPage || 1;\r\n    let currentParcelPage = this.state.currentParcelPage || 1;\r\n    let minParcelIndex = this.state.minParcelIndex || 0;\r\n    let maxParcelIndex = this.state.maxParcelIndex || 1 * this.pageSize;\r\n    let uplodedFeatures = planDetails.uplodedFeatures;\r\n    let selectedCADIndex = planDetails.selectedCADIndex;\r\n\r\n    let detailsParcelTypes = planDetails.detailsParcelTypes || [];\r\n    let TotalParcelArea =\r\n      planDetails.TotalParcelArea ||\r\n      (uplodedFeatures &&\r\n        uplodedFeatures[\r\n          planDetails.selectedCADIndex || 0\r\n        ]?.shapeFeatures?.landbase?.reduce((a, b) => a + b.area, 0)) ||\r\n      0;\r\n    let servicesTypes = planDetails.servicesTypes || [];\r\n    let selectedPlan = uplodedFeatures && uplodedFeatures[selectedCADIndex];\r\n    let statisticsParcels =\r\n      (planDetails.statisticsParcels.filter(\r\n        (parcel) => parcel.isInvestalIncluded\r\n      ).length > 0 &&\r\n        planDetails.statisticsParcels) ||\r\n      [];\r\n    if (statisticsParcels.length == 0) {\r\n      statisticsParcels = updateStatisticParcels(\r\n        selectedPlan,\r\n        planDetails,\r\n        this.props.mainObject\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        {isImageShown &&\r\n          checkImage(this.props, plans_approved_Image || approved_Image, {\r\n            width: \"100%\",\r\n          })}\r\n        {planDescription && (\r\n          <div style={planDescStyle}>{convertToArabic(planDescription)}</div>\r\n        )}\r\n\r\n        {planUsingSymbol && (\r\n          <div className=\"usingsymbolStyle\">\r\n            {convertToArabic(planUsingSymbol)}\r\n          </div>\r\n        )}\r\n\r\n        {!hide_details && (\r\n          <div style={containerDetails}>\r\n            <Collapse className=\"Collapse\" defaultActiveKey={[\"0\"]}>\r\n              <Panel\r\n                key={1}\r\n                header={`الشوارع`}\r\n                forceRender={true}\r\n                style={{ margin: \"5px\" }}\r\n              >\r\n                <table className=\"table table-bordered no-margin table-striped\">\r\n                  <thead>\r\n                    <tr>\r\n                      {[2331, 3126].indexOf(current_step) != -1 && (\r\n                        <>\r\n                          {streets?.find((x) => x.streetname != undefined) !=\r\n                            undefined && <td>اسم الشارع</td>}\r\n                          {streets?.find((x) => x.streetClass != undefined) !=\r\n                            undefined && <td>صنف الشارع</td>}\r\n                          {streets?.find((x) => x.streetType != undefined) !=\r\n                            undefined && <td>نوع الشارع</td>}\r\n                          {streets?.find((x) => x.oneWay != undefined) !=\r\n                            undefined && <td>باتجاه واحد</td>}\r\n                          {streets?.find((x) => x.divided != undefined) !=\r\n                            undefined && <td>الطريقة مفصولة بجزيرة وسطية</td>}\r\n                        </>\r\n                      )}\r\n                      <td>الطول (م)</td>\r\n                      <td>العرض (م)</td>\r\n                      <td>يحسب ضمن معدل نسبة أطوال الشوارع بالمخطط</td>\r\n                      <td></td>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {streets &&\r\n                      streets.map((street, index) => {\r\n                        return (\r\n                          index >= minStreetIndex &&\r\n                          index < maxStreetIndex && (\r\n                            <tr>\r\n                              {[2331, 3126].indexOf(current_step) != -1 && (\r\n                                <>\r\n                                  {street.streetname != undefined && (\r\n                                    <td>{street.streetname}</td>\r\n                                  )}\r\n                                  {street.streetClass != undefined && (\r\n                                    <td>\r\n                                      {\r\n                                        this.domains?.[9]?.domain?.codedValues.find(\r\n                                          (x) => x.code == street.streetClass\r\n                                        )?.name\r\n                                      }\r\n                                    </td>\r\n                                  )}\r\n                                  {street.streetType != undefined && (\r\n                                    <td>\r\n                                      {\r\n                                        this.domains?.[10]?.domain?.codedValues.find(\r\n                                          (x) => x.code == street.streetType\r\n                                        )?.name\r\n                                      }\r\n                                    </td>\r\n                                  )}\r\n                                  {street.oneWay != undefined && (\r\n                                    <td>{(street.oneWay && \"نعم\") || \"لا\"}</td>\r\n                                  )}\r\n                                  {street.divided != undefined && (\r\n                                    <td>{(street.divided && \"نعم\") || \"لا\"}</td>\r\n                                  )}\r\n                                </>\r\n                              )}\r\n                              <td>\r\n                                {convertToArabic(\r\n                                  parseFloat(street?.length?.toFixed(2))\r\n                                )}\r\n                              </td>\r\n                              <td>\r\n                                {convertToArabic(\r\n                                  parseFloat(street?.width?.toFixed(2))\r\n                                )}\r\n                              </td>\r\n                              <td>\r\n                                <input\r\n                                  type=\"checkbox\"\r\n                                  style={{\r\n                                    width: \"20px\",\r\n                                    height: \"20px\",\r\n                                    margin: \"3px\",\r\n                                  }}\r\n                                  checked={street.checked}\r\n                                  disabled={true}\r\n                                />\r\n                              </td>\r\n                            </tr>\r\n                          )\r\n                        );\r\n                      })}\r\n                    <tr>\r\n                      <td>معدل نسبة أطوال الشوارع في المخطط</td>\r\n                      <td colSpan={\"100%\"}>\r\n                        {convertToArabic(streetlengthsPercentage) +\r\n                          \" م ط / هكتار\"}\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n                <Pagination\r\n                  pageSize={this.pageSize}\r\n                  current={currentStreetPage}\r\n                  total={streets.length}\r\n                  onChange={this.handleStreetChange}\r\n                  style={{ bottom: \"0px\", position: \"static\" }}\r\n                />\r\n              </Panel>\r\n              <Panel\r\n                key={3}\r\n                header={`قطع الأراضي`}\r\n                forceRender={true}\r\n                style={{ margin: \"5px\" }}\r\n              >\r\n                <section style={{ display: \"flex\", marginTop: \"20px\" }}>\r\n                  <div style={{ width: \"100%\" }}>\r\n                    <table className=\"table table-bordered no-margin table-striped\">\r\n                      <thead>\r\n                        <tr>\r\n                          <td>رقم القطعة</td>\r\n                          <td>الاستخدام</td>\r\n                          {(current_step == 2329 ||\r\n                            current_step == 2330 ||\r\n                            current_step == 2372 ||\r\n                            current_step == 2902 ||\r\n                            current_step == 2903 ||\r\n                            current_step == 2895 ||\r\n                            current_step == 2896 ||\r\n                            current_step == 2897 ||\r\n                            current_step == 2898 ||\r\n                            current_step == 2899 ||\r\n                            current_step == 2900 ||\r\n                            current_step == 2901 ||\r\n                            current_step == 2331 ||\r\n                            current_step == 2371 ||\r\n                            current_step == 3117 ||\r\n                            current_step == 3118 ||\r\n                            current_step == 3119 ||\r\n                            current_step == 3120 ||\r\n                            current_step == 3121 ||\r\n                            current_step == 3122 ||\r\n                            current_step == 3123 ||\r\n                            current_step == 3124 ||\r\n                            current_step == 3125 ||\r\n                            current_step == 3126 ||\r\n                            current_step == 3130 ||\r\n                            current_step == 3132 ||\r\n                            current_step == 3133) && (\r\n                            <td>طول الحد الشمالي (م)</td>\r\n                          )}\r\n                          {(current_step == 2329 ||\r\n                            current_step == 2330 ||\r\n                            current_step == 2372 ||\r\n                            current_step == 2902 ||\r\n                            current_step == 2903 ||\r\n                            current_step == 2895 ||\r\n                            current_step == 2896 ||\r\n                            current_step == 2897 ||\r\n                            current_step == 2898 ||\r\n                            current_step == 2899 ||\r\n                            current_step == 2900 ||\r\n                            current_step == 2901 ||\r\n                            current_step == 2331 ||\r\n                            current_step == 2371 ||\r\n                            current_step == 3117 ||\r\n                            current_step == 3118 ||\r\n                            current_step == 3119 ||\r\n                            current_step == 3120 ||\r\n                            current_step == 3121 ||\r\n                            current_step == 3122 ||\r\n                            current_step == 3123 ||\r\n                            current_step == 3124 ||\r\n                            current_step == 3125 ||\r\n                            current_step == 3126 ||\r\n                            current_step == 3130 ||\r\n                            current_step == 3132 ||\r\n                            current_step == 3133) && (\r\n                            <td>طول الحد الشرقي (م)</td>\r\n                          )}\r\n                          {(current_step == 2329 ||\r\n                            current_step == 2330 ||\r\n                            current_step == 2372 ||\r\n                            current_step == 2902 ||\r\n                            current_step == 2903 ||\r\n                            current_step == 2895 ||\r\n                            current_step == 2896 ||\r\n                            current_step == 2897 ||\r\n                            current_step == 2898 ||\r\n                            current_step == 2899 ||\r\n                            current_step == 2900 ||\r\n                            current_step == 2901 ||\r\n                            current_step == 2331 ||\r\n                            current_step == 2371 ||\r\n                            current_step == 3117 ||\r\n                            current_step == 3118 ||\r\n                            current_step == 3119 ||\r\n                            current_step == 3120 ||\r\n                            current_step == 3121 ||\r\n                            current_step == 3122 ||\r\n                            current_step == 3123 ||\r\n                            current_step == 3124 ||\r\n                            current_step == 3125 ||\r\n                            current_step == 3126 ||\r\n                            current_step == 3130 ||\r\n                            current_step == 3132 ||\r\n                            current_step == 3133) && (\r\n                            <td>طول الحد الجنوبي (م)</td>\r\n                          )}\r\n                          {(current_step == 2329 ||\r\n                            current_step == 2330 ||\r\n                            current_step == 2372 ||\r\n                            current_step == 2902 ||\r\n                            current_step == 2903 ||\r\n                            current_step == 2895 ||\r\n                            current_step == 2896 ||\r\n                            current_step == 2897 ||\r\n                            current_step == 2898 ||\r\n                            current_step == 2899 ||\r\n                            current_step == 2900 ||\r\n                            current_step == 2901 ||\r\n                            current_step == 2331 ||\r\n                            current_step == 2371 ||\r\n                            current_step == 3117 ||\r\n                            current_step == 3118 ||\r\n                            current_step == 3119 ||\r\n                            current_step == 3120 ||\r\n                            current_step == 3121 ||\r\n                            current_step == 3122 ||\r\n                            current_step == 3123 ||\r\n                            current_step == 3124 ||\r\n                            current_step == 3125 ||\r\n                            current_step == 3126 ||\r\n                            current_step == 3130 ||\r\n                            current_step == 3132 ||\r\n                            current_step == 3133) && (\r\n                            <td>طول الحد الغربي (م)</td>\r\n                          )}\r\n                          <td>المساحة (م۲)</td>\r\n                          {current_step != 2329 &&\r\n                            current_step != 3117 &&\r\n                            current_step != 2330 &&\r\n                            current_step != 3118 &&\r\n                            current_step != 2371 &&\r\n                            current_step != 3119 && <td>طول الواجهة (م)</td>}\r\n                          {(current_step == 2329 ||\r\n                            current_step == 2330 ||\r\n                            current_step == 2372 ||\r\n                            current_step == 2902 ||\r\n                            current_step == 2903 ||\r\n                            current_step == 2895 ||\r\n                            current_step == 2896 ||\r\n                            current_step == 2897 ||\r\n                            current_step == 2898 ||\r\n                            current_step == 2899 ||\r\n                            current_step == 2900 ||\r\n                            current_step == 2901 ||\r\n                            current_step == 2331 ||\r\n                            current_step == 2371 ||\r\n                            current_step == 3117 ||\r\n                            current_step == 3118 ||\r\n                            current_step == 3119 ||\r\n                            current_step == 3120 ||\r\n                            current_step == 3121 ||\r\n                            current_step == 3122 ||\r\n                            current_step == 3123 ||\r\n                            current_step == 3124 ||\r\n                            current_step == 3125 ||\r\n                            current_step == 3126 ||\r\n                            current_step == 3130 ||\r\n                            current_step == 3132 ||\r\n                            current_step == 3133) && <td>ملاحظات</td>}\r\n\r\n                          <td>الشطفات</td>\r\n\r\n                          <td></td>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        {selectedPlan?.shapeFeatures?.landbase?.map(\r\n                          (parcel, index) => {\r\n                            return (\r\n                              !parcel.isHide &&\r\n                              index >= minParcelIndex &&\r\n                              index < maxParcelIndex && (\r\n                                <tr\r\n                                  style={\r\n                                    (this.isValidCondition(parcel) && {\r\n                                      backgroundColor: \"white\",\r\n                                    }) || { backgroundColor: \"#f58c8c\" }\r\n                                  }\r\n                                >\r\n                                  <td>{convertToArabic(parcel.number)}</td>\r\n                                  <td>\r\n                                    {convertToArabic(parcel.usingSymbolName)}\r\n                                  </td>\r\n\r\n                                  {(current_step == 2329 ||\r\n                                    current_step == 2330 ||\r\n                                    current_step == 2372 ||\r\n                                    current_step == 2902 ||\r\n                                    current_step == 2903 ||\r\n                                    current_step == 2895 ||\r\n                                    current_step == 2896 ||\r\n                                    current_step == 2897 ||\r\n                                    current_step == 2898 ||\r\n                                    current_step == 2899 ||\r\n                                    current_step == 2900 ||\r\n                                    current_step == 2901 ||\r\n                                    current_step == 2331 ||\r\n                                    current_step == 2371 ||\r\n                                    current_step == 3117 ||\r\n                                    current_step == 3118 ||\r\n                                    current_step == 3119 ||\r\n                                    current_step == 3120 ||\r\n                                    current_step == 3121 ||\r\n                                    current_step == 3122 ||\r\n                                    current_step == 3123 ||\r\n                                    current_step == 3124 ||\r\n                                    current_step == 3125 ||\r\n                                    current_step == 3126 ||\r\n                                    current_step == 3130 ||\r\n                                    current_step == 3132 ||\r\n                                    current_step == 3133) && (\r\n                                    <td>\r\n                                      {convertToArabic(\r\n                                        parseFloat(\r\n                                          parcel?.north_length?.toFixed(2)\r\n                                        )\r\n                                      )}\r\n                                    </td>\r\n                                  )}\r\n                                  {(current_step == 2329 ||\r\n                                    current_step == 2330 ||\r\n                                    current_step == 2372 ||\r\n                                    current_step == 2902 ||\r\n                                    current_step == 2903 ||\r\n                                    current_step == 2895 ||\r\n                                    current_step == 2896 ||\r\n                                    current_step == 2897 ||\r\n                                    current_step == 2898 ||\r\n                                    current_step == 2899 ||\r\n                                    current_step == 2900 ||\r\n                                    current_step == 2901 ||\r\n                                    current_step == 2331 ||\r\n                                    current_step == 2371 ||\r\n                                    current_step == 3117 ||\r\n                                    current_step == 3118 ||\r\n                                    current_step == 3119 ||\r\n                                    current_step == 3120 ||\r\n                                    current_step == 3121 ||\r\n                                    current_step == 3122 ||\r\n                                    current_step == 3123 ||\r\n                                    current_step == 3124 ||\r\n                                    current_step == 3125 ||\r\n                                    current_step == 3126 ||\r\n                                    current_step == 3130 ||\r\n                                    current_step == 3132 ||\r\n                                    current_step == 3133) && (\r\n                                    <td>\r\n                                      {convertToArabic(\r\n                                        parseFloat(\r\n                                          parcel?.east_length?.toFixed(2)\r\n                                        )\r\n                                      )}\r\n                                    </td>\r\n                                  )}\r\n                                  {(current_step == 2329 ||\r\n                                    current_step == 2330 ||\r\n                                    current_step == 2372 ||\r\n                                    current_step == 2902 ||\r\n                                    current_step == 2903 ||\r\n                                    current_step == 2895 ||\r\n                                    current_step == 2896 ||\r\n                                    current_step == 2897 ||\r\n                                    current_step == 2898 ||\r\n                                    current_step == 2899 ||\r\n                                    current_step == 2900 ||\r\n                                    current_step == 2901 ||\r\n                                    current_step == 2331 ||\r\n                                    current_step == 2371 ||\r\n                                    current_step == 3117 ||\r\n                                    current_step == 3118 ||\r\n                                    current_step == 3119 ||\r\n                                    current_step == 3120 ||\r\n                                    current_step == 3121 ||\r\n                                    current_step == 3122 ||\r\n                                    current_step == 3123 ||\r\n                                    current_step == 3124 ||\r\n                                    current_step == 3125 ||\r\n                                    current_step == 3126 ||\r\n                                    current_step == 3130 ||\r\n                                    current_step == 3132 ||\r\n                                    current_step == 3133) && (\r\n                                    <td>\r\n                                      {convertToArabic(\r\n                                        parseFloat(\r\n                                          parcel?.south_length?.toFixed(2)\r\n                                        )\r\n                                      )}\r\n                                    </td>\r\n                                  )}\r\n                                  {(current_step == 2329 ||\r\n                                    current_step == 2330 ||\r\n                                    current_step == 2372 ||\r\n                                    current_step == 2902 ||\r\n                                    current_step == 2903 ||\r\n                                    current_step == 2895 ||\r\n                                    current_step == 2896 ||\r\n                                    current_step == 2897 ||\r\n                                    current_step == 2898 ||\r\n                                    current_step == 2899 ||\r\n                                    current_step == 2900 ||\r\n                                    current_step == 2901 ||\r\n                                    current_step == 2331 ||\r\n                                    current_step == 2371 ||\r\n                                    current_step == 3117 ||\r\n                                    current_step == 3118 ||\r\n                                    current_step == 3119 ||\r\n                                    current_step == 3120 ||\r\n                                    current_step == 3121 ||\r\n                                    current_step == 3122 ||\r\n                                    current_step == 3123 ||\r\n                                    current_step == 3124 ||\r\n                                    current_step == 3125 ||\r\n                                    current_step == 3126 ||\r\n                                    current_step == 3130 ||\r\n                                    current_step == 3132 ||\r\n                                    current_step == 3133) && (\r\n                                    <td>\r\n                                      {convertToArabic(\r\n                                        parseFloat(\r\n                                          parcel?.weast_length?.toFixed(2)\r\n                                        )\r\n                                      )}\r\n                                    </td>\r\n                                  )}\r\n\r\n                                  <td>\r\n                                    {convertToArabic(\r\n                                      parseFloat(\r\n                                        +parcel?.area?.toFixed(2) -\r\n                                          (parcel.cuttes_area ||\r\n                                            (parcel.survayParcelCutter &&\r\n                                              +parcel.survayParcelCutter[0]\r\n                                                .NORTH_EAST_DIRECTION +\r\n                                                +parcel.survayParcelCutter[0]\r\n                                                  .NORTH_WEST_DIRECTION +\r\n                                                +parcel.survayParcelCutter[0]\r\n                                                  .SOUTH_EAST_DIRECTION +\r\n                                                +parcel.survayParcelCutter[0]\r\n                                                  .SOUTH_WEST_DIRECTION) ||\r\n                                            0)\r\n                                      )\r\n                                    )}\r\n                                  </td>\r\n\r\n                                  {((current_step &&\r\n                                    [2317, 3095].indexOf(current_step) != -1 &&\r\n                                    [2329, 3117].indexOf(current_step) == -1) ||\r\n                                    !current_step) && (\r\n                                    <td>{parcel.frontLength}</td>\r\n                                  )}\r\n                                  {current_step &&\r\n                                    current_step != 2317 &&\r\n                                    current_step != 3095 &&\r\n                                    current_step != 2330 &&\r\n                                    current_step != 2329 &&\r\n                                    current_step != 2371 &&\r\n                                    current_step != 3117 &&\r\n                                    current_step != 3118 &&\r\n                                    current_step != 3119 && (\r\n                                      <td>\r\n                                        {convertToArabic(parcel.frontLength)}\r\n                                      </td>\r\n                                    )}\r\n                                  {(current_step == 2329 ||\r\n                                    current_step == 2330 ||\r\n                                    current_step == 2372 ||\r\n                                    current_step == 2902 ||\r\n                                    current_step == 2903 ||\r\n                                    current_step == 2895 ||\r\n                                    current_step == 2896 ||\r\n                                    current_step == 2897 ||\r\n                                    current_step == 2898 ||\r\n                                    current_step == 2899 ||\r\n                                    current_step == 2900 ||\r\n                                    current_step == 2901 ||\r\n                                    current_step == 2331 ||\r\n                                    current_step == 2371 ||\r\n                                    current_step == 3117 ||\r\n                                    current_step == 3118 ||\r\n                                    current_step == 3119 ||\r\n                                    current_step == 3120 ||\r\n                                    current_step == 3121 ||\r\n                                    current_step == 3122 ||\r\n                                    current_step == 3123 ||\r\n                                    current_step == 3124 ||\r\n                                    current_step == 3125 ||\r\n                                    current_step == 3126 ||\r\n                                    current_step == 3130 ||\r\n                                    current_step == 3132 ||\r\n                                    current_step == 3133) && (\r\n                                    <td>{convertToArabic(parcel.note)}</td>\r\n                                  )}\r\n                                  {(parcel?.survayParcelCutter?.length > 0 && (\r\n                                    <td>\r\n                                      <button\r\n                                        className=\"btn\"\r\n                                        onClick={this.openPopup.bind(\r\n                                          this,\r\n                                          index\r\n                                        )}\r\n                                      >\r\n                                        تعديل الشطفات\r\n                                      </button>\r\n                                    </td>\r\n                                  )) || <td></td>}\r\n                                  {!this.isValidCondition(parcel) && (\r\n                                    <td>\r\n                                      <Tooltip title=\"المساحة لا تطابق اشتراطات البناء\">\r\n                                        <i className=\"fa fa-exclamation-circle\"></i>\r\n                                      </Tooltip>\r\n                                    </td>\r\n                                  )}\r\n                                </tr>\r\n                              )\r\n                            );\r\n                          }\r\n                        )}\r\n                      </tbody>\r\n                    </table>\r\n\r\n                    <Pagination\r\n                      pageSize={this.pageSize}\r\n                      current={currentParcelPage}\r\n                      total={selectedPlan?.shapeFeatures?.landbase?.length || 0}\r\n                      onChange={this.handleParcelChange}\r\n                      style={{ bottom: \"0px\", position: \"static\" }}\r\n                    />\r\n                  </div>\r\n                </section>\r\n              </Panel>\r\n              <Panel\r\n                key={4}\r\n                header={`النسب التخطيطية`}\r\n                forceRender={true}\r\n                style={{ margin: \"5px\" }}\r\n              >\r\n                <div style={{ width: \"100%\" }}>\r\n                  <table className=\"table table-bordered no-margin table-striped\">\r\n                    <thead>\r\n                      <tr>\r\n                        <td>الاستخدام</td>\r\n                        <td>المساحة (م۲)</td>\r\n                        <td>النسبة المئوية (%)</td>\r\n                        <td>تحسب ضمن النسب التخطيطية</td>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {statisticsParcels\r\n                        ?.filter(\r\n                          (parcel) => [1, 2].indexOf(parcel.is_cut) != -1\r\n                        )\r\n                        ?.map((parcel, index) => {\r\n                          return (\r\n                            <tr>\r\n                              {parcel.name != \"undefined\" && (\r\n                                <td>{parcel.name}</td>\r\n                              )}\r\n                              <td>\r\n                                {convertToArabic(\r\n                                  parseFloat(parcel?.area?.toFixed(2))\r\n                                )}\r\n                              </td>\r\n                              <td>\r\n                                {convertToArabic(\r\n                                  parseFloat(parcel?.areaPercentage?.toFixed(2))\r\n                                )}\r\n                              </td>\r\n                              <td>\r\n                                <span>\r\n                                  <input\r\n                                    type=\"checkbox\"\r\n                                    style={{\r\n                                      width: \"20px\",\r\n                                      height: \"20px\",\r\n                                      margin: \"3px\",\r\n                                    }}\r\n                                    checked={\r\n                                      parcel.is_cut == 1\r\n                                        ? true\r\n                                        : parcel.isInvestalIncluded\r\n                                    }\r\n                                    disabled={true}\r\n                                  />\r\n                                </span>\r\n                              </td>\r\n                            </tr>\r\n                          );\r\n                        })}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </Panel>\r\n              <Panel\r\n                key={5}\r\n                header={`مؤشر نسب الاستعمالات`}\r\n                forceRender={true}\r\n                style={{ margin: \"5px\" }}\r\n              >\r\n                <table className=\"table table-bordered no-margin table-striped\">\r\n                  <thead>\r\n                    <tr>\r\n                      <td>الاستخدام</td>\r\n                      <td>المساحة (م۲)</td>\r\n                      <td>النسبة المئوية (%)</td>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {statisticsParcels.map((parcel, index) => {\r\n                      return (\r\n                        <tr>\r\n                          {parcel.name == \"undefined\" && <td>اخرى</td>}\r\n                          {parcel.name != \"undefined\" && <td>{parcel.name}</td>}\r\n                          <td>\r\n                            {convertToArabic(\r\n                              parseFloat(parcel?.area?.toFixed(2))\r\n                            )}\r\n                          </td>\r\n                          <td>\r\n                            {convertToArabic(\r\n                              parseFloat(parcel?.areaPercentage?.toFixed(2))\r\n                            )}\r\n                          </td>\r\n                        </tr>\r\n                      );\r\n                    })}\r\n                  </tbody>\r\n                </table>\r\n              </Panel>\r\n              <Panel\r\n                key={6}\r\n                header={`الميزانية التفصيلية`}\r\n                forceRender={true}\r\n                style={{ margin: \"5px\" }}\r\n              >\r\n                <section style={{ display: \"flex\", marginTop: \"20px\" }}>\r\n                  <table className=\"table table-bordered no-margin table-striped\">\r\n                    <thead>\r\n                      <tr>\r\n                        <td>الاستعمال</td>\r\n                        <td>الاستعمال الفرعي</td>\r\n                        <td>العدد</td>\r\n                        <td>المساحة (م۲)</td>\r\n                        <td>النسبة المئوية (%)</td>\r\n                        <td>النسبة المئوية الإجمالية (%)</td>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                      {detailsParcelTypes.map((detail, index) => {\r\n                        return (\r\n                          <tr>\r\n                            {detail.key == \"undefined\" && <td>اخرى</td>}\r\n                            {detail.key != \"undefined\" && <td>{detail.key}</td>}\r\n                            <td>\r\n                              <table className=\"table no-margin table-striped\">\r\n                                {Object.values(detail.value).map(\r\n                                  (value, index) => {\r\n                                    return (\r\n                                      <tr>\r\n                                        <td>\r\n                                          {(value.value[0].subType &&\r\n                                            value.value[0].subType\r\n                                              .sublayer_description) ||\r\n                                            \"\"}\r\n                                        </td>\r\n                                      </tr>\r\n                                    );\r\n                                  }\r\n                                )}\r\n                              </table>\r\n                            </td>\r\n                            <td>\r\n                              <table className=\"table no-margin table-striped\">\r\n                                {Object.values(detail.value).map(\r\n                                  (value, index) => {\r\n                                    return (\r\n                                      <tr>\r\n                                        <td>\r\n                                          {convertToArabic(value.value.length)}\r\n                                        </td>\r\n                                      </tr>\r\n                                    );\r\n                                  }\r\n                                )}\r\n                              </table>\r\n                            </td>\r\n                            <td>\r\n                              <table className=\"table no-margin table-striped\">\r\n                                {Object.values(detail.value).map(\r\n                                  (value, index) => {\r\n                                    return (\r\n                                      <tr>\r\n                                        <td>\r\n                                          {convertToArabic(\r\n                                            parseFloat(\r\n                                              value?.total_area?.toFixed(2)\r\n                                            )\r\n                                          )}\r\n                                        </td>\r\n                                      </tr>\r\n                                    );\r\n                                  }\r\n                                )}\r\n                              </table>\r\n                            </td>\r\n                            <td>\r\n                              <table className=\"table no-margin table-striped\">\r\n                                {Object.values(detail.value).map(\r\n                                  (value, index) => {\r\n                                    return (\r\n                                      <tr>\r\n                                        <td>\r\n                                          {convertToArabic(\r\n                                            parseFloat(\r\n                                              (\r\n                                                (value.total_area /\r\n                                                  TotalParcelArea) *\r\n                                                100\r\n                                              )?.toFixed(2)\r\n                                            )\r\n                                          )}\r\n                                        </td>\r\n                                      </tr>\r\n                                    );\r\n                                  }\r\n                                )}\r\n                              </table>\r\n                            </td>\r\n                            <td>\r\n                              {convertToArabic(\r\n                                parseFloat(\r\n                                  (\r\n                                    (detail.usingTypeArea / TotalParcelArea) *\r\n                                    100\r\n                                  )?.toFixed(2)\r\n                                )\r\n                              )}\r\n                            </td>\r\n                          </tr>\r\n                        );\r\n                      })}\r\n                      <tr>\r\n                        <td>معدل نسبة أطوال الشوارع في المخطط</td>\r\n                        <td colSpan={5}>\r\n                          {convertToArabic(streetlengthsPercentage) +\r\n                            \" م ط / هكتار\"}\r\n                        </td>\r\n                      </tr>\r\n                    </tbody>\r\n                  </table>\r\n                </section>\r\n              </Panel>\r\n            </Collapse>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  appMapDispatchToProps\r\n)(withTranslation(\"labels\")(allAttachments));\r\n"],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;;;;;;;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnBA;AACA;AACA;AACA;AAWA;AAYA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAwEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAAA;AAEA;AACA;AAEA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAzLA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAKA;AAIA;AAIA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AAsHA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAEA;AAKA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAOA;AACA;AACA;AAMA;AACA;AAKA;AAEA;AAIA;AACA;AAEA;AAAA;AAIA;AAAA;AAMA;AAAA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAyBA;AACA;AA+CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAMA;AAGA;AAAA;AAQA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAmKA;AACA;AAKA;AAEA;AACA;AAAA;AAAA;AACA;AA0NA;AACA;AAGA;AAQA;AAAA;AACA;AAAA;AAOA;AAMA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAcA;AACA;AAkBA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AAAA;AAMA;AAMA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AASA;AACA;AAgBA;AAKA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAYA;AACA;AAKA;AAAA;AAGA;AAUA;AAKA;AAAA;AAGA;AAOA;AAKA;AAAA;AAEA;AACA;AAWA;AAKA;AAAA;AAEA;AACA;AAeA;AAgBA;AAGA;AAAA;AAcA;AACA;AAEA;;;;A","sourceRoot":""}