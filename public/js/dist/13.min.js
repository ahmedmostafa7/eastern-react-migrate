(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[13],{

/***/ "./node_modules/css-loader/dist/cjs.js!./src/app/components/inputs/fields/identify/Component/msa7yDataComponent/planDataStyle.css":
/*!****************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/app/components/inputs/fields/identify/Component/msa7yDataComponent/planDataStyle.css ***!
  \****************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../../../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js")(false);
// Module
exports.push([module.i, ".usingsymbolStyle {\r\n    background: green;\r\n    color: white;\r\n    text-align: center;\r\n    padding: 15px;\r\n    margin-top: 15px;\r\n    margin-bottom: 15px;\r\n    font-size: 18px;\r\n}\r\n\r\n\r\n", ""]);



/***/ }),

/***/ "./src/app/components/inputs/fields/identify/Component/msa7yDataComponent/Entity/PlanEntity.js":
/*!*****************************************************************************************************!*\
  !*** ./src/app/components/inputs/fields/identify/Component/msa7yDataComponent/Entity/PlanEntity.js ***!
  \*****************************************************************************************************/
/*! exports provided: PlanEntity */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PlanEntity", function() { return PlanEntity; });
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_isEmpty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/isEmpty */ "./node_modules/lodash/isEmpty.js");
/* harmony import */ var lodash_isEmpty__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_isEmpty__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! axios */ "./node_modules/axios/index.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _helpers_apiMethods__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../../helpers/apiMethods */ "./src/app/helpers/apiMethods/index.js");
/* harmony import */ var _common_common_func__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../common/common_func */ "./src/app/components/inputs/fields/identify/Component/common/common_func.js");
/* harmony import */ var _common_esri_loader__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../common/esri_loader */ "./src/app/components/inputs/fields/identify/Component/common/esri_loader.js");
/* harmony import */ var _common_esri_request__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../common/esri_request */ "./src/app/components/inputs/fields/identify/Component/common/esri_request.js");
/* harmony import */ var _mapviewer_config_map__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../mapviewer/config/map */ "./src/app/components/inputs/fields/identify/Component/mapviewer/config/map.js");


function _classPrivateFieldInitSpec(obj, privateMap, value) {
  _checkPrivateRedeclaration(obj, privateMap);
  privateMap.set(obj, value);
}
function _checkPrivateRedeclaration(obj, privateCollection) {
  if (privateCollection.has(obj)) {
    throw new TypeError("Cannot initialize the same private elements twice on an object");
  }
}
function _classPrivateFieldGet(s, a) {
  return s.get(_assertClassBrand(s, a));
}
function _assertClassBrand(e, t, n) {
  if ("function" == typeof e ? e === t : e.has(t)) return arguments.length < 3 ? t : n;
  throw new TypeError("Private element is not present on this object");
}






Array.prototype.sum = prop => {
  if (!undefined) return;
  var total = 0;
  for (var y = 0, _len = undefined.length; y < _len; y++) {
    prop = prop.replace(/\[(\w+)\]/g, ".$1");
    prop = prop.replace(/^\./, "");
    var a = prop.split(".");
    var data = JSON.parse(JSON.stringify(undefined[y]));
    for (var i = 0, n = a.length; i < n; ++i) {
      var k = a[i];
      if (k in data) {
        data = data[k];
      } else {
        return 0;
      }
    }
    total += data;
  }
  return total;
};
var _fields = /*#__PURE__*/new WeakMap();
var _editFields = /*#__PURE__*/new WeakMap();
var _getMaxTwoLinesLength = /*#__PURE__*/new WeakMap();
var _addLayerFeature = /*#__PURE__*/new WeakMap();
class PlanEntity {
  constructor(_props2, plan) {
    var _plan$layers, _props$values, _props$values$mapview, _plan$uplodedFeatures, _plan$uplodedFeatures2, _plan$uplodedFeatures3, _plan$uplodedFeatures4, _plan$uplodedFeatures5, _plan$uplodedFeatures6, _plan$uplodedFeatures7, _plan$uplodedFeatures8, _plan$uplodedFeatures9, _plan$uplodedFeatures10, _window, _window$mapInfo, _window$mapInfo$info, _window$mapInfo$info$, _plan$buildingConditi, _props$mainObject2, _props$mainObject2$bu, _plan$uplodedFeatures11, _plan$uplodedFeatures12;
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "servicesLayer", {});
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "pageSize", 15);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "domains", []);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "zoomRatio", 50);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "autoCadColor", [[255, 0, 0], [255, 255, 0], [0, 255, 0], [0, 255, 255], [0, 0, 255], [255, 0, 255], [255, 255, 255], [128, 128, 128], [192, 192, 192], [255, 0, 0], [255, 127, 127], [204, 0, 0], [204, 102, 102], [153, 0, 0], [153, 76, 76], [127, 0, 0], [127, 63, 63], [76, 0, 0], [76, 38, 38], [255, 63, 0], [255, 159, 127], [204, 51, 0], [204, 127, 102], [153, 38, 0], [153, 95, 76], [127, 31, 0], [127, 79, 63], [76, 19, 0], [76, 47, 38], [255, 127, 0], [255, 191, 127], [204, 102, 0], [204, 153, 102], [153, 76, 0], [153, 114, 76], [127, 63, 0], [127, 95, 63], [76, 38, 0], [76, 57, 38], [255, 191, 0], [255, 223, 127], [204, 153, 0], [204, 178, 102], [153, 114, 0], [153, 133, 76], [127, 95, 0], [127, 111, 63], [76, 57, 0], [76, 66, 38], [255, 255, 0], [255, 255, 127], [204, 204, 0], [204, 204, 102], [153, 153, 0], [153, 153, 76], [127, 127, 0], [127, 127, 63], [76, 76, 0], [76, 76, 38], [191, 255, 0], [223, 255, 127], [153, 204, 0], [178, 204, 102], [114, 153, 0], [133, 153, 76], [95, 127, 0], [111, 127, 63], [57, 76, 0], [66, 76, 38], [127, 255, 0], [191, 255, 127], [102, 204, 0], [153, 204, 102], [76, 153, 0], [114, 153, 76], [63, 127, 0], [95, 127, 63], [38, 76, 0], [57, 76, 38], [63, 255, 0], [159, 255, 127], [51, 204, 0], [127, 204, 102], [38, 153, 0], [95, 153, 76], [31, 127, 0], [79, 127, 63], [19, 76, 0], [47, 76, 38], [0, 255, 0], [127, 255, 127], [0, 204, 0], [102, 204, 102], [0, 153, 0], [76, 153, 76], [0, 127, 0], [63, 127, 63], [0, 76, 0], [38, 76, 38], [0, 255, 63], [127, 255, 159], [0, 204, 51], [102, 204, 127], [0, 153, 38], [76, 153, 95], [0, 127, 31], [63, 127, 79], [0, 76, 19], [38, 76, 47], [0, 255, 127], [127, 255, 191], [0, 204, 102], [102, 204, 153], [0, 153, 76], [76, 153, 114], [0, 127, 63], [63, 127, 95], [0, 76, 38], [38, 76, 57], [0, 255, 191], [127, 255, 223], [0, 204, 153], [102, 204, 178], [0, 153, 114], [76, 153, 133], [0, 127, 95], [63, 127, 111], [0, 76, 57], [38, 76, 66], [0, 255, 255], [127, 255, 255], [0, 204, 204], [102, 204, 204], [0, 153, 153], [76, 153, 153], [0, 127, 127], [63, 127, 127], [0, 76, 76], [38, 76, 76], [0, 191, 255], [127, 223, 255], [0, 153, 204], [102, 178, 204], [0, 114, 153], [76, 133, 153], [0, 95, 127], [63, 111, 127], [0, 57, 76], [38, 66, 76], [0, 127, 255], [127, 191, 255], [0, 102, 204], [102, 153, 204], [0, 76, 153], [76, 114, 153], [0, 63, 127], [63, 95, 127], [0, 38, 76], [38, 57, 76], [0, 63, 255], [127, 159, 255], [0, 51, 204], [102, 127, 204], [0, 38, 153], [76, 95, 153], [0, 31, 127], [63, 79, 127], [0, 19, 76], [38, 47, 76], [0, 0, 255], [127, 127, 255], [0, 0, 204], [102, 102, 204], [0, 0, 153], [76, 76, 153], [0, 0, 127], [63, 63, 127], [0, 0, 76], [38, 38, 76], [63, 0, 255], [159, 127, 255], [51, 0, 204], [127, 102, 204], [38, 0, 153], [95, 76, 153], [31, 0, 127], [79, 63, 127], [19, 0, 76], [47, 38, 76], [127, 0, 255], [191, 127, 255], [102, 0, 204], [153, 102, 204], [76, 0, 153], [114, 76, 153], [63, 0, 127], [95, 63, 127], [38, 0, 76], [57, 38, 76], [191, 0, 255], [223, 127, 255], [153, 0, 204], [178, 102, 204], [114, 0, 153], [133, 76, 153], [95, 0, 127], [111, 63, 127], [57, 0, 76], [66, 38, 76], [255, 0, 255], [255, 127, 255], [204, 0, 204], [204, 102, 204], [153, 0, 153], [153, 76, 153], [127, 0, 127], [127, 63, 127], [76, 0, 76], [76, 38, 76], [255, 0, 191], [255, 127, 223], [204, 0, 153], [204, 102, 178], [153, 0, 114], [153, 76, 133], [127, 0, 95], [127, 63, 111], [76, 0, 57], [76, 38, 66], [255, 0, 127], [255, 127, 191], [204, 0, 102], [204, 102, 153], [153, 0, 76], [153, 76, 114], [127, 0, 63], [127, 63, 95], [76, 0, 38], [76, 38, 57], [255, 0, 63], [255, 127, 159], [204, 0, 51], [204, 102, 127], [153, 0, 38], [153, 76, 95], [127, 0, 31], [127, 63, 79], [76, 0, 19], [76, 38, 47], [51, 51, 51], [91, 91, 91], [132, 132, 132], [173, 173, 173], [214, 214, 214], [255, 255, 255]]);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "isInvestalIncluded", false);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "statisticsParcels", []);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "enableDownlaodCad", false);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "planDescription", "");
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "streets", []);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "detailsParcelTypes", []);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "uplodedFeatures", []);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "streetsAnnotation", []);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "serviceSubType", {});
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "serviceType", {});
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "selectedCAD", "");
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "selectedCADIndex", 0);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "planUsingSymbol", "");
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "hide_details", true);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "servicesTypes", []);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "servicesSubTypes", []);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "TotalParcelArea", 0);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "current_step", 0);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "totalParcelPage", 0);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "totalInvestalParcelPage", 0);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "minParcelIndex", 0);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "maxParcelIndex", 0);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "minInvestalParcelIndex", 0);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "maxInvestalParcelIndex", 0);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "totalStreetPage", 0);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "minStreetIndex", 0);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "maxStreetIndex", 0);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "bufferDistance", 5);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "isWithIn", false);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "hideAll", false);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "plans", []);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "markall", {
      isVisibile: true
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "currentStreetPage", 1);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "currentParcelPage", 1);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "currentInvestalParcelPage", 1);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "buildingCondition", []);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "layers", []);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "tempParcels", []);
    _classPrivateFieldInitSpec(this, _fields, {
      survayParcelCutter: {
        field: "list",
        hideLabel: true,
        init_data: (values, props) => {
          if (!props.input.value) {
            props.input.onChange([{
              direction: "الشطفة",
              NORTH_EAST_DIRECTION: "",
              NORTH_WEST_DIRECTION: "",
              SOUTH_EAST_DIRECTION: "",
              SOUTH_WEST_DIRECTION: ""
            }]);
          }
        },
        fields: {
          direction: {
            head: "الإتجاه"
          },
          NORTH_EAST_DIRECTION: {
            head: "شمال / شرق",
            type: "input",
            placeholder: "شمال / شرق",
            field: "text",
            hideLabel: true
          },
          NORTH_WEST_DIRECTION: {
            head: "شمال / غرب",
            type: "input",
            placeholder: "شمال / غرب",
            field: "text",
            hideLabel: true
          },
          SOUTH_EAST_DIRECTION: {
            head: "جنوب / شرق",
            type: "input",
            placeholder: "جنوب / شرق",
            field: "text",
            hideLabel: true
          },
          SOUTH_WEST_DIRECTION: {
            head: "جنوب / غرب",
            type: "input",
            placeholder: "جنوب / غرب",
            field: "text",
            hideLabel: true
          }
        }
      }
    });
    _classPrivateFieldInitSpec(this, _editFields, {
      survayParcelCutter: {
        field: "list",
        hideLabel: true,
        fields: {
          direction: {
            head: "الإتجاه"
          },
          NORTH_EAST_DIRECTION: {
            head: "شمال / شرق"
          },
          NORTH_WEST_DIRECTION: {
            head: "شمال / غرب"
          },
          SOUTH_EAST_DIRECTION: {
            head: "جنوب / شرق"
          },
          SOUTH_WEST_DIRECTION: {
            head: "جنوب / غرب"
          }
        }
      }
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "checkStreetDomains", () => {
      return new Promise((resolve, reject) => {
        Object(_common_common_func__WEBPACK_IMPORTED_MODULE_4__["getInfo"])(_mapviewer_config_map__WEBPACK_IMPORTED_MODULE_7__["mapUrl"]).then(response => {
          let StreetNamingLayerId = response["Street_Naming"];
          Object(_common_common_func__WEBPACK_IMPORTED_MODULE_4__["getFieldDomain"])("", StreetNamingLayerId).then(domains => {
            resolve(domains);
          });
        });
      });
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "checkServicesTypes", () => {
      return new Promise((resolve, reject) => {
        axios__WEBPACK_IMPORTED_MODULE_2___default.a.get(`${host}/CadLayers/GetAll?pageSize=1000`).then(({
          data
        }) => {
          data.results.forEach(type => {
            type.layer_color = eval(type.layer_color);
          });
          resolve(data.results);
        });
      });
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "isValidCondition", (props, parcel) => {
      const {
        mainObject
      } = props;
      if (parcel.usingSymbol) {
        var condition = _.find(this.buildingCondition || [], d => {
          return d.attributes.USING_SYMBOL_CODE == parcel.usingSymbol;
        });
        if (condition && condition.attributes && condition.attributes.SLIDE_AREA) return condition.attributes.SLIDE_AREA <= parcel.area;else return true;
      } else return true;
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "setBuildingCondition", props => {
      return new Promise((resolve, reject) => {
        try {
          let {
            mainObject
          } = props;
          var usingSymbolObj;
          if (this.uplodedFeatures) {
            var _this$uplodedFeatures;
            usingSymbolObj = _(this === null || this === void 0 ? void 0 : (_this$uplodedFeatures = this.uplodedFeatures[this.selectedCADIndex]) === null || _this$uplodedFeatures === void 0 ? void 0 : _this$uplodedFeatures.shapeFeatures.landbase).groupBy("usingSymbol").value();
          }
          var maxCount = 0;
          if (!lodash_isEmpty__WEBPACK_IMPORTED_MODULE_1___default()(usingSymbolObj)) {
            Object.keys(usingSymbolObj).filter(d => {
              return d && d != "undefined";
            }).forEach((ele, key) => {
              if (ele.startsWith("س") || ele.startsWith("(س") || ele.startsWith("ص") || ele.startsWith("ت") || ele.startsWith("ز") || ele.startsWith("خ") || ele.startsWith("م-") || ele.startsWith("ت-ج")) {
                if (usingSymbolObj[ele].length > maxCount) {
                  maxCount = usingSymbolObj[ele].length;

                  // if (ele == "ت-3") {
                  //   ele = "م-ت ع";
                  // }

                  mainObject.selectedMaxUsingSymbolCode = ele;
                  mainObject.selectedMaxUsingSymbol = "منطقة " + mainObject.submission_data.mostafed_data.mostafed_type + (ele.indexOf("س") > -1 ? "ة" : "") + " " + ele;
                }
              }
            });
            mainObject.MaxUsingSymbolDescription = "يُسمح بالأستعمالات ال" + mainObject.submission_data.mostafed_data.mostafed_type + "ة" + "وأستعمالاتها التبعية فى المنطقة ال" + mainObject.submission_data.mostafed_data.mostafed_type + "ة" + " " + mainObject.selectedMaxUsingSymbol;
            Object(_common_esri_request__WEBPACK_IMPORTED_MODULE_6__["esriRequest"])(window.planMapEditing + "MapServer/layers").then(maplayers => {
              if (window.planMapEditing) {
                var layer = _.find(maplayers.tables, d => {
                  return d.name == "Tbl_Parcel_Conditions";
                });
                if (layer && layer.id) {
                  Object(_common_common_func__WEBPACK_IMPORTED_MODULE_4__["queryTask_updated"])(window.planMapEditing + "MapServer/" + layer.id, "USING_SYMBOL_CODE='" + mainObject.selectedMaxUsingSymbolCode + "'", ["*"], result => {
                    resolve(result.features);
                  });
                }
              }
            });
          }
        } catch (error) {
          console.error(error);
          return reject();
        }
      });
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "init_plan", (props, planVal, map, callback) => {
      const {
        currentModule: {
          record
        }
      } = props;
      setTimeout(() => {
        var _this$uplodedFeatures2, _this$uplodedFeatures3, _this$uplodedFeatures4;
        if ((_this$uplodedFeatures2 = this.uplodedFeatures) !== null && _this$uplodedFeatures2 !== void 0 && (_this$uplodedFeatures3 = _this$uplodedFeatures2[planVal]) !== null && _this$uplodedFeatures3 !== void 0 && (_this$uplodedFeatures4 = _this$uplodedFeatures3.shapeFeatures) !== null && _this$uplodedFeatures4 !== void 0 && _this$uplodedFeatures4.landbase && Object(_common_common_func__WEBPACK_IMPORTED_MODULE_4__["checkUploadedLayersFullyContainedByBoundry"])(this.uplodedFeatures[planVal], props.mainObject.submission_data.mostafed_data.e3adt_tanzem, record === null || record === void 0 ? void 0 : record.request_no)) {
          this.drawFeatures(props, map, callback);
          Object(_common_common_func__WEBPACK_IMPORTED_MODULE_4__["loadCurrentPlan"])(props, map, window.loadedLayers, true);
        } else {
          this.isInvestalIncluded = false;
          this.statisticsParcels = [];
          this.enableDownlaodCad = false;
          this.planDescription = "";
          this.streets = [];
          this.detailsParcelTypes = [];
          this.uplodedFeatures = [];
          this.streetsAnnotation = [];
          this.serviceSubType = {};
          this.serviceType = {};
          this.selectedCAD = "";
          this.selectedCADIndex = 0;
          this.planUsingSymbol = "";
          this.hide_details = true;
          this.servicesTypes = [];
          this.servicesSubTypes = [];
          this.TotalParcelArea = 0;
          this.current_step = 0;
          this.totalParcelPage = 0;
          this.totalInvestalParcelPage = 0;
          this.minParcelIndex = 0;
          this.maxParcelIndex = 0;
          this.minInvestalParcelIndex = 0;
          this.maxInvestalParcelIndex = 0;
          this.totalStreetPage = 0;
          this.minStreetIndex = 0;
          this.maxStreetIndex = 0;
        }
        if (callback) {
          callback();
        }
      }, 500);
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "drawBuffer", (bufferDistance, map, callback) => {
      if (map.getLayer("BufferGraphicLayer")) map.getLayer("BufferGraphicLayer").clear();
      if (bufferDistance > 0) {
        Object(_common_esri_loader__WEBPACK_IMPORTED_MODULE_5__["LoadModules"])(["esri/tasks/GeometryService", "esri/tasks/BufferParameters", "esri/geometry/Polygon", "esri/geometry/Circle"]).then(([GeometryService, BufferParameters, Polygon, Circle]) => {
          var _this$uplodedFeatures9, _this$uplodedFeatures10, _this$uplodedFeatures11;
          if (!this.serviceSubType) {
            var _this$uplodedFeatures5, _this$uplodedFeatures6;
            _.filter((_this$uplodedFeatures5 = this.uplodedFeatures[this.selectedCADIndex]) === null || _this$uplodedFeatures5 === void 0 ? void 0 : (_this$uplodedFeatures6 = _this$uplodedFeatures5.shapeFeatures) === null || _this$uplodedFeatures6 === void 0 ? void 0 : _this$uplodedFeatures6.landbase, d => {
              var _this$serviceType;
              return (d === null || d === void 0 ? void 0 : d.typeId) == ((_this$serviceType = this.serviceType) === null || _this$serviceType === void 0 ? void 0 : _this$serviceType.symbol_id);
            }).forEach(feature => {
              if (!feature.spatialReference.wkid) {
                feature.spatialReference = map.spatialReference;
              }
              feature = new Polygon(feature);
              var circleGeometry = new Circle({
                center: feature.getExtent().getCenter(),
                radius: +bufferDistance,
                radiusUnit: esri.Units.METERS
              });
              Object(_common_common_func__WEBPACK_IMPORTED_MODULE_4__["addGraphicToLayer"])(circleGeometry, map, "BufferGraphicLayer", [0, 0, 255], null, false, response => {
                _classPrivateFieldGet(_addLayerFeature, this).call(this, map, "BufferGraphicLayer", response);
              }, null, null, true, true, null, false);
            });
          } else {
            var _this$uplodedFeatures7, _this$uplodedFeatures8;
            _.filter((_this$uplodedFeatures7 = this.uplodedFeatures[this.selectedCADIndex]) === null || _this$uplodedFeatures7 === void 0 ? void 0 : (_this$uplodedFeatures8 = _this$uplodedFeatures7.shapeFeatures) === null || _this$uplodedFeatures8 === void 0 ? void 0 : _this$uplodedFeatures8.landbase, d => {
              var _this$serviceSubType;
              return d.useDetails == ((_this$serviceSubType = this.serviceSubType) === null || _this$serviceSubType === void 0 ? void 0 : _this$serviceSubType.symbol_id);
            }).forEach(feature => {
              if (!feature.spatialReference.wkid) {
                feature.spatialReference = map.spatialReference;
              }
              feature = new Polygon(feature);
              var circleGeometry = new Circle({
                center: feature.getExtent().getCenter(),
                radius: +bufferDistance,
                radiusUnit: esri.Units.METERS
              });
              Object(_common_common_func__WEBPACK_IMPORTED_MODULE_4__["addGraphicToLayer"])(circleGeometry, map, "BufferGraphicLayer", [0, 0, 255], null, false, response => {
                _classPrivateFieldGet(_addLayerFeature, this).call(this, map, "BufferGraphicLayer", response);
              }, null, null, true, true, null, false);
            });
          }
          var gsvc = GeometryService(_mapviewer_config_map__WEBPACK_IMPORTED_MODULE_7__["geometryServiceUrl"]);
          var params = new BufferParameters();
          var boundry = new Polygon((_this$uplodedFeatures9 = this.uplodedFeatures[this.selectedCADIndex]) === null || _this$uplodedFeatures9 === void 0 ? void 0 : (_this$uplodedFeatures10 = _this$uplodedFeatures9.shapeFeatures) === null || _this$uplodedFeatures10 === void 0 ? void 0 : (_this$uplodedFeatures11 = _this$uplodedFeatures10.boundry) === null || _this$uplodedFeatures11 === void 0 ? void 0 : _this$uplodedFeatures11[0]);
          params.geometries = [dojo.clone(boundry)];
          params.distances = [+bufferDistance];
          params.unit = GeometryService.UNIT_METER;
          params.outSpatialReference = map.spatialReference;
          gsvc.buffer(params, geometries => {
            var _this$serviceType2, _this$serviceSubType2, _this$serviceSubType3, _this$servicesLayer;
            var where = "SRVC_TYPE =" + ((_this$serviceType2 = this.serviceType) === null || _this$serviceType2 === void 0 ? void 0 : _this$serviceType2.layer_code);
            if (this.serviceSubType && (_this$serviceSubType2 = this.serviceSubType) !== null && _this$serviceSubType2 !== void 0 && _this$serviceSubType2.sublayer_code) where = "SRVC_SUBTYPE =" + ((_this$serviceSubType3 = this.serviceSubType) === null || _this$serviceSubType3 === void 0 ? void 0 : _this$serviceSubType3.sublayer_code);
            Object(_common_common_func__WEBPACK_IMPORTED_MODULE_4__["queryTask"])({
              url: planMapEditing + "MapServer/" + ((_this$servicesLayer = this.servicesLayer) === null || _this$servicesLayer === void 0 ? void 0 : _this$servicesLayer.id),
              where: where,
              outFields: ["OBJECTID"],
              callbackResult: res => {
                res.features.forEach(feature => {
                  var f = new esri.geometry.Point(feature === null || feature === void 0 ? void 0 : feature.geometry);
                  if (!boundry.contains(f)) {
                    var circleGeometry = new Circle({
                      center: f,
                      radius: +bufferDistance,
                      radiusUnit: esri.Units.METERS
                    });
                    Object(_common_common_func__WEBPACK_IMPORTED_MODULE_4__["addGraphicToLayer"])(circleGeometry, map, "BufferGraphicLayer", [0, 0, 255], null, false, response => {
                      _classPrivateFieldGet(_addLayerFeature, this).call(this, map, "BufferGraphicLayer", response);
                    }, null, null, true, true, null, false);
                  }
                });
              },
              callbackError: () => {
                // store.dispatch({ type: "Show_Loading_new", loading: false });
                if (callback) {
                  callback();
                }
              },
              preQuery: (query, Query) => {
                query.geometry = dojo.clone(geometries[0]);
              },
              returnGeometry: true
            });
          });
        });
      }
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "compareTwoFeatures", (feature1, feature2) => {
      var same = true;
      if (feature1.rings[0].length == feature2.rings[0].length) {
        for (var j = 0, n = feature1.rings[0].length - 1; j < n; j++) {
          if (feature1.rings[0][j] != feature2.rings[0][j]) {
            same = false;
            break;
          }
        }
        return same;
      } else {
        return false;
      }
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "computeLineAngle", (pointA, pointB, cetroid, polygon) => {
      var y = pointA[1] - pointB[1];
      var x = pointA[0] - pointB[0];
      var line = new esri.geometry.Polyline([pointA, pointB]);
      var direction = Object(_common_common_func__WEBPACK_IMPORTED_MODULE_4__["getLengthDirectionByCentroid"])([pointA, pointB], line.getExtent().getCenter(), polygon);
      var y = pointA[1] - pointB[1];
      var x = pointA[0] - pointB[0];
      return {
        length: Math.sqrt(x * x + y * y),
        direction: direction
      };
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "checkCADAreas", props => {
      var _this$uplodedFeatures12;
      let valid = true;
      const {
        currentModule: {
          record
        }
      } = props;
      let msa7yArea = +_.chain(props.mainObject.data_msa7y.msa7yData.cadDetails.suggestionsParcels).reduce((a, b) => {
        return a + +b.area;
      }, 0).value().toFixed(2);
      let landbasesArea = +_.chain(this === null || this === void 0 ? void 0 : (_this$uplodedFeatures12 = this.uplodedFeatures[this.selectedCADIndex]) === null || _this$uplodedFeatures12 === void 0 ? void 0 : _this$uplodedFeatures12.shapeFeatures.landbase).reduce((a, b) => {
        return a + +b.area;
      }, 0).value().toFixed(2);
      if (!props.mainObject.submission_data.mostafed_data.e3adt_tanzem && !record.request_no && msa7yArea != landbasesArea && (!window.Supporting || window.Supporting && !window.Supporting.areaDifference)) {
        window.notifySystem("error", "boundry لا يساوي اجمالي مساحة المخطط landbase اجمالي مساحات الرسم داخل طبقة", 10);
        window.notifySystem("error", Object(_common_common_func__WEBPACK_IMPORTED_MODULE_4__["convertToArabic"])(msa7yArea) + " م2 " + ":boundry اجمالي مساحة طبقة", 10);
        window.notifySystem("error", Object(_common_common_func__WEBPACK_IMPORTED_MODULE_4__["convertToArabic"])(landbasesArea) + " م2 " + " :landbase اجمالي مساحة طبقة", 10);
        valid = false;
      }
      return valid;
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "clearMapLayers", map => {
      if (map !== null && map !== void 0 && map.graphicsLayerIds) {
        map.graphicsLayerIds.forEach(layerID => {
          if (map.getLayer(layerID)) map.getLayer(layerID).clear();
        });
      }
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "readAnnotationPoints", (map, layerName, pointColor) => {
      var _this$uplodedFeatures13, _this$uplodedFeatures14;
      (_this$uplodedFeatures13 = this.uplodedFeatures) === null || _this$uplodedFeatures13 === void 0 ? void 0 : (_this$uplodedFeatures14 = _this$uplodedFeatures13[this.selectedCADIndex]) === null || _this$uplodedFeatures14 === void 0 ? void 0 : _this$uplodedFeatures14.annotations.forEach(annotation => {
        annotation.shape = new esri.geometry.Point(annotation.shape);
        if (annotation.layer == layerName) {
          var txt = annotation.text;
          if (annotation.text) {
            txt = annotation.text;
          }
          var attr = {
            text: Object(_common_common_func__WEBPACK_IMPORTED_MODULE_4__["convertToArabic"])(txt),
            angle: -15
          };
          Object(_common_common_func__WEBPACK_IMPORTED_MODULE_4__["addParcelNo"])(annotation.shape, map, Object(_common_common_func__WEBPACK_IMPORTED_MODULE_4__["convertToArabic"])(txt), "PacrelNoGraphicLayer", 12, pointColor || [60, 60, 60], -15, {
            y: 0,
            x: 0
          }, attr, null, response => {
            _classPrivateFieldGet(_addLayerFeature, this).call(this, map, "PacrelNoGraphicLayer", response);
          }, false);
        }
      });
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "drawFeaturesLines", map => {
      var _this$uplodedFeatures15, _this$uplodedFeatures16;
      if (((_this$uplodedFeatures15 = this.uplodedFeatures) === null || _this$uplodedFeatures15 === void 0 ? void 0 : (_this$uplodedFeatures16 = _this$uplodedFeatures15[this.selectedCADIndex]) === null || _this$uplodedFeatures16 === void 0 ? void 0 : _this$uplodedFeatures16.lineFeatures.length) > 0) {
        var _this$uplodedFeatures17, _this$uplodedFeatures18;
        (_this$uplodedFeatures17 = this.uplodedFeatures) === null || _this$uplodedFeatures17 === void 0 ? void 0 : (_this$uplodedFeatures18 = _this$uplodedFeatures17[this.selectedCADIndex]) === null || _this$uplodedFeatures18 === void 0 ? void 0 : _this$uplodedFeatures18.lineFeatures.forEach(detail => {
          var polyline = new esri.geometry.Polyline(detail);
          Object(_common_common_func__WEBPACK_IMPORTED_MODULE_4__["addGraphicToLayer"])(polyline, map, "detailedGraphicLayer", detail.color ? this.autoCadColor[detail.color - 1] : [60, 60, 60], null, null, response => {
            _classPrivateFieldGet(_addLayerFeature, this).call(this, map, "detailedGraphicLayer", response);
            Object(_common_common_func__WEBPACK_IMPORTED_MODULE_4__["resizeMap"])(map);
          }, null, null, null, null, null, false);
        });
      } else {
        Object(_common_common_func__WEBPACK_IMPORTED_MODULE_4__["zoomToLayer"])("detailedGraphicLayer", map, this.zoomRatio);
      }
    });
    _classPrivateFieldInitSpec(this, _getMaxTwoLinesLength, streetsLines => {
      var largestA = streetsLines[0];
      var largestB = streetsLines[1];
      for (var i = 0; i < streetsLines.length; i++) {
        if (streetsLines[i].text > largestA.text) {
          largestB = largestA;
          largestA = streetsLines[i];
        } else if (streetsLines[i].text > largestB.text && streetsLines[i].paths[0][0][0] != largestA.paths[0][0][0]) {
          largestB = streetsLines[i];
        }
      }
      return [largestA, largestB];
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "setSideCenterPoint", (map, landbase, sideName) => {
      landbase[`${sideName}_center_point`] = null;
      if (landbase[`${sideName}_points`].length >= 1) {
        var polyline = new esri.geometry.Polyline({
          paths: landbase[`${sideName}_points`],
          spatialReference: map.spatialReference
        });
        landbase[`${sideName}_center_point`] = polyline.getExtent().getCenter();
      }
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "drawStreetsAnnotations", map => {
      this.streetsAnnotation = [];
      for (var j = 0; j < this.streetsAnnotation.length; j++) {
        var extractNmber = this.streetsAnnotation[j].text.match(/[\d\.]+/);
        if (extractNmber && extractNmber.length > 0) {
          extractNmber = extractNmber[0];
          this.streetsAnnotation[j].text = this.streetsAnnotation[j].text.replace(extractNmber, extractNmber);
        } else {
          extractNmber = this.streetsAnnotation[j].text;
        }
        if (!this.streetsAnnotation[j].feature.spatialReference.wkid) {
          this.streetsAnnotation[j].feature.spatialReference.wkid = map.spatialReference.wkid;
        }
        var attr = {
          text: this.streetsAnnotation[j].text,
          angle: 360 - this.streetsAnnotation[j].angle
        };
        Object(_common_common_func__WEBPACK_IMPORTED_MODULE_4__["addParcelNo"])(this.streetsAnnotation[j].feature, map, this.streetsAnnotation[j].text, "PacrelNoGraphicLayer", 12, [0, 0, 0], 360 - this.streetsAnnotation[j].angle, {
          y: 0,
          x: 0
        }, attr, true, response => {
          _classPrivateFieldGet(_addLayerFeature, this).call(this, map, "PacrelNoGraphicLayer", response);
        }, false);
      }
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "setPlanUsingSymbolDesc", () => {
      var _this$uplodedFeatures19;
      var maxCount = 0;
      var usingSymbolObj = _(this === null || this === void 0 ? void 0 : (_this$uplodedFeatures19 = this.uplodedFeatures[this.selectedCADIndex]) === null || _this$uplodedFeatures19 === void 0 ? void 0 : _this$uplodedFeatures19.shapeFeatures.landbase).toArray().groupBy("usingSymbol").value();
      Object.keys(usingSymbolObj).filter(d => {
        return d && d != "undefined";
      }).forEach((ele, key) => {
        if (ele.startsWith("س") || ele.startsWith("ص") || ele.startsWith("ت") || ele.startsWith("ز") || ele.startsWith("خ") || ele.startsWith("م-") || ele.startsWith("ت-ج")) {
          if (usingSymbolObj[ele].length > maxCount) {
            maxCount = usingSymbolObj[ele].length;
            this.planUsingSymbol = "رمز استعمال المخطط " + "( " + ele + " )";
          }
        }
      });
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "drawFeatures", (props, map, callback) => {
      var _this$uplodedFeatures20;
      if (!this.checkCADAreas(props)) {
        return;
      }
      this.clearMapLayers(map);
      this.isWithIn = false;
      var moacount = 0;
      this.bufferDistance = 0;
      this.drawfeaturesAnnotations(props, map, this === null || this === void 0 ? void 0 : (_this$uplodedFeatures20 = this.uplodedFeatures[this.selectedCADIndex]) === null || _this$uplodedFeatures20 === void 0 ? void 0 : _this$uplodedFeatures20.shapeFeatures, "boundry", null, null, () => {
        var _this$uplodedFeatures21, _this$uplodedFeatures22, _this$uplodedFeatures23, _this$uplodedFeatures24, _this$uplodedFeatures25, _this$streets, _this$uplodedFeatures27, _this$uplodedFeatures28, _this$uplodedFeatures29, _this$uplodedFeatures30, _this$uplodedFeatures31, _this$uplodedFeatures32, _this$uplodedFeatures33, _this$uplodedFeatures34, _this$uplodedFeatures35, _this$uplodedFeatures36, _this$streets2, _this$uplodedFeatures37, _this$uplodedFeatures38;
        var legends = [];
        var isValidCad = true;
        var cadErrors = {};
        var color = [0, 255, 255];
        this.streetsAnnotation = [];
        let maxLines = 0;
        this.drawfeaturesAnnotations(props, map, this === null || this === void 0 ? void 0 : (_this$uplodedFeatures21 = this.uplodedFeatures[this.selectedCADIndex]) === null || _this$uplodedFeatures21 === void 0 ? void 0 : _this$uplodedFeatures21.shapeFeatures, "out_sak_boundry");
        this.drawFeaturesLines(map);
        this.drawfeaturesAnnotations(props, map, this === null || this === void 0 ? void 0 : (_this$uplodedFeatures22 = this.uplodedFeatures[this.selectedCADIndex]) === null || _this$uplodedFeatures22 === void 0 ? void 0 : _this$uplodedFeatures22.shapeFeatures, "nearby_plans", null, null, () => {
          this.readAnnotationPoints(map, "nearby_plans", [60, 60, 60]);
        }, [60, 60, 60]);
        this.drawfeaturesAnnotations(props, map, this === null || this === void 0 ? void 0 : (_this$uplodedFeatures23 = this.uplodedFeatures[this.selectedCADIndex]) === null || _this$uplodedFeatures23 === void 0 ? void 0 : _this$uplodedFeatures23.shapeFeatures, "subdivision", null, null, null, [0, 0, 255]);
        this.drawfeaturesAnnotations(props, map, this === null || this === void 0 ? void 0 : (_this$uplodedFeatures24 = this.uplodedFeatures[this.selectedCADIndex]) === null || _this$uplodedFeatures24 === void 0 ? void 0 : _this$uplodedFeatures24.shapeFeatures, "block", null, null, null, [0, 255, 0]);
        this.drawfeaturesAnnotations(props, map, this === null || this === void 0 ? void 0 : (_this$uplodedFeatures25 = this.uplodedFeatures[this.selectedCADIndex]) === null || _this$uplodedFeatures25 === void 0 ? void 0 : _this$uplodedFeatures25.shapeFeatures, "landbase", (map, landbase) => {
          if (landbase.usingSymbol == "خ" && landbase.typeName == "حدائق") {
            landbase.number = landbase.number + "م ";
          } else if (landbase.usingSymbol == "خ") {
            landbase.number = landbase.number + "خ ";
          }
          landbase.north_points = [];
          landbase.south_points = [];
          landbase.weast_points = [];
          landbase.east_points = [];
          let feature = new esri.geometry.Polygon(landbase);
          var min = 0;
          var max = 0;
          for (var j = 0, n = landbase.rings[0].length - 1; j < n; j++) {
            // var info = this.computeLineAngle(
            //   landbase.rings[0][j],
            //   landbase.rings[0][j + 1],
            //   feature.getExtent().getCenter(),
            //   feature
            // );

            var point1 = new esri.geometry.Point(landbase.rings[0][j][0], landbase.rings[0][j][1]);
            var point2 = new esri.geometry.Point(landbase.rings[0][j + 1][0], landbase.rings[0][j + 1][1]);
            if (point1.x > max) {
              max = point1.x;
              landbase.maxPoint = point1;
            }
            if (!min || point1.x < min) {
              min = point1.x;
              landbase.minPoint = point1;
            }
            if (point2.x > max) {
              max = point2.x;
              landbase.maxPoint = point2;
            }
            if (!min || point2.x < min) {
              min = point2.x;
              landbase.minPoint = point2;
            }
            let info = Object(_common_common_func__WEBPACK_IMPORTED_MODULE_4__["computePointDirection"])(landbase, landbase.rings[0][j], landbase.rings[0][j + 1], landbase);
            if (info.direction == "north") {
              landbase.north_length = (landbase.north_length || 0) + info.length;
              landbase.north_points.push([landbase.rings[0][j], landbase.rings[0][j + 1]]);
            } else if (info.direction == "south") {
              landbase.south_length = (landbase.south_length || 0) + info.length;
              landbase.south_points.push([landbase.rings[0][j], landbase.rings[0][j + 1]]);
            } else if (info.direction == "east") {
              landbase.east_length = (landbase.east_length || 0) + info.length;
              landbase.east_points.push([landbase.rings[0][j], landbase.rings[0][j + 1]]);
            } else {
              landbase.weast_length = (landbase.weast_length || 0) + info.length;
              landbase.weast_points.push([landbase.rings[0][j], landbase.rings[0][j + 1]]);
            }
          }
          this.setSideCenterPoint(map, landbase, "weast");
          this.setSideCenterPoint(map, landbase, "north");
          this.setSideCenterPoint(map, landbase, "east");
          this.setSideCenterPoint(map, landbase, "south");
          landbase.is_north_front = true;
          landbase.is_south_front = true;
          landbase.is_east_front = true;
          landbase.is_weast_front = true;
          this.tempParcels.forEach(temp_landbase => {
            if (!temp_landbase.spatialReference.wkid) {
              temp_landbase.spatialReference = this.map.spatialReference;
            }
            for (var j = 0, n = temp_landbase.rings[0].length - 1; j < n; j++) {
              if (!this.compareTwoFeatures(landbase, temp_landbase)) {
                var path = {
                  paths: [[temp_landbase.rings[0][j], temp_landbase.rings[0][j + 1]]],
                  spatialReference: map.spatialReference
                };
                var polyline = new esri.geometry.Polyline(path);
                var pt = polyline.getExtent().getCenter();
                if (landbase.north_center_point != null && landbase.north_center_point.x == pt.x && landbase.north_center_point.y == pt.y) {
                  landbase.is_north_front = false;
                }
                if (landbase.south_center_point != null && landbase.south_center_point.x == pt.x && landbase.south_center_point.y == pt.y) {
                  landbase.is_south_front = false;
                }
                if (landbase.east_center_point != null && landbase.east_center_point.x == pt.x && landbase.east_center_point.y == pt.y) {
                  landbase.is_east_front = false;
                }
                if (landbase.weast_center_point != null && landbase.weast_center_point.x == pt.x && landbase.weast_center_point.y == pt.y) {
                  landbase.is_weast_front = false;
                }
              }
            }
          });
          if (!landbase.frontLength) {
            var _landbase$frontLength;
            landbase.frontLength = 0;
            if (landbase.is_east_front) {
              landbase.frontLength = landbase.east_length;
            }
            if (landbase.is_north_front) {
              if (landbase.north_length > landbase.frontLength) landbase.frontLength = landbase.north_length;
            }
            if (landbase.is_south_front) {
              if (landbase.south_length > landbase.frontLength) landbase.frontLength = landbase.south_length;
            }
            if (landbase.is_weast_front) {
              if (landbase.weast_length > landbase.frontLength) landbase.frontLength = landbase.weast_length;
            }
            landbase.frontLength = (_landbase$frontLength = +(landbase === null || landbase === void 0 ? void 0 : landbase.frontLength)) === null || _landbase$frontLength === void 0 ? void 0 : _landbase$frontLength.toFixed(2);
          }
          let textcolor = [255, 255, 255];
          if (landbase.usingSymbol && landbase.usingSymbol.indexOf("س") > -1) {
            textcolor = [0, 0, 0];
          }
          if (landbase.typeName == "مواقف" || landbase.typeName == "ممرات مشاة") {
            textcolor = [0, 0, 0];
            color = [255, 255, 255];
          }
          if (landbase.subType && landbase.subType.sublayer_description) {
            var attr = {
              text: landbase.subType.sublayer_description,
              angle: -15
            };
            Object(_common_common_func__WEBPACK_IMPORTED_MODULE_4__["addParcelNo"])(feature.getExtent().getCenter(), map, Object(_common_common_func__WEBPACK_IMPORTED_MODULE_4__["convertToArabic"])(landbase.subType.sublayer_description), "PacrelNoGraphicLayer", 12, textcolor, -15, {
              y: -10,
              x: 0
            }, attr, null, response => {
              _classPrivateFieldGet(_addLayerFeature, this).call(this, map, "PacrelNoGraphicLayer", response);
            }, false);
          } else if (landbase.usingSymbol && landbase.usingSymbol.indexOf("س") < 0 && landbase.typeName && landbase.typeName.indexOf("شوارع") < 0) {
            if (landbase.typeName == "مواقف" || landbase.typeName == "ممرات مشاة") {
              moacount++;
              ang = 360 - Object(_common_common_func__WEBPACK_IMPORTED_MODULE_4__["computeStreetAngle"])(maxLines[0].paths[0][0], maxLines[0].paths[0][1], feature.getExtent().getCenter());
              var attr = {
                text: landbase.typeName + " " + "م" + " " + (landbase.typeName != "ممرات مشاة" ? moacount : ""),
                angle: ang
              };
              Object(_common_common_func__WEBPACK_IMPORTED_MODULE_4__["addParcelNo"])(feature.getExtent().getCenter(), map, Object(_common_common_func__WEBPACK_IMPORTED_MODULE_4__["convertToArabic"])(landbase.typeName + " " + "م" + " " + (landbase.typeName != "ممرات مشاة" ? moacount : "")), "PacrelNoGraphicLayer", 12, textcolor, ang, {
                y: 0,
                x: 0
              }, attr, null, response => {
                _classPrivateFieldGet(_addLayerFeature, this).call(this, map, "PacrelNoGraphicLayer", response);
              }, false);
            } else if (landbase.typeName == "مناطق مفتوحة") {
              var attr = {
                text: landbase.typeName + " " + "م" + " " + moacount,
                angle: -15
              };
              Object(_common_common_func__WEBPACK_IMPORTED_MODULE_4__["addParcelNo"])(feature.getExtent().getCenter(), map, Object(_common_common_func__WEBPACK_IMPORTED_MODULE_4__["convertToArabic"])(landbase.typeName + " " + "م" + " " + moacount), "PacrelNoGraphicLayer", 12, textcolor, -15, {
                y: -10,
                x: 0
              }, attr, null, response => {
                _classPrivateFieldGet(_addLayerFeature, this).call(this, map, "PacrelNoGraphicLayer", response);
              }, false);
            } else {
              var attr = {
                text: landbase.typeName,
                angle: -15
              };
              Object(_common_common_func__WEBPACK_IMPORTED_MODULE_4__["addParcelNo"])(feature.getExtent().getCenter(), map, Object(_common_common_func__WEBPACK_IMPORTED_MODULE_4__["convertToArabic"])(landbase.typeName), "PacrelNoGraphicLayer", 12, textcolor, -15, {
                y: -10,
                x: 0
              }, attr, null, response => {
                _classPrivateFieldGet(_addLayerFeature, this).call(this, map, "PacrelNoGraphicLayer", response);
              }, false);
            }
          }
          if (landbase.number) {
            var ang = -15;
            if (landbase.typeName == "شوارع") {
              color = [255, 255, 255];
            } else {
              ang = -15;
              var attr = {
                text: Object(_common_common_func__WEBPACK_IMPORTED_MODULE_4__["convertToArabic"])(landbase.number),
                angle: -15
              };
              Object(_common_common_func__WEBPACK_IMPORTED_MODULE_4__["addParcelNo"])(feature.getExtent().getCenter(), map, Object(_common_common_func__WEBPACK_IMPORTED_MODULE_4__["convertToArabic"])(landbase.number), "PacrelNoGraphicLayer", 12, textcolor, ang, {
                y: 0,
                x: 0
              }, attr, null, response => {
                _classPrivateFieldGet(_addLayerFeature, this).call(this, map, "PacrelNoGraphicLayer", response);
              }, false);
            }
          }
          if (landbase.typeId && Object(_common_common_func__WEBPACK_IMPORTED_MODULE_4__["getLayer"])("G" + landbase.typeId, map, 8)) {
            Object(_common_common_func__WEBPACK_IMPORTED_MODULE_4__["addGraphicToLayer"])(feature, map, "Layer_G" + landbase.typeId, null, color, null, response => {
              _classPrivateFieldGet(_addLayerFeature, this).call(this, map, "Layer_G" + landbase.typeId, response);
              Object(_common_common_func__WEBPACK_IMPORTED_MODULE_4__["resizeMap"])(map);
            }, null, null, false, null, null, false);
          } else {
            Object(_common_common_func__WEBPACK_IMPORTED_MODULE_4__["addGraphicToLayer"])(feature, map, "detailedGraphicLayer", null, color, null, response => {
              _classPrivateFieldGet(_addLayerFeature, this).call(this, map, "detailedGraphicLayer", response);
              Object(_common_common_func__WEBPACK_IMPORTED_MODULE_4__["resizeMap"])(map);
            }, null, null, false, null, null, false);
          }
        }, (landbase, annotation, isContained) => {
          if (isContained) {
            var res = annotation.text.split("@");
            if (annotation.text.indexOf("@") < 0 && isNaN(annotation.text)) {
              this.streetsAnnotation.push({
                feature: annotation.shape,
                text: annotation.text,
                angle: annotation.angle
              });
              //break;
            } else {
              if (res.length != 3 && res.length == 1 && (res[0] < 12 || res[0] > 29)) {
                cadErrors["parcels"] = "يجب ان تحتوى الأراضي على رقم الأرض - الاستخدام التفصيلي - رمز الاستخدام";
                isValidCad = false;
                return;
              }
              landbase.north_length = 0;
              landbase.south_length = 0;
              landbase.weast_length = 0;
              landbase.east_length = 0;
              if (res.length == 1) {
                landbase.usingSymbol = res[0].replace(/ /g, "");
                landbase.useDetails = res[0].replace(/ /g, "");
              } else {
                landbase.number = res[0];
                landbase.useDetails = res[1];
                if (res.length > 2) {
                  landbase.usingSymbol = res[2].replace(/ /g, "");
                  if (Object(_common_common_func__WEBPACK_IMPORTED_MODULE_4__["getUsingSymbol"])(res[2].replace(/ /g, ""))) landbase.usingSymbolName = Object(_common_common_func__WEBPACK_IMPORTED_MODULE_4__["getUsingSymbol"])(res[2].replace(/ /g, "")).name;else if (Object(_common_common_func__WEBPACK_IMPORTED_MODULE_4__["getUsingSymbol"])(res[2])) landbase.usingSymbolName = Object(_common_common_func__WEBPACK_IMPORTED_MODULE_4__["getUsingSymbol"])(res[2]).name;else {
                    res.reverse();
                    landbase.number = res[0];
                    landbase.useDetails = res[1];
                    landbase.usingSymbol = res[2].replace(/ /g, "");
                    if (Object(_common_common_func__WEBPACK_IMPORTED_MODULE_4__["getUsingSymbol"])(res[2].replace(/ /g, ""))) landbase.usingSymbolName = Object(_common_common_func__WEBPACK_IMPORTED_MODULE_4__["getUsingSymbol"])(res[2].replace(/ /g, "")).name;else if (Object(_common_common_func__WEBPACK_IMPORTED_MODULE_4__["getUsingSymbol"])(res[2])) landbase.usingSymbolName = Object(_common_common_func__WEBPACK_IMPORTED_MODULE_4__["getUsingSymbol"])(res[2]).name;else {
                      cadErrors["usingSymbol"] = "رمز الاستخدام غير صحيح لأرض رقم " + landbase.usingSymbol;
                      isValidCad = false;
                      return;
                    }
                  }
                }
              }
              this.servicesTypes.forEach(type => {
                var subType = _.find(type.cad_sublayers, d => {
                  return d.symbol_id == landbase.useDetails;
                });
                if (subType) {
                  var f = legends.find(x => {
                    return x.id == type.id;
                  });
                  if (!f) legends.push(type);
                  landbase.subType = subType;
                  color = type.layer_color;
                  if (!color) color = [0, 255, 255];
                  landbase.typeName = type.layer_description;
                  landbase.typeId = type.symbol_id;
                  landbase.is_cut = type.is_cut;
                  landbase.is_notfees = type.is_notfees;
                }
              });
              if (!landbase.subType) {
                var type = _.find(this.servicesTypes, d => {
                  return d.symbol_id == landbase.useDetails;
                });
                if (type) {
                  var f = legends.find(x => {
                    return x.id == type.id;
                  });
                  if (!f) legends.push(type);
                  landbase.is_cut = type.is_cut;
                  landbase.is_notfees = type.is_notfees;
                  landbase.typeName = type.layer_description;
                  landbase.typeId = type.symbol_id;
                  color = type.layer_color;
                  if (!color) color = [0, 255, 255];
                } else {
                  if (landbase.typeId != 23 && res.length != 1) {
                    cadErrors["useDetails"] = "الاستخدام التفصيلي غير صحيح لأرض رقم " + landbase.number;
                    isValidCad = false;
                    return;
                  }
                }
              }
            }
          }
          if (landbase.typeName == "شوارع" || landbase.typeName == "مواقف" || landbase.typeName == "ممرات مشاة") {
            var streetLines = [];
            landbase.isHide = true;
            var min = 0;
            var max = 0;
            for (var j = 0, n = landbase.rings[0].length - 1; j < n; j++) {
              var _parseFloat;
              var point1 = new esri.geometry.Point(landbase.rings[0][j][0], landbase.rings[0][j][1]);
              var point2 = new esri.geometry.Point(landbase.rings[0][j + 1][0], landbase.rings[0][j + 1][1]);
              var length = esri.geometry.getLength(point1, point2);
              length = Number((_parseFloat = parseFloat(length)) === null || _parseFloat === void 0 ? void 0 : _parseFloat.toFixed(2));
              var path = {
                paths: [[landbase.rings[0][j], landbase.rings[0][j + 1]]],
                text: length,
                spatialReference: landbase.spatialReference
              };
              streetLines.push(path);
            }
            maxLines = _classPrivateFieldGet(_getMaxTwoLinesLength, this).call(this, streetLines);
            var polyline1 = new esri.geometry.Polyline(maxLines[0]);
            var polyline2 = new esri.geometry.Polyline(maxLines[1]);
            var ptLine1 = polyline1.getExtent().getCenter();
            var ptLine2 = polyline2.getExtent().getCenter();
            landbase.length = maxLines[0].text;
            landbase.width = +esri.geometry.getLength(ptLine1, ptLine2).toPrecision(2);
            if (landbase.typeName == "شوارع") landbase.number = " م" + landbase.width + " ضرع عراش";
          }
        }, null, [0, 255, 0]);
        this.drawStreetsAnnotations(map);
        this.setPlanUsingSymbolDesc();
        //
        if (!isValidCad && !props.mainObject.submission_data.mostafed_data.e3adt_tanzem) {
          this.hideAll = true;
          this.hide_details = true;
          Object.keys(cadErrors).forEach(f => {
            window.notifySystem("error", cadErrors[f], 10);
          });
          this.uplodedFeatures[this.selectedCADIndex] = null;
          props.change(`plansData.image_uploader${this.selectedCADIndex + 1}`, "");
          this.plans = [];
          for (var i = 0; i < ((_this$uplodedFeatures26 = this.uplodedFeatures) === null || _this$uplodedFeatures26 === void 0 ? void 0 : _this$uplodedFeatures26.length); i++) {
            var _this$uplodedFeatures26;
            if (this.uplodedFeatures[i]) {
              this.selectedCADIndex = i;
              var currentPlan = i == 0 ? "perfectCad" : i == 1 ? "secondCad" : "thirdCad";
              this.selectedCAD = currentPlan;
              this.plans.push(currentPlan);
            } else {
              break;
            }
          }
          this.checkStreetDomains().then(domains => {
            this.domains = domains;
            this.checkServicesTypes().then(serviceTypes => {
              this.servicesTypes = serviceTypes;
              this.init_plan(props, this.selectedCADIndex, callback);
            });
          });
        } else {
          this.hideAll = false;
          this.hide_details = false;
        }
        this.servicesTypes = legends;
        this.servicesTypes.unshift({
          cad_sublayers: null,
          id: "markall",
          is_cut: 1,
          layer_code: 210,
          layer_color: "",
          layer_description: "تحديد الكل",
          sort_id: 1000,
          symbol_id: "markall"
        });
        this.streets = ((_this$streets = this.streets) === null || _this$streets === void 0 ? void 0 : _this$streets.length) && (this === null || this === void 0 ? void 0 : this.streets) || (this === null || this === void 0 ? void 0 : (_this$uplodedFeatures27 = this.uplodedFeatures[this.selectedCADIndex]) === null || _this$uplodedFeatures27 === void 0 ? void 0 : _this$uplodedFeatures27.shapeFeatures.landbase.filter(d => {
          return d.typeName == "شوارع";
        }));
        this.statisticsParcels = this.updateStatisticParcels(props);
        this.totalParcelPage = ((_this$uplodedFeatures28 = this.uplodedFeatures) === null || _this$uplodedFeatures28 === void 0 ? void 0 : (_this$uplodedFeatures29 = _this$uplodedFeatures28[this.selectedCADIndex]) === null || _this$uplodedFeatures29 === void 0 ? void 0 : (_this$uplodedFeatures30 = _this$uplodedFeatures29.shapeFeatures) === null || _this$uplodedFeatures30 === void 0 ? void 0 : (_this$uplodedFeatures31 = _this$uplodedFeatures30.landbase) === null || _this$uplodedFeatures31 === void 0 ? void 0 : _this$uplodedFeatures31.length) || 0 / this.pageSize;
        this.totalInvestalParcelPage = ((_this$uplodedFeatures32 = this.uplodedFeatures) === null || _this$uplodedFeatures32 === void 0 ? void 0 : (_this$uplodedFeatures33 = _this$uplodedFeatures32[this.selectedCADIndex]) === null || _this$uplodedFeatures33 === void 0 ? void 0 : (_this$uplodedFeatures34 = _this$uplodedFeatures33.shapeFeatures) === null || _this$uplodedFeatures34 === void 0 ? void 0 : (_this$uplodedFeatures35 = _this$uplodedFeatures34.landbase) === null || _this$uplodedFeatures35 === void 0 ? void 0 : (_this$uplodedFeatures36 = _this$uplodedFeatures35.filter(parcel => parcel.is_cut == 2)) === null || _this$uplodedFeatures36 === void 0 ? void 0 : _this$uplodedFeatures36.length) || 0 / this.pageSize;
        this.totalStreetPage = ((_this$streets2 = this.streets) === null || _this$streets2 === void 0 ? void 0 : _this$streets2.length) || 0 / this.pageSize;
        this.enableDownlaodCad = (_this$uplodedFeatures37 = this.uplodedFeatures) !== null && _this$uplodedFeatures37 !== void 0 && (_this$uplodedFeatures38 = _this$uplodedFeatures37[this.selectedCADIndex]) !== null && _this$uplodedFeatures38 !== void 0 && _this$uplodedFeatures38.cad_path ? true : false;
      });
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "updateStatisticParcels", props => {
      var _$chain, _$chain$sortBy, _this$uplodedFeatures39, _this$uplodedFeatures40, _this$uplodedFeatures41, _pacrelTypes, _pacrelTypes$map, _pacrelTypes2, _$chain2, _$chain2$reduce, _props$mainObject, _props$mainObject$dat, _props$mainObject$dat2, _props$mainObject$dat3, _Object$keys, _this$uplodedFeatures42;
      //statistics استعمالات
      let statisticsParcels = [];
      var pacrelTypes = (_$chain = _.chain((_this$uplodedFeatures39 = this.uplodedFeatures) === null || _this$uplodedFeatures39 === void 0 ? void 0 : (_this$uplodedFeatures40 = _this$uplodedFeatures39[this.selectedCADIndex]) === null || _this$uplodedFeatures40 === void 0 ? void 0 : (_this$uplodedFeatures41 = _this$uplodedFeatures40.shapeFeatures) === null || _this$uplodedFeatures41 === void 0 ? void 0 : _this$uplodedFeatures41.landbase)) === null || _$chain === void 0 ? void 0 : (_$chain$sortBy = _$chain.sortBy(d => {
        var found = _.find(this.servicesTypes, v => {
          return v.symbol_id == d.typeId;
        });
        return found && found.sort_id ? found.sort_id : 100;
      })) === null || _$chain$sortBy === void 0 ? void 0 : _$chain$sortBy.groupBy("typeName");
      this.detailsParcelTypes = (_pacrelTypes = pacrelTypes) === null || _pacrelTypes === void 0 ? void 0 : (_pacrelTypes$map = _pacrelTypes.map((list, key) => {
        return {
          key: key,
          usingTypeArea: _.reduce(list, (memo, d) => {
            return memo + +d.area;
          }, 0),
          value: _.chain(list).groupBy(d => {
            return d.subType && d.subType.sublayer_code;
          }).map((list, key) => {
            return {
              key: key,
              value: list,
              total_area: _.reduce(list, (memo, d) => {
                return memo + +d.area;
              }, 0)
            };
          }).value()
        };
      })) === null || _pacrelTypes$map === void 0 ? void 0 : _pacrelTypes$map.value();
      pacrelTypes = (_pacrelTypes2 = pacrelTypes) === null || _pacrelTypes2 === void 0 ? void 0 : _pacrelTypes2.value();
      var msa7y_area = (_$chain2 = _.chain((_props$mainObject = props.mainObject) === null || _props$mainObject === void 0 ? void 0 : (_props$mainObject$dat = _props$mainObject.data_msa7y) === null || _props$mainObject$dat === void 0 ? void 0 : (_props$mainObject$dat2 = _props$mainObject$dat.msa7yData) === null || _props$mainObject$dat2 === void 0 ? void 0 : (_props$mainObject$dat3 = _props$mainObject$dat2.cadDetails) === null || _props$mainObject$dat3 === void 0 ? void 0 : _props$mainObject$dat3.suggestionsParcels)) === null || _$chain2 === void 0 ? void 0 : (_$chain2$reduce = _$chain2.reduce((a, b) => {
        return a + +b.area;
      }, 0)) === null || _$chain2$reduce === void 0 ? void 0 : _$chain2$reduce.value();
      (_Object$keys = Object.keys(pacrelTypes)) === null || _Object$keys === void 0 ? void 0 : _Object$keys.forEach(parcelTypeKey => {
        var area = pacrelTypes[parcelTypeKey].map(p => {
          return p.area;
        }).reduce((a, b) => {
          return a + b;
        });
        statisticsParcels.push({
          name: parcelTypeKey,
          area: area,
          is_cut: pacrelTypes[parcelTypeKey][0].is_cut,
          is_notfees: pacrelTypes[parcelTypeKey][0].is_notfees,
          areaPercentage: area / (props.mainObject.submission_data.mostafed_data.e3adt_tanzem && msa7y_area || this.TotalParcelArea) * 100
        });
      });
      //

      Object(_common_common_func__WEBPACK_IMPORTED_MODULE_4__["calculateSchemanticProportions"])((_this$uplodedFeatures42 = this.uplodedFeatures) === null || _this$uplodedFeatures42 === void 0 ? void 0 : _this$uplodedFeatures42[this.selectedCADIndex], statisticsParcels, this.TotalParcelArea, props.mainObject);
      return statisticsParcels;
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "dragLength", (map, event) => {
      map.disableMapNavigation();
      map.getLayer("PacrelNoGraphicLayer").remove(event.graphic);
      Object(_common_common_func__WEBPACK_IMPORTED_MODULE_4__["addParcelNo"])(event.mapPoint, map, "" + event.graphic.attributes["text"], "PacrelNoGraphicLayer", 12, null, event.graphic.attributes["angle"], null, {
        text: event.graphic.attributes["text"],
        angle: event.graphic.attributes["angle"]
      }, true, response => {
        _classPrivateFieldGet(_addLayerFeature, this).call(this, map, "PacrelNoGraphicLayer", response);
      }, false);
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "clearBuffer", map => {
      if (map.getLayer("BufferGraphicLayer")) map.getLayer("BufferGraphicLayer").clear();
    });
    _classPrivateFieldInitSpec(this, _addLayerFeature, (map, layerName, response) => {
      let maplayerIndex = map.graphicsLayerIds.findIndex(r => r == layerName);
      let layerIndex = this.layers.findIndex(r => r.layerName == layerName);
      if (layerIndex > -1) {
        let graphicIndex = this.layers[layerIndex].graphics.findIndex(r => {
          var _r$geometry, _response$geometry, _r$geometry2, _response$geometry2, _r$geometry3, _response$geometry3, _r$geometry4, _response$geometry4, _response$geometry5, _r$geometry7, _r$geometry8, _response$geometry6, _response$geometry7, _r$geometry11;
          return (r === null || r === void 0 ? void 0 : (_r$geometry = r.geometry) === null || _r$geometry === void 0 ? void 0 : _r$geometry.x) && (response === null || response === void 0 ? void 0 : (_response$geometry = response.geometry) === null || _response$geometry === void 0 ? void 0 : _response$geometry.x) && (r === null || r === void 0 ? void 0 : (_r$geometry2 = r.geometry) === null || _r$geometry2 === void 0 ? void 0 : _r$geometry2.x) == (response === null || response === void 0 ? void 0 : (_response$geometry2 = response.geometry) === null || _response$geometry2 === void 0 ? void 0 : _response$geometry2.x) && (r === null || r === void 0 ? void 0 : (_r$geometry3 = r.geometry) === null || _r$geometry3 === void 0 ? void 0 : _r$geometry3.y) == (response === null || response === void 0 ? void 0 : (_response$geometry3 = response.geometry) === null || _response$geometry3 === void 0 ? void 0 : _response$geometry3.y) || (r === null || r === void 0 ? void 0 : (_r$geometry4 = r.geometry) === null || _r$geometry4 === void 0 ? void 0 : _r$geometry4.rings) && (response === null || response === void 0 ? void 0 : (_response$geometry4 = response.geometry) === null || _response$geometry4 === void 0 ? void 0 : _response$geometry4.rings) && (response === null || response === void 0 ? void 0 : (_response$geometry5 = response.geometry) === null || _response$geometry5 === void 0 ? void 0 : _response$geometry5.rings[0].filter((t, i) => {
            var _r$geometry5, _r$geometry6;
            return t[0][0] == (r === null || r === void 0 ? void 0 : (_r$geometry5 = r.geometry) === null || _r$geometry5 === void 0 ? void 0 : _r$geometry5.rings[0][i][0]) && t[0][1] == (r === null || r === void 0 ? void 0 : (_r$geometry6 = r.geometry) === null || _r$geometry6 === void 0 ? void 0 : _r$geometry6.rings[0][i][1]);
          }).length) == (r === null || r === void 0 ? void 0 : (_r$geometry7 = r.geometry) === null || _r$geometry7 === void 0 ? void 0 : _r$geometry7.rings[0].length) || (r === null || r === void 0 ? void 0 : (_r$geometry8 = r.geometry) === null || _r$geometry8 === void 0 ? void 0 : _r$geometry8.paths) && (response === null || response === void 0 ? void 0 : (_response$geometry6 = response.geometry) === null || _response$geometry6 === void 0 ? void 0 : _response$geometry6.paths) && (response === null || response === void 0 ? void 0 : (_response$geometry7 = response.geometry) === null || _response$geometry7 === void 0 ? void 0 : _response$geometry7.paths[0].filter((t, i) => {
            var _r$geometry9, _r$geometry10;
            return t[0][0] == (r === null || r === void 0 ? void 0 : (_r$geometry9 = r.geometry) === null || _r$geometry9 === void 0 ? void 0 : _r$geometry9.paths[0][i][0]) && t[0][1] == (r === null || r === void 0 ? void 0 : (_r$geometry10 = r.geometry) === null || _r$geometry10 === void 0 ? void 0 : _r$geometry10.paths[0][i][1]);
          }).length) == (r === null || r === void 0 ? void 0 : (_r$geometry11 = r.geometry) === null || _r$geometry11 === void 0 ? void 0 : _r$geometry11.paths[0].length);
        });
        if (graphicIndex != -1) {
          this.layers[layerIndex].graphics[graphicIndex] = response.toJson();
        } else {
          this.layers[layerIndex].graphics.push(response.toJson());
        }
      } else {
        this.layers.splice(0, 0, {
          layerIndex: maplayerIndex,
          layerName: layerName,
          graphics: [response.toJson()]
        });
      }
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_0___default()(this, "openPopup", (props, inEditMode, key, callback) => {
      let scope = this;
      let {
        selectedCADIndex,
        uplodedFeatures
      } = scope;
      let selectedPlan = uplodedFeatures && uplodedFeatures[selectedCADIndex];
      var fields = inEditMode && _classPrivateFieldGet(_fields, this) || _classPrivateFieldGet(_editFields, this);
      props.setMain("Popup", {
        popup: {
          type: "create",
          childProps: {
            fields,
            initialValues: {
              ...selectedPlan.shapeFeatures.landbase[key]
            },
            ok(values) {
              values.cuttes_area = 0;
              if (values.survayParcelCutter.length) {
                if (values.survayParcelCutter[0].NORTH_EAST_DIRECTION) {
                  values.cuttes_area += +values.survayParcelCutter[0].NORTH_EAST_DIRECTION;
                }
                if (values.survayParcelCutter[0].NORTH_WEST_DIRECTION) {
                  values.cuttes_area += +values.survayParcelCutter[0].NORTH_WEST_DIRECTION;
                }
                if (values.survayParcelCutter[0].SOUTH_EAST_DIRECTION) {
                  values.cuttes_area += +values.survayParcelCutter[0].SOUTH_EAST_DIRECTION;
                }
                if (values.survayParcelCutter[0].SOUTH_WEST_DIRECTION) {
                  values.cuttes_area += +values.survayParcelCutter[0].SOUTH_WEST_DIRECTION;
                }
              }
              selectedPlan.shapeFeatures.landbase[key] = {
                ...selectedPlan.shapeFeatures.landbase[key],
                ...values
              };
              callback();
              return Promise.resolve(true);
            }
          }
        }
      });
    });
    const {
      mainObject: {
        currentStepId
      },
      currentModule: {
        record: {
          CurrentStep
        }
      }
    } = _props2;
    let _props = _props2;
    if ((plan === null || plan === void 0 ? void 0 : plan.selectedCAD) == "firstCAD" || (plan === null || plan === void 0 ? void 0 : plan.selectedCAD) == "perfectCad") this.selectedCAD = "perfectCad";else if ((plan === null || plan === void 0 ? void 0 : plan.selectedCAD) == "secondCAD" || (plan === null || plan === void 0 ? void 0 : plan.selectedCAD) == "secondCad") this.selectedCAD = "secondCad";else if ((plan === null || plan === void 0 ? void 0 : plan.selectedCAD) == "thirdCAD" || (plan === null || plan === void 0 ? void 0 : plan.selectedCAD) == "thirdCad") this.selectedCAD = "thirdCad";
    this.selectedCADIndex = this !== null && this !== void 0 && this.selectedCAD ? (this === null || this === void 0 ? void 0 : this.selectedCAD) == "perfectCad" ? 0 : (this === null || this === void 0 ? void 0 : this.selectedCAD) == "secondCad" ? 1 : 2 : -1;
    this.layers = (plan === null || plan === void 0 ? void 0 : (_plan$layers = plan.layers) === null || _plan$layers === void 0 ? void 0 : _plan$layers.length) && plan.layers || ((_props$values = _props.values) === null || _props$values === void 0 ? void 0 : (_props$values$mapview = _props$values.mapviewer) === null || _props$values$mapview === void 0 ? void 0 : _props$values$mapview.mapGraphics) || [];
    this.pageSize = (_props === null || _props === void 0 ? void 0 : _props.pageSize) || 15;
    this.isInvestalIncluded = (plan === null || plan === void 0 ? void 0 : plan.isInvestalIncluded) || false;
    this.statisticsParcels = (plan === null || plan === void 0 ? void 0 : plan.statisticsParcels) || [];
    this.enableDownlaodCad = (plan === null || plan === void 0 ? void 0 : plan.enableDownlaodCad) || false;
    this.planDescription = (plan === null || plan === void 0 ? void 0 : plan.planDescription) || "";
    this.streets = (plan === null || plan === void 0 ? void 0 : plan.streets) || [];
    this.detailsParcelTypes = (plan === null || plan === void 0 ? void 0 : plan.detailsParcelTypes) || [];
    this.uplodedFeatures = (plan === null || plan === void 0 ? void 0 : plan.uplodedFeatures) || [];
    this.streetsAnnotation = (plan === null || plan === void 0 ? void 0 : plan.streetsAnnotation) || [];
    this.serviceSubType = (plan === null || plan === void 0 ? void 0 : plan.serviceSubType) || {};
    this.serviceType = (plan === null || plan === void 0 ? void 0 : plan.serviceType) || {};
    this.planUsingSymbol = (plan === null || plan === void 0 ? void 0 : plan.planUsingSymbol) || "";
    this.hide_details = (plan === null || plan === void 0 ? void 0 : plan.hide_details) || (this.statisticsParcels.length > 0 ? false : true);
    this.servicesTypes = (plan === null || plan === void 0 ? void 0 : plan.servicesTypes) || [];
    this.servicesSubTypes = (plan === null || plan === void 0 ? void 0 : plan.servicesSubTypes) || [];
    this.TotalParcelArea = (plan === null || plan === void 0 ? void 0 : plan.TotalParcelArea) || 0;
    this.current_step = CurrentStep && CurrentStep.id || currentStepId;
    //this.totalParcelPage = plan?.totalParcelPage || 0;
    //this.totalInvestalParcelPage = plan?.totalInvestalParcelPage || 0;
    //this.totalStreetPage = plan?.totalStreetPage || 0;
    this.minParcelIndex = (plan === null || plan === void 0 ? void 0 : plan.minParcelIndex) || 0;
    this.maxParcelIndex = (plan === null || plan === void 0 ? void 0 : plan.maxParcelIndex) || 1 * this.pageSize;
    this.minInvestalParcelIndex = (plan === null || plan === void 0 ? void 0 : plan.minInvestalParcelIndex) || 0;
    this.maxInvestalParcelIndex = (plan === null || plan === void 0 ? void 0 : plan.maxInvestalParcelIndex) || 1 * this.pageSize;
    this.minStreetIndex = (plan === null || plan === void 0 ? void 0 : plan.minStreetIndex) || 0;
    this.maxStreetIndex = (plan === null || plan === void 0 ? void 0 : plan.maxStreetIndex) || 1 * this.pageSize;
    this.bufferDistance = (plan === null || plan === void 0 ? void 0 : plan.bufferDistance) || 5;
    this.totalParcelPage = (plan === null || plan === void 0 ? void 0 : (_plan$uplodedFeatures = plan.uplodedFeatures) === null || _plan$uplodedFeatures === void 0 ? void 0 : (_plan$uplodedFeatures2 = _plan$uplodedFeatures[(plan === null || plan === void 0 ? void 0 : plan.selectedCADIndex) || 0]) === null || _plan$uplodedFeatures2 === void 0 ? void 0 : (_plan$uplodedFeatures3 = _plan$uplodedFeatures2.shapeFeatures) === null || _plan$uplodedFeatures3 === void 0 ? void 0 : (_plan$uplodedFeatures4 = _plan$uplodedFeatures3.landbase) === null || _plan$uplodedFeatures4 === void 0 ? void 0 : (_plan$uplodedFeatures5 = _plan$uplodedFeatures4.filter(parcel => parcel.is_cut != 2)) === null || _plan$uplodedFeatures5 === void 0 ? void 0 : _plan$uplodedFeatures5.length) / this.pageSize || 0;
    this.totalInvestalParcelPage = (plan === null || plan === void 0 ? void 0 : (_plan$uplodedFeatures6 = plan.uplodedFeatures) === null || _plan$uplodedFeatures6 === void 0 ? void 0 : (_plan$uplodedFeatures7 = _plan$uplodedFeatures6[(plan === null || plan === void 0 ? void 0 : plan.selectedCADIndex) || 0]) === null || _plan$uplodedFeatures7 === void 0 ? void 0 : (_plan$uplodedFeatures8 = _plan$uplodedFeatures7.shapeFeatures) === null || _plan$uplodedFeatures8 === void 0 ? void 0 : (_plan$uplodedFeatures9 = _plan$uplodedFeatures8.landbase) === null || _plan$uplodedFeatures9 === void 0 ? void 0 : (_plan$uplodedFeatures10 = _plan$uplodedFeatures9.filter(parcel => parcel.is_cut == 2)) === null || _plan$uplodedFeatures10 === void 0 ? void 0 : _plan$uplodedFeatures10.length) / this.pageSize || 0;
    this.totalStreetPage = (plan === null || plan === void 0 ? void 0 : plan.streets) && (plan === null || plan === void 0 ? void 0 : plan.streets.length) / this.pageSize || 0;
    this.servicesLayer = _.filter(((_window = window) === null || _window === void 0 ? void 0 : (_window$mapInfo = _window.mapInfo) === null || _window$mapInfo === void 0 ? void 0 : (_window$mapInfo$info = _window$mapInfo.info) === null || _window$mapInfo$info === void 0 ? void 0 : (_window$mapInfo$info$ = _window$mapInfo$info.$layers) === null || _window$mapInfo$info$ === void 0 ? void 0 : _window$mapInfo$info$.layers) || [], d => {
      return d.name == "Serivces_Data" || d.name == "Service_Data";
    })[0];
    if (!(plan !== null && plan !== void 0 && (_plan$buildingConditi = plan.buildingCondition) !== null && _plan$buildingConditi !== void 0 && _plan$buildingConditi.length) && !(_props !== null && _props !== void 0 && (_props$mainObject2 = _props.mainObject) !== null && _props$mainObject2 !== void 0 && (_props$mainObject2$bu = _props$mainObject2.buildingCondition) !== null && _props$mainObject2$bu !== void 0 && _props$mainObject2$bu.length)) {
      this.setBuildingCondition(_props).then(response => {
        this.buildingCondition = response;
      });
    } else {
      var _props$mainObject3;
      this.buildingCondition = (plan === null || plan === void 0 ? void 0 : plan.buildingCondition) || (_props === null || _props === void 0 ? void 0 : (_props$mainObject3 = _props.mainObject) === null || _props$mainObject3 === void 0 ? void 0 : _props$mainObject3.buildingCondition);
    }
    this.tempParcels = plan === null || plan === void 0 ? void 0 : (_plan$uplodedFeatures11 = plan.uplodedFeatures) === null || _plan$uplodedFeatures11 === void 0 ? void 0 : (_plan$uplodedFeatures12 = _plan$uplodedFeatures11[(plan === null || plan === void 0 ? void 0 : plan.selectedCADIndex) || 0]) === null || _plan$uplodedFeatures12 === void 0 ? void 0 : _plan$uplodedFeatures12.shapeFeatures.landbase.filter(function (land) {
      return land.typeName != "شوارع" && land.typeName != "مواقف" && land.typeName != "ممرات مشاة";
    });
  }
  drawfeaturesAnnotations(props, map, cadLayer, annotationLayerName, layerCallback, annotationCallback, finalCallback, boundryColor) {
    var _cadLayer$annotationL;
    const {
      mainObject
    } = props;
    const {
      mainObject: {
        currentStepId
      },
      currentModule: {
        record: {
          CurrentStep
        }
      }
    } = props;
    if ((_cadLayer$annotationL = cadLayer[annotationLayerName]) !== null && _cadLayer$annotationL !== void 0 && _cadLayer$annotationL.length) {
      var _cadLayer$annotationL2;
      (_cadLayer$annotationL2 = cadLayer[annotationLayerName]) === null || _cadLayer$annotationL2 === void 0 ? void 0 : _cadLayer$annotationL2.forEach(cadfeature => {
        var _this$uplodedFeatures43, _this$uplodedFeatures44;
        if (cadfeature.spatialReference && !cadfeature.spatialReference.wkid) {
          cadfeature.spatialReference = map.spatialReference;
        }
        var feature = new esri.geometry.Polygon(cadfeature);
        _.filter((_this$uplodedFeatures43 = this.uplodedFeatures) === null || _this$uplodedFeatures43 === void 0 ? void 0 : (_this$uplodedFeatures44 = _this$uplodedFeatures43[this.selectedCADIndex]) === null || _this$uplodedFeatures44 === void 0 ? void 0 : _this$uplodedFeatures44.annotations, d => {
          return d.layer == annotationLayerName;
        }).forEach(annotation => {
          var _annotation$shape, _annotation$shape2, _annotation$shape2$sp;
          let isContained = false;
          if (annotation !== null && annotation !== void 0 && (_annotation$shape = annotation.shape) !== null && _annotation$shape !== void 0 && _annotation$shape.spatialReference && !(annotation !== null && annotation !== void 0 && (_annotation$shape2 = annotation.shape) !== null && _annotation$shape2 !== void 0 && (_annotation$shape2$sp = _annotation$shape2.spatialReference) !== null && _annotation$shape2$sp !== void 0 && _annotation$shape2$sp.wkid)) {
            annotation.shape.spatialReference = map === null || map === void 0 ? void 0 : map.spatialReference;
          }
          if (feature.contains && feature.contains(annotation.shape)) {
            cadfeature.text = annotation.text;
            isContained = true;
          }
          if (annotationCallback) {
            annotationCallback(cadfeature, annotation, isContained);
          }
        });
        var found = [];
        if (mainObject !== null && mainObject !== void 0 && mainObject.data_msa7y && annotationLayerName == "boundry") {
          found = _.filter(feature.rings[0], ring => {
            return _.find(mainObject.data_msa7y.msa7yData.cadDetails.temp.cadResults.data[0].shapeFeatures[0].rings[0], ring2 => {
              return ring2[0] == ring[0] && ring2[1] == ring[1];
            });
          });
          if (found.length != mainObject.data_msa7y.msa7yData.cadDetails.temp.cadResults.data[0].shapeFeatures[0].rings[0].length && CurrentStep == 2317) {
            this.isWithIn = false;
            window.notifySystem("error", t("PLANOOUTSIDETHEBOUDRY"));
          } else {
            this.isWithIn = true;
            Object(_common_common_func__WEBPACK_IMPORTED_MODULE_4__["addGraphicToLayer"])(feature, map, "detailedGraphicLayer", boundryColor || [0, 0, 0], null, null, response => {
              _classPrivateFieldGet(_addLayerFeature, this).call(this, map, "detailedGraphicLayer", response);
              Object(_common_common_func__WEBPACK_IMPORTED_MODULE_4__["resizeMap"])(map);
            }, null, null, true, null, null, false);
          }
        } else {
          Object(_common_common_func__WEBPACK_IMPORTED_MODULE_4__["addGraphicToLayer"])(feature, map, "detailedGraphicLayer", [0, 0, 0], null, null, response => {
            _classPrivateFieldGet(_addLayerFeature, this).call(this, map, "detailedGraphicLayer", response);
            Object(_common_common_func__WEBPACK_IMPORTED_MODULE_4__["resizeMap"])(map);
          }, null, null, true, null, null, false);
        }
        if (annotationLayerName == "boundry") {
          var _mainObject$data_msa, _mainObject$data_msa$, _mainObject$data_msa$2, _mainObject$data_msa$3;
          cadfeature.area -= +(mainObject === null || mainObject === void 0 ? void 0 : (_mainObject$data_msa = mainObject.data_msa7y) === null || _mainObject$data_msa === void 0 ? void 0 : (_mainObject$data_msa$ = _mainObject$data_msa.msa7yData) === null || _mainObject$data_msa$ === void 0 ? void 0 : (_mainObject$data_msa$2 = _mainObject$data_msa$.cadDetails) === null || _mainObject$data_msa$2 === void 0 ? void 0 : (_mainObject$data_msa$3 = _mainObject$data_msa$2.cuttes_area) === null || _mainObject$data_msa$3 === void 0 ? void 0 : _mainObject$data_msa$3.toFixed(2)) || 0;
        } else if (annotationLayerName == "landbase") {
          this.TotalParcelArea += cadfeature.area;
        }
        if (layerCallback) {
          layerCallback(map, cadfeature);
        }
      });
      if (this.isWithIn) {
        if (finalCallback) {
          finalCallback();
        }
      }
    }
  }
}

/***/ }),

/***/ "./src/app/components/inputs/fields/identify/Component/msa7yDataComponent/Helpers.js":
/*!*******************************************************************************************!*\
  !*** ./src/app/components/inputs/fields/identify/Component/msa7yDataComponent/Helpers.js ***!
  \*******************************************************************************************/
/*! exports provided: selectDis, DataQuery, queryOption, querySetting, DataReqest */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectDis", function() { return selectDis; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DataQuery", function() { return DataQuery; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "queryOption", function() { return queryOption; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "querySetting", function() { return querySetting; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DataReqest", function() { return DataReqest; });
/* harmony import */ var esri_loader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! esri-loader */ "./node_modules/esri-loader/dist/umd/esri-loader.js");
/* harmony import */ var esri_loader__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(esri_loader__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _mapviewer_config_map__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../mapviewer/config/map */ "./src/app/components/inputs/fields/identify/Component/mapviewer/config/map.js");


const options = {
  url: 'https://js.arcgis.com/3.13'
};
const selectDis = e => {
  var a = [];
  e.forEach(el => {
    el.features.forEach(element => {
      if (!a.find(t => t.attributes.PARCEL_SPATIAL_ID == element.attributes.PARCEL_SPATIAL_ID)) {
        a.push(element);
      }
    });
  });
  return a;
};
const DataQuery = (layerNum, QueryOptions, CallBack) => {
  Object(esri_loader__WEBPACK_IMPORTED_MODULE_0__["loadModules"])(["esri/symbols/SimpleLineSymbol", "esri/Color", "esri/layers/FeatureLayer", "esri/tasks/RelationshipQuery", "esri/tasks/QueryTask", "esri/tasks/query", "esri/request", "esri/geometry/Polygon", "esri/symbols/SimpleFillSymbol", "esri/graphic"], options).then(([SimpleLineSymbol, Color, FeatureLayer, RQuery, QueryTask, Query, request, Polygon, SimpleFillSymbol, Graphic]) => {
    var query = new Query();
    var qt = new QueryTask(_mapviewer_config_map__WEBPACK_IMPORTED_MODULE_1__["mapUrl"] + `/${layerNum}`);
    QueryOptions.forEach(e => {
      query[e.name] = e.value;
    });
    qt.execute(query, CallBack, res => {
      console.log(res);
    });
  });
};
const queryOption = (where, geo, outfields) => {
  return [{
    name: "where",
    value: where
  }, {
    name: "returnGeometry",
    value: geo
  }, {
    name: "outFields",
    value: outfields
  }];
};
const querySetting = (num, where, geo, outfields, url) => {
  return {
    url: (url || _mapviewer_config_map__WEBPACK_IMPORTED_MODULE_1__["mapUrl"]) + "/" + num,
    where,
    returnGeometry: geo,
    outFields: outfields
  };
};
const DataReqest = (url, callBack) => {
  Object(esri_loader__WEBPACK_IMPORTED_MODULE_0__["loadModules"])(["esri/request"], options).then(([request]) => {
    request({
      url: url,
      content: {
        f: "json"
      },
      handleAs: "json",
      callbackParamName: "callback"
    }).then(callBack);
  });
};

/***/ }),

/***/ "./src/app/components/inputs/fields/identify/Component/msa7yDataComponent/planDataStyle.css":
/*!**************************************************************************************************!*\
  !*** ./src/app/components/inputs/fields/identify/Component/msa7yDataComponent/planDataStyle.css ***!
  \**************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(/*! !../../../../../../../../node_modules/css-loader/dist/cjs.js!./planDataStyle.css */ "./node_modules/css-loader/dist/cjs.js!./src/app/components/inputs/fields/identify/Component/msa7yDataComponent/planDataStyle.css");

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(/*! ../../../../../../../../node_modules/style-loader/lib/addStyles.js */ "./node_modules/style-loader/lib/addStyles.js")(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),

/***/ "./src/app/components/inputs/fields/identify/Component/msa7yDataComponent/plansData_new.js":
/*!*************************************************************************************************!*\
  !*** ./src/app/components/inputs/fields/identify/Component/msa7yDataComponent/plansData_new.js ***!
  \*************************************************************************************************/
/*! exports provided: appMapDispatchToProps, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "appMapDispatchToProps", function() { return appMapDispatchToProps; });
/* harmony import */ var antd_lib_tooltip_style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! antd/lib/tooltip/style */ "./node_modules/antd/lib/tooltip/style/index.js");
/* harmony import */ var antd_lib_tooltip_style__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(antd_lib_tooltip_style__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var antd_lib_tooltip__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! antd/lib/tooltip */ "./node_modules/antd/lib/tooltip/index.js");
/* harmony import */ var antd_lib_tooltip__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(antd_lib_tooltip__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var antd_lib_pagination_style__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! antd/lib/pagination/style */ "./node_modules/antd/lib/pagination/style/index.js");
/* harmony import */ var antd_lib_pagination_style__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(antd_lib_pagination_style__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var antd_lib_pagination__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! antd/lib/pagination */ "./node_modules/antd/lib/pagination/index.js");
/* harmony import */ var antd_lib_pagination__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(antd_lib_pagination__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var antd_lib_select_style__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! antd/lib/select/style */ "./node_modules/antd/lib/select/style/index.js");
/* harmony import */ var antd_lib_select_style__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(antd_lib_select_style__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var antd_lib_select__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! antd/lib/select */ "./node_modules/antd/lib/select/index.js");
/* harmony import */ var antd_lib_select__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(antd_lib_select__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var antd_lib_collapse_style__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! antd/lib/collapse/style */ "./node_modules/antd/lib/collapse/style/index.js");
/* harmony import */ var antd_lib_collapse_style__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(antd_lib_collapse_style__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var antd_lib_collapse__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! antd/lib/collapse */ "./node_modules/antd/lib/collapse/index.js");
/* harmony import */ var antd_lib_collapse__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(antd_lib_collapse__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var antd_lib_tabs_style__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! antd/lib/tabs/style */ "./node_modules/antd/lib/tabs/style/index.js");
/* harmony import */ var antd_lib_tabs_style__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(antd_lib_tabs_style__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var antd_lib_tabs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! antd/lib/tabs */ "./node_modules/antd/lib/tabs/index.js");
/* harmony import */ var antd_lib_tabs__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(antd_lib_tabs__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var antd_lib_radio_style__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! antd/lib/radio/style */ "./node_modules/antd/lib/radio/style/index.js");
/* harmony import */ var antd_lib_radio_style__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(antd_lib_radio_style__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var antd_lib_radio__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! antd/lib/radio */ "./node_modules/antd/lib/radio/index.js");
/* harmony import */ var antd_lib_radio__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(antd_lib_radio__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var lodash_isEmpty__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lodash/isEmpty */ "./node_modules/lodash/isEmpty.js");
/* harmony import */ var lodash_isEmpty__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(lodash_isEmpty__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var lodash_map__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lodash/map */ "./node_modules/lodash/map.js");
/* harmony import */ var lodash_map__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(lodash_map__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var _helpers_apiMethods__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../../../helpers/apiMethods */ "./src/app/helpers/apiMethods/index.js");
/* harmony import */ var _main_helpers_functions_filters_state__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../../../../main_helpers/functions/filters/state */ "./src/main_helpers/functions/filters/state.js");
/* harmony import */ var _common_esri_request__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../common/esri_request */ "./src/app/components/inputs/fields/identify/Component/common/esri_request.js");
/* harmony import */ var redux_form__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! redux-form */ "./node_modules/redux-form/es/index.js");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _common_common_func__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../common/common_func */ "./src/app/components/inputs/fields/identify/Component/common/common_func.js");
/* harmony import */ var _main_helpers_functions_filters__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../../../../../main_helpers/functions/filters */ "./src/main_helpers/functions/filters/index.js");
/* harmony import */ var _mapviewer_config_layers__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../mapviewer/config/layers */ "./src/app/components/inputs/fields/identify/Component/mapviewer/config/layers.js");
/* harmony import */ var _mapviewer_config_map__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../mapviewer/config/map */ "./src/app/components/inputs/fields/identify/Component/mapviewer/config/map.js");
/* harmony import */ var react_beautiful_dnd__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! react-beautiful-dnd */ "./node_modules/react-beautiful-dnd/dist/react-beautiful-dnd.esm.js");
/* harmony import */ var antd_dist_antd_css__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! antd/dist/antd.css */ "./node_modules/antd/dist/antd.css");
/* harmony import */ var antd_dist_antd_css__WEBPACK_IMPORTED_MODULE_26___default = /*#__PURE__*/__webpack_require__.n(antd_dist_antd_css__WEBPACK_IMPORTED_MODULE_26__);
/* harmony import */ var _MapComponent_MapComponent__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../MapComponent/MapComponent */ "./src/app/components/inputs/fields/identify/Component/MapComponent/MapComponent.js");
/* harmony import */ var _mapping__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../mapping */ "./src/app/components/inputs/fields/identify/Component/mapping.js");
/* harmony import */ var _main_helpers_actions_main__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../../../../../../main_helpers/actions/main */ "./src/main_helpers/actions/main/index.js");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _Helpers__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./Helpers */ "./src/app/components/inputs/fields/identify/Component/msa7yDataComponent/Helpers.js");
/* harmony import */ var _common_esri_loader__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../common/esri_loader */ "./src/app/components/inputs/fields/identify/Component/common/esri_loader.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! axios */ "./node_modules/axios/index.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_33___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_33__);
/* harmony import */ var _label__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../../../label */ "./src/app/components/inputs/fields/label/index.js");
/* harmony import */ var _reducers__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../../../../../../reducers */ "./src/app/reducers/index.js");
/* harmony import */ var _planDataStyle_css__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./planDataStyle.css */ "./src/app/components/inputs/fields/identify/Component/msa7yDataComponent/planDataStyle.css");
/* harmony import */ var _planDataStyle_css__WEBPACK_IMPORTED_MODULE_36___default = /*#__PURE__*/__webpack_require__.n(_planDataStyle_css__WEBPACK_IMPORTED_MODULE_36__);
/* harmony import */ var _Entity_PlanEntity__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./Entity/PlanEntity */ "./src/app/components/inputs/fields/identify/Component/msa7yDataComponent/Entity/PlanEntity.js");

























const RadioGroup = antd_lib_radio__WEBPACK_IMPORTED_MODULE_12___default.a.Group;
const {
  TabPane
} = antd_lib_tabs__WEBPACK_IMPORTED_MODULE_10___default.a;







var uniqid = __webpack_require__(/*! uniqid */ "./node_modules/uniqid/index.js");
const _ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");






//import { planSubmission } from "../../../../../wizard/modulesObjects/plan_approval/steps/final_approval_module/planSubmissionFunction";
const Panel = antd_lib_collapse__WEBPACK_IMPORTED_MODULE_8___default.a.Panel;
const reorder = (list, startIndex, endIndex) => {
  const result = Array.from(list);
  const [removed] = result.splice(startIndex, 1);
  result.splice(endIndex, 0, removed);
  return result;
};

/**
 * Moves an item from one list to another list.
 */
const move = (source, destination, droppableSource, droppableDestination) => {
  const sourceClone = Array.from(source);
  const destClone = Array.from(destination);
  const [removed] = sourceClone.splice(droppableSource.index, 1);
  destClone.splice(droppableDestination.index, 0, removed);
  const result = {};
  result[droppableSource.droppableId] = sourceClone;
  result[droppableDestination.droppableId] = destClone;
  return result;
};
const grid = 8;
const getItemStyle = (isDragging, draggableStyle) => ({
  // some basic styles to make the items look a bit nicer
  userSelect: "none",
  padding: "2px",
  fontSize: "20px",
  marginRight: "13px",
  float: "right",
  // change background colour if dragging
  background: "#E0E0E0",
  // styles we need to apply on draggables
  ...draggableStyle
});
const dragStyle = {
  float: "right",
  marginRight: "13px",
  backgroundColor: "#E0E0E0",
  padding: "2px"
};
const getListStyle = isDraggingOver => ({
  //background: isDraggingOver ? 'lightblue' : 'lightgrey',
  padding: grid,
  width: "100%",
  height: "60px"
});
const itemContainerNorth = {
  borderTop: "13px solid #008DFF",
  margin: "auto",
  height: "auto",
  width: "500px",
  backgroundColor: "white",
  boxShadow: "1px 1px 3px #505050",
  cursor: "pointer",
  borderRadius: "10px",
  padding: "5px",
  minHeight: "152px",
  overflow: "auto"
};
const sideClass = {
  float: "right",
  textAlign: "right",
  fontSize: "20px",
  marginLeft: "10px",
  marginRight: "10px",
  backgroundColor: "#E0E0E0"
};
const itemContainerWest = {
  borderLeft: "13px solid red",
  height: "auto",
  margin: "auto",
  width: "500px",
  marginTop: "15px",
  backgroundColor: "white",
  boxShadow: "1px 1px 3px #505050",
  cursor: "pointer",
  borderRadius: "10px",
  padding: "5px",
  minHeight: "152px",
  overflow: "auto"
};
const itemContainerEmpty = {
  height: "auto",
  margin: "35px 88px auto",
  width: "500px",
  marginTop: "15px",
  backgroundColor: "white",
  boxShadow: "1px 1px 3px #505050",
  cursor: "pointer",
  borderRadius: "10px",
  padding: "5px",
  minHeight: "152px",
  overflow: "auto"
};
const itemContainerEast = {
  borderRight: "13px solid #8A8A8A",
  height: "auto",
  width: "500px",
  marginTop: "15px",
  backgroundColor: "white",
  boxShadow: "1px 1px 3px #505050",
  cursor: "pointer",
  borderRadius: "10px",
  padding: "5px",
  minHeight: "152px",
  overflow: "auto"
};
const itemContainerSouth = {
  borderBottom: "13px solid #09F869",
  margin: "auto",
  height: "auto",
  width: "500px",
  marginTop: "15px",
  backgroundColor: "white",
  boxShadow: "1px 1px 3px #505050",
  cursor: "pointer",
  borderRadius: "10px",
  padding: "5px",
  minHeight: "152px",
  overflow: "auto"
};
const planDescStyle = {
  fontSize: "15px",
  fontWeight: "600",
  marginTop: "5px",
  marginBottom: "5px"
};
const containerDetails = {
  minHeight: "10em",
  width: "150em",
  display: "table-cell",
  verticalAlign: "middle"
};
const appMapDispatchToProps = dispatch => {
  return {
    ...Object(_mapping__WEBPACK_IMPORTED_MODULE_28__["mapDispatchToProps"])(dispatch, "plansData"),
    ...Object(_main_helpers_actions_main__WEBPACK_IMPORTED_MODULE_29__["default"])(dispatch)
  };
};
class plansDataComponent extends react__WEBPACK_IMPORTED_MODULE_15__["Component"] {
  constructor(props) {
    var _props$mainObject, _props$mainObject2, _props$mainObject3;
    super(props);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(this, "resetMap", () => {
      var _this$map, _this$map2;
      if (this !== null && this !== void 0 && (_this$map = this.map) !== null && _this$map !== void 0 && _this$map.graphicsLayerIds) {
        let arr = this.map.graphicsLayerIds.map(x => x);
        arr.forEach((layerName, index) => {
          if (layerName.toLowerCase().indexOf("Layer_G".toLowerCase()) != -1) {
            this.map.removeLayer(this.map.getLayer(layerName));
          } else {
            Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["clearGraphicFromLayer"])(this.map, layerName);
          }
        });
      }
      console.log("map", lodash_map__WEBPACK_IMPORTED_MODULE_14___default.a);
      (_this$map2 = this.map) === null || _this$map2 === void 0 ? void 0 : _this$map2.setExtent(new esri.geometry.Extent({
        xmin: 351074.79384063353,
        ymin: 2908411.351837893,
        xmax: 461736.99433170113,
        ymax: 2947768.2013849253,
        spatialReference: {
          wkid: 32639
        }
      }));
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(this, "init", function (newVal) {
      this.resetMap();
      const {
        plan
      } = this.state;
      plan.checkStreetDomains().then(domains => {
        plan.domains = domains;
        plan.checkServicesTypes().then(serviceTypes => {
          plan.servicesTypes = serviceTypes;
          plan.init_plan(this.props, newVal, this.map, () => {
            this.setState({
              plan
            }, () => {
              this.setToStore();
            });
          });
        });
      });
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(this, "onStreetChange", (key, evt) => {
      var _evt$target, _evt$target2;
      let {
        plan
      } = this.state;
      plan.streets[key][evt.target.name] = evt.target.name == "streetname" ? (evt === null || evt === void 0 ? void 0 : (_evt$target = evt.target) === null || _evt$target === void 0 ? void 0 : _evt$target.value) || "" : evt === null || evt === void 0 ? void 0 : (_evt$target2 = evt.target) === null || _evt$target2 === void 0 ? void 0 : _evt$target2.value;
      plan.streets[key].polygon = street.polygon || new esri.geometry.Polygon(plan.streets[key]);
      plan.streets[key].position = plan.streets[key].position || new esri.geometry.Polygon(plan.streets[key]).getExtent().getCenter();
      this.setState({
        plan
      }, () => {
        this.setToStore();
      });
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(this, "drawBuffer", function (bufferDistance) {
      const {
        plan
      } = this.state;
      plan.drawBuffer(bufferDistance, this.map, () => {
        _reducers__WEBPACK_IMPORTED_MODULE_35__["default"].dispatch({
          type: "Show_Loading_new",
          loading: false
        });
      });
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(this, "serviceChange", function (evt) {
      var item = JSON.parse(evt.target.value);
      let {
        plan
      } = this.state;
      plan.serviceType = item;
      plan.servicesSubTypes = item.cad_sublayers;
      this.setState({
        plan
      }, () => {
        this.setToStore();
      });
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(this, "clearBuffer", function () {
      const {
        plan
      } = this.state;
      plan.clearBuffer(this.map);
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(this, "dragLength", function (event) {
      const {
        plan
      } = this.state;
      plan.dragLength(this.map, event);
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(this, "moveBoundries", function () {
      window.onDragLengthLayer = [];
      window.onDragLengthLayer.push(this.dragLength);
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(this, "serviceSubChange", function (evt) {
      var item = JSON.parse(evt.target.value);
      let {
        plan
      } = this.state;
      plan.bufferDistance = +item.buffer_length;
      plan.serviceSubType = item;
      this.setState({
        plan
      }, () => {
        this.setToStore();
      });
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(this, "handleParcelChange", page => {
      let {
        plan
      } = this.state;
      plan.currentParcelPage = page;
      plan.minParcelIndex = (page - 1) * plan.pageSize;
      plan.maxParcelIndex = page * plan.pageSize;
      this.setState({
        plan
      }, () => {
        this.setToStore();
      });
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(this, "handleInvestalParcelChange", page => {
      let {
        plan
      } = this.state;
      plan.currentInvestalParcelPage = page;
      plan.minInvestalParcelIndex = (page - 1) * plan.pageSize;
      plan.maxInvestalParcelIndex = page * plan.pageSize;
      this.setState({
        plan
      }, () => {
        this.setToStore();
      });
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(this, "handleStreetChange", page => {
      let {
        plan
      } = this.state;
      plan.currentStreetPage = page;
      plan.minStreetIndex = (page - 1) * plan.pageSize;
      plan.maxStreetIndex = page * plan.pageSize;
      this.setState({
        plan
      }, () => {
        this.setToStore();
      });
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(this, "investalChange", (key, evt) => {
      let {
        plan
      } = this.state;
      if (key == -1) {
        plan.statisticsParcels = plan.updateStatisticParcels(this.props);
      } else {
        var _plan$uplodedFeatures;
        plan.statisticsParcels[key].isInvestalIncluded = plan.statisticsParcels[key].is_cut == 1 && true || evt.target.checked;
        Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["calculateSchemanticProportions"])((_plan$uplodedFeatures = plan.uplodedFeatures) === null || _plan$uplodedFeatures === void 0 ? void 0 : _plan$uplodedFeatures[plan.selectedCADIndex], plan.statisticsParcels, plan.TotalParcelArea, this.props.mainObject);
      }
      this.setState({
        plan
      }, () => {
        this.setToStore();
      });
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(this, "changeVisibilty", (layerName, isVisibile) => {
      let {
        plan
      } = this.state;
      var checkboxs = {};
      if (layerName == "markall") {
        plan.markall.isVisibile = !plan.markall.isVisibile;
        plan.servicesTypes.forEach(service => {
          if (this.map.getLayer("Layer_G" + service.symbol_id)) this.map.getLayer("Layer_G" + service.symbol_id).setOpacity(plan.markall.isVisibile ? 1 : 0);
          checkboxs[service.symbol_id + "_visbility"] = plan.markall.isVisibile ? 1 : 0;
        });
        if (this.map.getLayer("PacrelNoGraphicLayer")) this.map.getLayer("PacrelNoGraphicLayer").setOpacity(plan.markall.isVisibile ? 1 : 0);
      } else {
        if (this.map.getLayer("Layer_G" + layerName)) this.map.getLayer("Layer_G" + layerName).setOpacity(isVisibile ? 1 : 0);
        checkboxs[layerName + "_visbility"] = isVisibile ? 1 : 0;
      }
      this.setState({
        ...checkboxs
      });
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(this, "zoom", function (feature) {
      feature.type = "polygon";
      Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["highlightFeature"])({
        geometry: feature
      }, this.map, {
        layerName: "highlightGraphicLayer",
        isZoom: true,
        zoomFactor: 20,
        isHiglightSymbol: true,
        highlighColor: [0, 255, 255, 0.5]
      });
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(this, "highlight", function (feature) {
      feature.type = "polygon";
      Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["highlightFeature"])({
        geometry: feature
      }, this.map, {
        layerName: "highlightBoundriesGraphicLayer",
        isZoom: false,
        highlighColor: [0, 255, 255]
      });
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(this, "clearHighlight", feature => {
      Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["clearGraphicFromLayer"])(this.map, "highlightBoundriesGraphicLayer");
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(this, "setToStore", () => {
      var _plan$uplodedFeatures2, _plan$uplodedFeatures3, _plan$uplodedFeatures4, _plan$uplodedFeatures5, _plan$uplodedFeatures6, _plan$uplodedFeatures7, _plan$uplodedFeatures8, _plan$uplodedFeatures9, _plan$uplodedFeatures10, _plan$streets;
      const {
        plan
      } = this.state;
      var values = {
        isInvestalIncluded: plan === null || plan === void 0 ? void 0 : plan.isInvestalIncluded,
        statisticsParcels: plan === null || plan === void 0 ? void 0 : plan.statisticsParcels,
        enableDownlaodCad: plan !== null && plan !== void 0 && plan.uplodedFeatures.cad_path ? true : false,
        planDescription: plan === null || plan === void 0 ? void 0 : plan.planDescription,
        streets: plan === null || plan === void 0 ? void 0 : plan.streets,
        detailsParcelTypes: plan === null || plan === void 0 ? void 0 : plan.detailsParcelTypes,
        uplodedFeatures: plan === null || plan === void 0 ? void 0 : plan.uplodedFeatures,
        streetsAnnotation: plan === null || plan === void 0 ? void 0 : plan.streetsAnnotation,
        serviceSubType: plan === null || plan === void 0 ? void 0 : plan.serviceSubType,
        serviceType: plan === null || plan === void 0 ? void 0 : plan.serviceType,
        selectedCAD: plan === null || plan === void 0 ? void 0 : plan.selectedCAD,
        selectedCADIndex: plan === null || plan === void 0 ? void 0 : plan.selectedCADIndex,
        planUsingSymbol: plan === null || plan === void 0 ? void 0 : plan.planUsingSymbol,
        hide_details: plan === null || plan === void 0 ? void 0 : plan.hide_details,
        servicesTypes: plan === null || plan === void 0 ? void 0 : plan.servicesTypes,
        servicesSubTypes: plan === null || plan === void 0 ? void 0 : plan.servicesSubTypes,
        TotalParcelArea: plan === null || plan === void 0 ? void 0 : plan.TotalParcelArea,
        current_step: plan === null || plan === void 0 ? void 0 : plan.current_step,
        bufferDistance: plan === null || plan === void 0 ? void 0 : plan.bufferDistance,
        buildingCondition: (plan === null || plan === void 0 ? void 0 : plan.buildingCondition) || [],
        layers: plan.layers || []
      };
      var additionalValues = {
        totalParcelPage: (plan === null || plan === void 0 ? void 0 : (_plan$uplodedFeatures2 = plan.uplodedFeatures) === null || _plan$uplodedFeatures2 === void 0 ? void 0 : (_plan$uplodedFeatures3 = _plan$uplodedFeatures2[plan === null || plan === void 0 ? void 0 : plan.selectedCADIndex]) === null || _plan$uplodedFeatures3 === void 0 ? void 0 : (_plan$uplodedFeatures4 = _plan$uplodedFeatures3.shapeFeatures) === null || _plan$uplodedFeatures4 === void 0 ? void 0 : (_plan$uplodedFeatures5 = _plan$uplodedFeatures4.landbase) === null || _plan$uplodedFeatures5 === void 0 ? void 0 : _plan$uplodedFeatures5.length) / (plan === null || plan === void 0 ? void 0 : plan.pageSize),
        totalInvestalParcelPage: (plan === null || plan === void 0 ? void 0 : (_plan$uplodedFeatures6 = plan.uplodedFeatures) === null || _plan$uplodedFeatures6 === void 0 ? void 0 : (_plan$uplodedFeatures7 = _plan$uplodedFeatures6[plan === null || plan === void 0 ? void 0 : plan.selectedCADIndex]) === null || _plan$uplodedFeatures7 === void 0 ? void 0 : (_plan$uplodedFeatures8 = _plan$uplodedFeatures7.shapeFeatures) === null || _plan$uplodedFeatures8 === void 0 ? void 0 : (_plan$uplodedFeatures9 = _plan$uplodedFeatures8.landbase) === null || _plan$uplodedFeatures9 === void 0 ? void 0 : (_plan$uplodedFeatures10 = _plan$uplodedFeatures9.filter(parcel => (parcel === null || parcel === void 0 ? void 0 : parcel.is_cut) == 2)) === null || _plan$uplodedFeatures10 === void 0 ? void 0 : _plan$uplodedFeatures10.length) / (plan === null || plan === void 0 ? void 0 : plan.pageSize),
        minParcelIndex: plan === null || plan === void 0 ? void 0 : plan.minParcelIndex,
        maxParcelIndex: plan === null || plan === void 0 ? void 0 : plan.pageSize,
        minInvestalParcelIndex: plan === null || plan === void 0 ? void 0 : plan.minInvestalParcelIndex,
        maxInvestalParcelIndex: plan === null || plan === void 0 ? void 0 : plan.pageSize,
        totalStreetPage: (plan === null || plan === void 0 ? void 0 : (_plan$streets = plan.streets) === null || _plan$streets === void 0 ? void 0 : _plan$streets.length) / (plan === null || plan === void 0 ? void 0 : plan.pageSize),
        minStreetIndex: plan === null || plan === void 0 ? void 0 : plan.minStreetIndex,
        maxStreetIndex: plan === null || plan === void 0 ? void 0 : plan.pageSize
      };
      this.props.input.onChange({
        ...values,
        ...additionalValues
      });
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(this, "selectPlan", evt => {
      const {
        input: {
          value
        }
      } = this.props;
      let {
        plan
      } = this.state;
      plan.selectedCAD = evt.target.value;
      plan.selectedCADIndex = evt.target.value.indexOf("first") != -1 ? 0 : evt.target.value.indexOf("second") != -1 ? 1 : 2;
      plan.hide_details = true;
      this.setState({
        plan
      }, () => {
        this.init(plan.selectedCADIndex);
      });
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(this, "changeBufferDistance", evt => {
      let {
        plan
      } = this.state;
      plan.bufferDistance = evt.target.value;
      this.setState({
        plan
      }, () => {
        this.setToStore();
      });
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(this, "changeNote", (key, evt) => {
      let {
        plan
      } = this.state;
      plan.uplodedFeatures[plan.selectedCADIndex].shapeFeatures.landbase[key].note = evt.target.value;
      this.setState({
        plan
      }, () => {
        this.setToStore();
      });
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(this, "changeFrontLength", (key, evt) => {
      let {
        plan
      } = this.state;
      plan.uplodedFeatures[plan.selectedCADIndex].shapeFeatures.landbase[key].frontLength = evt.target.value;
      this.setState({
        plan
      }, () => {
        this.setToStore();
      });
    });
    if (props !== null && props !== void 0 && (_props$mainObject = props.mainObject) !== null && _props$mainObject !== void 0 && (_props$mainObject2 = _props$mainObject[`${props.currentStep}`]) !== null && _props$mainObject2 !== void 0 && (_props$mainObject3 = _props$mainObject2[`${props.currentStep}Data`]) !== null && _props$mainObject3 !== void 0 && _props$mainObject3["planDetails"]) {
      var _planDetails$uplodedF, _planDetails$uplodedF2, _planDetails$uplodedF3, _props$mainObject4;
      const {
        mainObject: {
          [`${props.currentStep}`]: {
            [`${props.currentStep}Data`]: {
              planDetails
            }
          },
          data_msa7y: {
            msa7yData: {
              cadDetails
            }
          }
        }
      } = props;
      this.state = {
        plan: new _Entity_PlanEntity__WEBPACK_IMPORTED_MODULE_37__["PlanEntity"](props, {
          layers: planDetails.layers || [],
          isInvestalIncluded: planDetails.isInvestalIncluded || false,
          zoomRatio: 50,
          plans: [],
          polygons: [],
          selectedCAD: planDetails.selectedCAD || "",
          selectedCADIndex: planDetails.selectedCADIndex != -1 ? planDetails.selectedCADIndex : -1,
          planDescription: (cadDetails === null || cadDetails === void 0 ? void 0 : cadDetails.planDescription) || "",
          planUsingSymbol: planDetails.planUsingSymbol || "",
          hide_details: planDetails.hide_details != undefined && planDetails.hide_details != true ? false : true,
          streets: planDetails.streets || [],
          removeNoSubType: undefined,
          serviceType: planDetails.serviceType || {},
          servicesTypes: planDetails.servicesTypes || [],
          serviceSubType: planDetails.serviceSubType || {},
          servicesSubTypes: planDetails.servicesSubTypes || [],
          bufferDistance: planDetails.bufferDistance || 5,
          uplodedFeatures: planDetails.uplodedFeatures || [],
          statisticsParcels: planDetails.statisticsParcels || [],
          detailsParcelTypes: planDetails.detailsParcelTypes || [],
          TotalParcelArea: planDetails.TotalParcelArea || planDetails.uplodedFeatures && ((_planDetails$uplodedF = planDetails.uplodedFeatures[planDetails.selectedCADIndex || 0]) === null || _planDetails$uplodedF === void 0 ? void 0 : (_planDetails$uplodedF2 = _planDetails$uplodedF.shapeFeatures) === null || _planDetails$uplodedF2 === void 0 ? void 0 : (_planDetails$uplodedF3 = _planDetails$uplodedF2.landbase) === null || _planDetails$uplodedF3 === void 0 ? void 0 : _planDetails$uplodedF3.reduce((a, b) => a + b.area, 0)) || 0,
          servicesLayer: {},
          //cadPath: '',
          streetsAnnotation: planDetails.streetsAnnotation || [],
          enableDownlaodCad: (props === null || props === void 0 ? void 0 : (_props$mainObject4 = props.mainObject) === null || _props$mainObject4 === void 0 ? void 0 : _props$mainObject4.enableDownlaodCad) || false
        })
      };
    } else {
      this.state = {
        plan: new _Entity_PlanEntity__WEBPACK_IMPORTED_MODULE_37__["PlanEntity"](props)
      };
    }
    this.isLoaded = true;
  }
  componentDidUpdate() {
    var _vals$plansData, _vals$plansData$mapvi, _vals$plansData$mapvi2, _vals$plansData2, _vals$plansData2$mapv, _vals$plansData2$mapv2;
    const {
      input,
      mainObject
    } = this.props;
    const vals = Object(_main_helpers_functions_filters__WEBPACK_IMPORTED_MODULE_22__["default"])({
      key: "FormValues",
      form: "stepForm"
    });
    if (input.value && input.value != "" && input.value.justInvoked) {
      input.value.justInvoked = false;
      this.isLoaded = false;
      this.map = Object(_main_helpers_functions_filters_state__WEBPACK_IMPORTED_MODULE_17__["getMap"])();
      let plan = {};
      plan.plans = [];
      if (!plan.uplodedFeatures || Array.isArray(plan.uplodedFeatures) && plan.uplodedFeatures.length == 0) {
        plan.uplodedFeatures = [];
        plan.uplodedFeatures.push(!lodash_isEmpty__WEBPACK_IMPORTED_MODULE_13___default()(input.value.perfectCad) && input.value.perfectCad || null);
        plan.uplodedFeatures.push(!lodash_isEmpty__WEBPACK_IMPORTED_MODULE_13___default()(input.value.secondCad) && input.value.secondCad || null);
        plan.uplodedFeatures.push(!lodash_isEmpty__WEBPACK_IMPORTED_MODULE_13___default()(input.value.thirdCad) && input.value.thirdCad || null);
      } else {
        plan.uplodedFeatures[0] = !lodash_isEmpty__WEBPACK_IMPORTED_MODULE_13___default()(input.value.perfectCad) && input.value.perfectCad || null;
        plan.uplodedFeatures[1] = !lodash_isEmpty__WEBPACK_IMPORTED_MODULE_13___default()(input.value.secondCad) && input.value.secondCad || null;
        plan.uplodedFeatures[2] = !lodash_isEmpty__WEBPACK_IMPORTED_MODULE_13___default()(input.value.thirdCad) && input.value.thirdCad || null;
      }
      plan.hide_details = input.value.hide_details || false;
      for (var i = 0; i < plan.uplodedFeatures.length; i++) {
        if (plan.uplodedFeatures[i]) {
          plan.selectedCADIndex = i;
          var currentPlan = i == 0 ? "perfectCad" : i == 1 ? "secondCad" : "thirdCad";
          plan.selectedCAD = currentPlan;
          plan.plans.push(currentPlan);
        } else {
          break;
        }
      }
      this.setState({
        plan: new _Entity_PlanEntity__WEBPACK_IMPORTED_MODULE_37__["PlanEntity"](this.props, plan)
      }, () => {
        this.init(plan.selectedCADIndex);
      });
    } else if (this.isLoaded && window.mapInfo && !(vals !== null && vals !== void 0 && (_vals$plansData = vals.plansData) !== null && _vals$plansData !== void 0 && (_vals$plansData$mapvi = _vals$plansData.mapviewer) !== null && _vals$plansData$mapvi !== void 0 && (_vals$plansData$mapvi2 = _vals$plansData$mapvi.mapGraphics) !== null && _vals$plansData$mapvi2 !== void 0 && _vals$plansData$mapvi2.length)) {
      let {
        plan
      } = this.state;
      this.map = Object(_main_helpers_functions_filters_state__WEBPACK_IMPORTED_MODULE_17__["getMap"])();
      if (Object(_main_helpers_functions_filters_state__WEBPACK_IMPORTED_MODULE_17__["getIsMapLoaded"])()) {
        Object(_main_helpers_functions_filters_state__WEBPACK_IMPORTED_MODULE_17__["setIsMapLoaded"])(false);
        this.isLoaded = false;
        plan.plans = [];
        for (var i = 0; i < plan.uplodedFeatures.length; i++) {
          if (plan.uplodedFeatures[i]) {
            plan.selectedCADIndex = i;
            var currentPlan = i == 0 ? "perfectCad" : i == 1 ? "secondCad" : "thirdCad";
            plan.selectedCAD = currentPlan;
            plan.plans.push(currentPlan);
          } else {
            break;
          }
        }
        if (plan.selectedCADIndex != -1) {
          this.setState({
            plan
          }, () => {
            this.init(plan.selectedCADIndex);
          });
        }
      }
    } else if (this.isLoaded && window.mapInfo && vals !== null && vals !== void 0 && (_vals$plansData2 = vals.plansData) !== null && _vals$plansData2 !== void 0 && (_vals$plansData2$mapv = _vals$plansData2.mapviewer) !== null && _vals$plansData2$mapv !== void 0 && (_vals$plansData2$mapv2 = _vals$plansData2$mapv.mapGraphics) !== null && _vals$plansData2$mapv2 !== void 0 && _vals$plansData2$mapv2.length) {
      let {
        plan
      } = this.state;
      this.map = Object(_main_helpers_functions_filters_state__WEBPACK_IMPORTED_MODULE_17__["getMap"])();
      if (Object(_main_helpers_functions_filters_state__WEBPACK_IMPORTED_MODULE_17__["getIsMapLoaded"])()) {
        Object(_main_helpers_functions_filters_state__WEBPACK_IMPORTED_MODULE_17__["setIsMapLoaded"])(false);
        this.isLoaded = false;
        for (var i = 0; i < plan.uplodedFeatures.length; i++) {
          if (plan.uplodedFeatures[i]) {
            plan.selectedCADIndex = i;
            var currentPlan = i == 0 ? "perfectCad" : i == 1 ? "secondCad" : "thirdCad";
            plan.selectedCAD = currentPlan;
            plan.plans.push(currentPlan);
          } else {
            break;
          }
        }
        this.setState({
          plan
        }, () => {
          this.setToStore();
        });
      }
    }
    //return true;
  }
  render() {
    var _plan$uplodedFeatures11, _plan$uplodedFeatures12, _plan$uplodedFeatures13, _plan$uplodedFeatures14, _plan$uplodedFeatures15, _plan$uplodedFeatures16, _plan$statisticsParce, _plan$statisticsParce2;
    const {
      mainObject,
      t,
      isInViewMode,
      forAddingPlans
    } = this.props;
    let {
      plan
    } = this.state;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("div", null, !isInViewMode && plan.selectedCADIndex != -1 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("select", {
      onChange: this.selectPlan,
      className: "form-control",
      style: {
        height: "40px"
      }
    }, lodash_map__WEBPACK_IMPORTED_MODULE_14___default()(plan.plans, (plan, index) => {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("option", {
        value: plan,
        selected: plan == plan.selectedCAD
      }, t(plan));
    })), plan.planDescription && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("div", {
      style: planDescStyle
    }, Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(plan.planDescription)), plan.planUsingSymbol && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("div", {
      className: "usingsymbolStyle"
    }, Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(plan.planUsingSymbol)), !isInViewMode && !plan.hide_details && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("div", {
      style: containerDetails
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(antd_lib_collapse__WEBPACK_IMPORTED_MODULE_8___default.a, {
      className: "Collapse",
      key: 0
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(Panel, {
      key: 0,
      header: `مفتاح الخريطة`,
      forceRender: true,
      style: {
        margin: "5px"
      }
    }, plan.servicesTypes && plan.servicesTypes.map((type, index) => {
      if (this.state[type.symbol_id + "_visbility"] == undefined) this.state[type.symbol_id + "_visbility"] = true;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("span", {
        style: {
          padding: "7px",
          width: "130px"
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("span", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("input", {
        type: "checkbox",
        style: {
          width: "20px",
          height: "20px",
          margin: "3px"
        },
        checked: this.state[type.symbol_id + "_visbility"],
        onChange: this.changeVisibilty.bind(this, type.symbol_id, !this.state[type.symbol_id + "_visbility"])
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("span", {
        style: {
          width: "20px",
          height: "20px",
          display: "inline-flex",
          backgroundColor: type.layer_color ? "rgba(" + type.layer_color[0] + ", " + type.layer_color[1] + ", " + type.layer_color[2] + ", " + type.layer_color[3] + ")" : "rgb(255, 255, 255)"
        }
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("span", {
        style: {
          fontSize: "16px",
          margin: "3px"
        }
      }, type.layer_description)));
    }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(antd_lib_collapse__WEBPACK_IMPORTED_MODULE_8___default.a, {
      className: "Collapse",
      key: 1
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(Panel, {
      key: 1,
      header: `الشوارع`,
      forceRender: true,
      style: {
        margin: "5px"
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("table", {
      className: "table table-bordered no-margin table-striped"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("thead", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("tr", null, [52].indexOf(this.props.currentModule.id) != -1 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_15___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0627\u0633\u0645 \u0627\u0644\u0634\u0627\u0631\u0639"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0635\u0646\u0641 \u0627\u0644\u0634\u0627\u0631\u0639"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0646\u0648\u0639 \u0627\u0644\u0634\u0627\u0631\u0639"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0628\u0627\u062A\u062C\u0627\u0647 \u0648\u0627\u062D\u062F"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0627\u0644\u0637\u0631\u064A\u0642\u0629 \u0645\u0641\u0635\u0648\u0644\u0629 \u0628\u062C\u0632\u064A\u0631\u0629 \u0648\u0633\u0637\u064A\u0629")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0627\u0644\u0637\u0648\u0644 (\u0645)"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0627\u0644\u0639\u0631\u0636 (\u0645)"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u064A\u062D\u0633\u0628 \u0636\u0645\u0646 \u0645\u0639\u062F\u0644 \u0646\u0633\u0628\u0629 \u0623\u0637\u0648\u0627\u0644 \u0627\u0644\u0634\u0648\u0627\u0631\u0639 \u0628\u0627\u0644\u0645\u062E\u0637\u0637"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("tbody", null, plan.streets && plan.streets.map((street, index) => {
      var _plan$domains, _plan$domains$, _plan$domains$$domain, _plan$domains2, _plan$domains2$, _plan$domains2$$domai, _plan$domains3, _plan$domains3$, _plan$domains3$$domai, _plan$domains4, _plan$domains4$, _plan$domains4$$domai, _street$length, _street$width;
      return index >= plan.minStreetIndex && index < plan.maxStreetIndex && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("tr", null, [52].indexOf(this.props.currentModule.id) != -1 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_15___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("input", {
        type: "text",
        name: "streetname",
        value: street.streetname,
        placeholder: "\u0645\u0646 \u0641\u0636\u0644\u0643 \u0623\u062F\u062E\u0644 \u0627\u0633\u0645 \u0627\u0644\u0634\u0627\u0631\u0639",
        className: "sidebar-form-control form-control",
        onInput: this.onStreetChange.bind(this, index)
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(antd_lib_select__WEBPACK_IMPORTED_MODULE_5___default.a, {
        getPopupContainer: trigger => trigger.parentNode,
        autoFocus: true,
        name: "streetClass",
        onChange: val => {
          this.onStreetChange(index, {
            target: {
              value: val,
              name: "streetClass"
            }
          });
        },
        placeholder: "\u0635\u0646\u0641 \u0627\u0644\u0634\u0627\u0631\u0639",
        value: street.streetClass
      }, (((_plan$domains = plan.domains) === null || _plan$domains === void 0 ? void 0 : (_plan$domains$ = _plan$domains[9]) === null || _plan$domains$ === void 0 ? void 0 : (_plan$domains$$domain = _plan$domains$.domain) === null || _plan$domains$$domain === void 0 ? void 0 : _plan$domains$$domain.codedValues) || []).map((e, i) => {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(Option, {
          key: i + 1,
          value: e.code
        }, e.name);
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(antd_lib_select__WEBPACK_IMPORTED_MODULE_5___default.a, {
        getPopupContainer: trigger => trigger.parentNode,
        autoFocus: true,
        name: "streetType",
        onChange: val => {
          this.onStreetChange(index, {
            target: {
              value: val,
              name: "streetType"
            }
          });
        },
        placeholder: "\u0646\u0648\u0639 \u0627\u0644\u0634\u0627\u0631\u0639",
        value: street.streetType
      }, (((_plan$domains2 = plan.domains) === null || _plan$domains2 === void 0 ? void 0 : (_plan$domains2$ = _plan$domains2[10]) === null || _plan$domains2$ === void 0 ? void 0 : (_plan$domains2$$domai = _plan$domains2$.domain) === null || _plan$domains2$$domai === void 0 ? void 0 : _plan$domains2$$domai.codedValues) || []).map((e, i) => {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(Option, {
          key: i + 1,
          value: e.code
        }, e.name);
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(RadioGroup, {
        onChange: val => {
          this.onStreetChange(index, {
            target: {
              value: val.target.value,
              name: "oneWay"
            }
          });
        },
        options: (_plan$domains3 = plan.domains) === null || _plan$domains3 === void 0 ? void 0 : (_plan$domains3$ = _plan$domains3[11]) === null || _plan$domains3$ === void 0 ? void 0 : (_plan$domains3$$domai = _plan$domains3$.domain) === null || _plan$domains3$$domai === void 0 ? void 0 : _plan$domains3$$domai.codedValues.map(x => ({
          label: x.name,
          value: x.code && true || false
        })),
        name: "oneWay",
        type: "radio",
        value: street.oneWay
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(RadioGroup, {
        onChange: val => {
          this.onStreetChange(index, {
            target: {
              value: val.target.value,
              name: "divided"
            }
          });
        },
        options: (_plan$domains4 = plan.domains) === null || _plan$domains4 === void 0 ? void 0 : (_plan$domains4$ = _plan$domains4[12]) === null || _plan$domains4$ === void 0 ? void 0 : (_plan$domains4$$domai = _plan$domains4$.domain) === null || _plan$domains4$$domai === void 0 ? void 0 : _plan$domains4$$domai.codedValues.map(x => ({
          label: x.name,
          value: x.code && true || false
        })),
        name: "divided",
        type: "radio",
        value: street.divided
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(parseFloat(street === null || street === void 0 ? void 0 : (_street$length = street.length) === null || _street$length === void 0 ? void 0 : _street$length.toFixed(2)))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(parseFloat(street === null || street === void 0 ? void 0 : (_street$width = street.width) === null || _street$width === void 0 ? void 0 : _street$width.toFixed(2)))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("input", {
        type: "checkbox",
        style: {
          width: "20px",
          height: "20px",
          margin: "3px"
        },
        checked: street.checked,
        disabled: [2322, 3099].indexOf(plan.current_step) == -1,
        onChange: () => {
          plan.streets[index].checked = !plan.streets[index].checked;
          this.setState({
            plan
          }, () => {
            this.setToStore();
          });
        }
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", {
        onClick: this.zoom.bind(this, street),
        onMouseOver: this.highlight.bind(this, street),
        onMouseLeave: this.clearHighlight.bind(this)
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("i", {
        className: "fa fa-search-plus"
      })));
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0645\u0639\u062F\u0644 \u0646\u0633\u0628\u0629 \u0623\u0637\u0648\u0627\u0644 \u0627\u0644\u0634\u0648\u0627\u0631\u0639 \u0641\u064A \u0627\u0644\u0645\u062E\u0637\u0637"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", {
      colSpan: "100%"
    }, ((_mainObject$landData, _mainObject$landData$, _ref, _plan$streets2) => {
      let totalAreaPercentage = (mainObject === null || mainObject === void 0 ? void 0 : (_mainObject$landData = mainObject.landData) === null || _mainObject$landData === void 0 ? void 0 : (_mainObject$landData$ = _mainObject$landData.landData) === null || _mainObject$landData$ === void 0 ? void 0 : _mainObject$landData$.area) / 10000;
      return Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(+((_ref = ((_plan$streets2 = plan.streets) === null || _plan$streets2 === void 0 ? void 0 : _plan$streets2.reduce(function (a, b) {
        if (b.checked) {
          return a + +b.length.toFixed(2);
        }
        return a;
      }, 0)) / totalAreaPercentage) === null || _ref === void 0 ? void 0 : _ref.toFixed(2)));
    })() + " م ط / هكتار")))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(antd_lib_pagination__WEBPACK_IMPORTED_MODULE_3___default.a, {
      pageSize: plan.pageSize,
      current: plan.currentStreetPage,
      total: plan.streets.length,
      onChange: this.handleStreetChange,
      style: {
        bottom: "0px",
        position: "static"
      }
    }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(antd_lib_collapse__WEBPACK_IMPORTED_MODULE_8___default.a, {
      className: "Collapse",
      key: 2
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(Panel, {
      key: 2,
      header: `نطاقات تأثير الخدمات`,
      forceRender: true,
      style: {
        margin: "5px"
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(redux_form__WEBPACK_IMPORTED_MODULE_19__["FormSection"], {
      name: `frm`,
      className: "form"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("select", {
      name: "servTypes",
      onChange: this.serviceChange.bind(this),
      className: "form-control",
      style: {
        margin: "5px",
        fontSize: "16px"
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("option", {
      "ng-disabled": "false",
      value: ""
    }, "\u0646\u0648\u0639 \u0627\u0644\u062E\u062F\u0645\u0629"), _.filter(plan.servicesTypes, (type, index) => {
      var _type$cad_sublayers;
      return type.cad_sublayers && ((_type$cad_sublayers = type.cad_sublayers) === null || _type$cad_sublayers === void 0 ? void 0 : _type$cad_sublayers.length);
    }).map((item, index) => {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("option", {
        value: JSON.stringify(item)
      }, item.layer_description);
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("select", {
      name: "servSubTypes",
      onChange: this.serviceSubChange.bind(this),
      className: "form-control",
      style: {
        margin: "5px"
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("option", {
      "ng-disabled": "false",
      value: true
    }, "\u0645\u0633\u062A\u0648\u0649 \u0627\u0644\u062E\u062F\u0645\u0629"), plan.servicesSubTypes && plan.servicesSubTypes.map((item, index) => {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("option", {
        value: JSON.stringify(item)
      }, item.sublayer_description);
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("input", {
      type: "text",
      value: plan["bufferDistance"],
      style: {
        margin: "5px",
        fontSize: "16px"
      },
      onChange: this.changeBufferDistance.bind(this),
      placeholder: "\u0646\u0637\u0627\u0642 \u0627\u0644\u062A\u062E\u062F\u064A\u0645 \u0628\u0627\u0644\u0645\u062A\u0631",
      name: "service",
      className: "form-control"
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("button", {
      className: "btn btn-primary btn-sm",
      type: "button",
      style: {
        margin: "5px",
        fontSize: "16px"
      },
      onClick: this.drawBuffer.bind(this, plan["bufferDistance"])
    }, "\u0631\u0633\u0645"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("button", {
      className: "btn btn-primary btn-sm",
      type: "button",
      onClick: this.clearBuffer.bind(this)
    }, "\u0645\u0633\u062D")))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(antd_lib_collapse__WEBPACK_IMPORTED_MODULE_8___default.a, {
      className: "Collapse",
      key: 3
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(Panel, {
      key: 3,
      header: `قطع الأراضي`,
      forceRender: true,
      style: {
        margin: "5px"
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("section", {
      style: {
        display: "flex",
        marginTop: "20px"
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("div", {
      style: {
        width: "100%"
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("table", {
      className: "table table-bordered no-margin table-striped"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("thead", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0631\u0642\u0645 \u0627\u0644\u0642\u0637\u0639\u0629"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0627\u0644\u0627\u0633\u062A\u062E\u062F\u0627\u0645"), (plan.current_step == 2329 || plan.current_step == 2330 || plan.current_step == 2372 || plan.current_step == 2902 || plan.current_step == 2903 || plan.current_step == 2895 || plan.current_step == 2896 || plan.current_step == 2897 || plan.current_step == 2898 || plan.current_step == 2899 || plan.current_step == 2900 || plan.current_step == 2901 || plan.current_step == 2331 || plan.current_step == 2371 || plan.current_step == 3117 || plan.current_step == 3118 || plan.current_step == 3119 || plan.current_step == 3120 || plan.current_step == 3121 || plan.current_step == 3122 || plan.current_step == 3123 || plan.current_step == 3124 || plan.current_step == 3125 || plan.current_step == 3126 || plan.current_step == 3130 || plan.current_step == 3132 || plan.current_step == 3133) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0637\u0648\u0644 \u0627\u0644\u062D\u062F \u0627\u0644\u0634\u0645\u0627\u0644\u064A (\u0645)"), (plan.current_step == 2329 || plan.current_step == 2330 || plan.current_step == 2372 || plan.current_step == 2902 || plan.current_step == 2903 || plan.current_step == 2895 || plan.current_step == 2896 || plan.current_step == 2897 || plan.current_step == 2898 || plan.current_step == 2899 || plan.current_step == 2900 || plan.current_step == 2901 || plan.current_step == 2331 || plan.current_step == 2371 || plan.current_step == 3117 || plan.current_step == 3118 || plan.current_step == 3119 || plan.current_step == 3120 || plan.current_step == 3121 || plan.current_step == 3122 || plan.current_step == 3123 || plan.current_step == 3124 || plan.current_step == 3125 || plan.current_step == 3126 || plan.current_step == 3130 || plan.current_step == 3132 || plan.current_step == 3133) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0637\u0648\u0644 \u0627\u0644\u062D\u062F \u0627\u0644\u0634\u0631\u0642\u064A (\u0645)"), (plan.current_step == 2329 || plan.current_step == 2330 || plan.current_step == 2372 || plan.current_step == 2902 || plan.current_step == 2903 || plan.current_step == 2895 || plan.current_step == 2896 || plan.current_step == 2897 || plan.current_step == 2898 || plan.current_step == 2899 || plan.current_step == 2900 || plan.current_step == 2901 || plan.current_step == 2331 || plan.current_step == 2371 || plan.current_step == 3117 || plan.current_step == 3118 || plan.current_step == 3119 || plan.current_step == 3120 || plan.current_step == 3121 || plan.current_step == 3122 || plan.current_step == 3123 || plan.current_step == 3124 || plan.current_step == 3125 || plan.current_step == 3126 || plan.current_step == 3130 || plan.current_step == 3132 || plan.current_step == 3133) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0637\u0648\u0644 \u0627\u0644\u062D\u062F \u0627\u0644\u062C\u0646\u0648\u0628\u064A (\u0645)"), (plan.current_step == 2329 || plan.current_step == 2330 || plan.current_step == 2372 || plan.current_step == 2902 || plan.current_step == 2903 || plan.current_step == 2895 || plan.current_step == 2896 || plan.current_step == 2897 || plan.current_step == 2898 || plan.current_step == 2899 || plan.current_step == 2900 || plan.current_step == 2901 || plan.current_step == 2331 || plan.current_step == 2371 || plan.current_step == 3117 || plan.current_step == 3118 || plan.current_step == 3119 || plan.current_step == 3120 || plan.current_step == 3121 || plan.current_step == 3122 || plan.current_step == 3123 || plan.current_step == 3124 || plan.current_step == 3125 || plan.current_step == 3126 || plan.current_step == 3130 || plan.current_step == 3132 || plan.current_step == 3133) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0637\u0648\u0644 \u0627\u0644\u062D\u062F \u0627\u0644\u063A\u0631\u0628\u064A (\u0645)"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0627\u0644\u0645\u0633\u0627\u062D\u0629 (\u0645\u06F2)"), plan.current_step != 2329 && plan.current_step != 3117 && plan.current_step != 2330 && plan.current_step != 3118 && plan.current_step != 2371 && plan.current_step != 3119 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0637\u0648\u0644 \u0627\u0644\u0648\u0627\u062C\u0647\u0629 (\u0645)"), (plan.current_step == 2329 || plan.current_step == 2330 || plan.current_step == 2372 || plan.current_step == 2902 || plan.current_step == 2903 || plan.current_step == 2895 || plan.current_step == 2896 || plan.current_step == 2897 || plan.current_step == 2898 || plan.current_step == 2899 || plan.current_step == 2900 || plan.current_step == 2901 || plan.current_step == 2331 || plan.current_step == 2371 || plan.current_step == 3117 || plan.current_step == 3118 || plan.current_step == 3119 || plan.current_step == 3120 || plan.current_step == 3121 || plan.current_step == 3122 || plan.current_step == 3123 || plan.current_step == 3124 || plan.current_step == 3125 || plan.current_step == 3126 || plan.current_step == 3130 || plan.current_step == 3132 || plan.current_step == 3133) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0645\u0644\u0627\u062D\u0638\u0627\u062A"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0627\u0644\u0634\u0637\u0641\u0627\u062A"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("tbody", null, plan === null || plan === void 0 ? void 0 : (_plan$uplodedFeatures11 = plan.uplodedFeatures[plan.selectedCADIndex]) === null || _plan$uplodedFeatures11 === void 0 ? void 0 : (_plan$uplodedFeatures12 = _plan$uplodedFeatures11.shapeFeatures) === null || _plan$uplodedFeatures12 === void 0 ? void 0 : (_plan$uplodedFeatures13 = _plan$uplodedFeatures12.landbase
    //.filter((parcel) => parcel.is_cut != 2)
    ) === null || _plan$uplodedFeatures13 === void 0 ? void 0 : _plan$uplodedFeatures13.map((parcel, index) => {
      var _parcel$north_length, _parcel$east_length, _parcel$south_length, _parcel$weast_length, _parcel$area, _parcel$survayParcelC2, _parcel$survayParcelC3;
      return !parcel.isHide && index >= plan.minParcelIndex && index < plan.maxParcelIndex && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("tr", {
        style: plan.isValidCondition(this.props, parcel) && {
          backgroundColor: "white"
        } || {
          backgroundColor: "#f58c8c"
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(parcel.number)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(parcel.usingSymbolName)), (plan.current_step == 2329 || plan.current_step == 2330 || plan.current_step == 2372 || plan.current_step == 2902 || plan.current_step == 2903 || plan.current_step == 2895 || plan.current_step == 2896 || plan.current_step == 2897 || plan.current_step == 2898 || plan.current_step == 2899 || plan.current_step == 2900 || plan.current_step == 2901 || plan.current_step == 2331 || plan.current_step == 2371 || plan.current_step == 3117 || plan.current_step == 3118 || plan.current_step == 3119 || plan.current_step == 3120 || plan.current_step == 3121 || plan.current_step == 3122 || plan.current_step == 3123 || plan.current_step == 3124 || plan.current_step == 3125 || plan.current_step == 3126 || plan.current_step == 3130 || plan.current_step == 3132 || plan.current_step == 3133) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(parseFloat(parcel === null || parcel === void 0 ? void 0 : (_parcel$north_length = parcel.north_length) === null || _parcel$north_length === void 0 ? void 0 : _parcel$north_length.toFixed(2)))), (plan.current_step == 2329 || plan.current_step == 2330 || plan.current_step == 2372 || plan.current_step == 2902 || plan.current_step == 2903 || plan.current_step == 2895 || plan.current_step == 2896 || plan.current_step == 2897 || plan.current_step == 2898 || plan.current_step == 2899 || plan.current_step == 2900 || plan.current_step == 2901 || plan.current_step == 2331 || plan.current_step == 2371 || plan.current_step == 3117 || plan.current_step == 3118 || plan.current_step == 3119 || plan.current_step == 3120 || plan.current_step == 3121 || plan.current_step == 3122 || plan.current_step == 3123 || plan.current_step == 3124 || plan.current_step == 3125 || plan.current_step == 3126 || plan.current_step == 3130 || plan.current_step == 3132 || plan.current_step == 3133) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(parseFloat(parcel === null || parcel === void 0 ? void 0 : (_parcel$east_length = parcel.east_length) === null || _parcel$east_length === void 0 ? void 0 : _parcel$east_length.toFixed(2)))), (plan.current_step == 2329 || plan.current_step == 2330 || plan.current_step == 2372 || plan.current_step == 2902 || plan.current_step == 2903 || plan.current_step == 2895 || plan.current_step == 2896 || plan.current_step == 2897 || plan.current_step == 2898 || plan.current_step == 2899 || plan.current_step == 2900 || plan.current_step == 2901 || plan.current_step == 2331 || plan.current_step == 2371 || plan.current_step == 3117 || plan.current_step == 3118 || plan.current_step == 3119 || plan.current_step == 3120 || plan.current_step == 3121 || plan.current_step == 3122 || plan.current_step == 3123 || plan.current_step == 3124 || plan.current_step == 3125 || plan.current_step == 3126 || plan.current_step == 3130 || plan.current_step == 3132 || plan.current_step == 3133) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(parseFloat(parcel === null || parcel === void 0 ? void 0 : (_parcel$south_length = parcel.south_length) === null || _parcel$south_length === void 0 ? void 0 : _parcel$south_length.toFixed(2)))), (plan.current_step == 2329 || plan.current_step == 2330 || plan.current_step == 2372 || plan.current_step == 2902 || plan.current_step == 2903 || plan.current_step == 2895 || plan.current_step == 2896 || plan.current_step == 2897 || plan.current_step == 2898 || plan.current_step == 2899 || plan.current_step == 2900 || plan.current_step == 2901 || plan.current_step == 2331 || plan.current_step == 2371 || plan.current_step == 3117 || plan.current_step == 3118 || plan.current_step == 3119 || plan.current_step == 3120 || plan.current_step == 3121 || plan.current_step == 3122 || plan.current_step == 3123 || plan.current_step == 3124 || plan.current_step == 3125 || plan.current_step == 3126 || plan.current_step == 3130 || plan.current_step == 3132 || plan.current_step == 3133) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(parseFloat(parcel === null || parcel === void 0 ? void 0 : (_parcel$weast_length = parcel.weast_length) === null || _parcel$weast_length === void 0 ? void 0 : _parcel$weast_length.toFixed(2)))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(parseFloat((parcel === null || parcel === void 0 ? void 0 : (_parcel$area = parcel.area) === null || _parcel$area === void 0 ? void 0 : _parcel$area.toFixed(2)) - (parcel.cuttes_area || parcel.survayParcelCutter && +parcel.survayParcelCutter[0].NORTH_EAST_DIRECTION + +parcel.survayParcelCutter[0].NORTH_WEST_DIRECTION + +parcel.survayParcelCutter[0].SOUTH_EAST_DIRECTION + +parcel.survayParcelCutter[0].SOUTH_WEST_DIRECTION || 0)))), [2329, 3117].indexOf(plan.current_step) != -1 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("input", {
        type: "text",
        value: parcel.note,
        onChange: this.changeNote.bind(this, index),
        placeholder: "\u0645\u0646 \u0641\u0636\u0644\u0643 \u0623\u062F\u062E\u0644 \u0645\u0644\u0627\u062D\u0638\u0627\u062A\u0643",
        className: "sidebar-form-control form-control"
      })), (plan.current_step && [2317, 3095].indexOf(plan.current_step) != -1 && [2329, 3117].indexOf(plan.current_step) == -1 || !plan.current_step) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("input", {
        type: "text",
        value: parcel.frontLength,
        onChange: this.changeFrontLength.bind(this, index),
        placeholder: "\u0645\u0646 \u0641\u0636\u0644\u0643 \u0623\u062F\u062E\u0644 \u0637\u0648\u0644 \u0627\u0644\u0648\u0627\u062C\u0647\u0629",
        className: "sidebar-form-control form-control"
      })), plan.current_step && plan.current_step != 2317 && plan.current_step != 3095 && plan.current_step != 2330 && plan.current_step != 2329 && plan.current_step != 2371 && plan.current_step != 3117 && plan.current_step != 3118 && plan.current_step != 3119 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(parcel.frontLength)), (plan.current_step == 2329 || plan.current_step == 2330 || plan.current_step == 2372 || plan.current_step == 2902 || plan.current_step == 2903 || plan.current_step == 2895 || plan.current_step == 2896 || plan.current_step == 2897 || plan.current_step == 2898 || plan.current_step == 2899 || plan.current_step == 2900 || plan.current_step == 2901 || plan.current_step == 2331 || plan.current_step == 2371 || plan.current_step == 3117 || plan.current_step == 3118 || plan.current_step == 3119 || plan.current_step == 3120 || plan.current_step == 3121 || plan.current_step == 3122 || plan.current_step == 3123 || plan.current_step == 3124 || plan.current_step == 3125 || plan.current_step == 3126 || plan.current_step == 3130 || plan.current_step == 3132 || plan.current_step == 3133) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(parcel.note)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("button", {
        className: "btn",
        onClick: () => {
          var _parcel$survayParcelC;
          plan.openPopup(this.props, !(parcel !== null && parcel !== void 0 && (_parcel$survayParcelC = parcel.survayParcelCutter) !== null && _parcel$survayParcelC !== void 0 && _parcel$survayParcelC.length), index, () => {
            this.setState({
              plan
            }, () => {
              this.setToStore();
            });
          });
        }
      }, !(parcel !== null && parcel !== void 0 && (_parcel$survayParcelC2 = parcel.survayParcelCutter) !== null && _parcel$survayParcelC2 !== void 0 && _parcel$survayParcelC2.length) && "اضافة شطفات" || "عرض الشطفات"), (parcel === null || parcel === void 0 ? void 0 : (_parcel$survayParcelC3 = parcel.survayParcelCutter) === null || _parcel$survayParcelC3 === void 0 ? void 0 : _parcel$survayParcelC3.length) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("button", {
        className: "btn",
        onClick: () => {
          plan.openPopup(this.props, true, index, () => {
            this.setState({
              plan
            }, () => {
              this.setToStore();
            });
          });
        }
      }, "تعديل الشطفات")), !plan.isValidCondition(this.props, parcel) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(antd_lib_tooltip__WEBPACK_IMPORTED_MODULE_1___default.a, {
        title: "\u0627\u0644\u0645\u0633\u0627\u062D\u0629 \u0644\u0627 \u062A\u0637\u0627\u0628\u0642 \u0627\u0634\u062A\u0631\u0627\u0637\u0627\u062A \u0627\u0644\u0628\u0646\u0627\u0621"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("i", {
        className: "fa fa-exclamation-circle"
      }))));
    }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(antd_lib_pagination__WEBPACK_IMPORTED_MODULE_3___default.a, {
      pageSize: plan.pageSize,
      current: plan.currentParcelPage,
      total: (plan === null || plan === void 0 ? void 0 : (_plan$uplodedFeatures14 = plan.uplodedFeatures[plan.selectedCADIndex]) === null || _plan$uplodedFeatures14 === void 0 ? void 0 : (_plan$uplodedFeatures15 = _plan$uplodedFeatures14.shapeFeatures) === null || _plan$uplodedFeatures15 === void 0 ? void 0 : (_plan$uplodedFeatures16 = _plan$uplodedFeatures15.landbase) === null || _plan$uplodedFeatures16 === void 0 ? void 0 : _plan$uplodedFeatures16.length) || 0,
      onChange: this.handleParcelChange,
      style: {
        bottom: "0px",
        position: "static"
      }
    }))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(antd_lib_collapse__WEBPACK_IMPORTED_MODULE_8___default.a, {
      className: "Collapse",
      key: 3
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(Panel, {
      key: 3,
      header: `النسب التخطيطية`,
      forceRender: true,
      style: {
        margin: "5px"
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("section", {
      style: {
        display: "flex",
        marginTop: "20px"
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("div", {
      style: {
        width: "100%"
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("table", {
      className: "table table-bordered no-margin table-striped"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("thead", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0627\u0644\u0627\u0633\u062A\u062E\u062F\u0627\u0645"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0627\u0644\u0645\u0633\u0627\u062D\u0629 (\u0645\u06F2)"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0627\u0644\u0646\u0633\u0628\u0629 \u0627\u0644\u0645\u0626\u0648\u064A\u0629 (%)"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u062A\u062D\u0633\u0628 \u0636\u0645\u0646 \u0627\u0644\u0646\u0633\u0628 \u0627\u0644\u062A\u062E\u0637\u064A\u0637\u064A\u0629"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("tbody", null, (_plan$statisticsParce = plan.statisticsParcels) === null || _plan$statisticsParce === void 0 ? void 0 : (_plan$statisticsParce2 = _plan$statisticsParce.filter(parcel => [1, 2].indexOf(parcel.is_cut) != -1)) === null || _plan$statisticsParce2 === void 0 ? void 0 : _plan$statisticsParce2.map((parcel, index) => {
      var _parcel$area2, _parcel$areaPercentag;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("tr", null, parcel.name != "undefined" && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, parcel.name), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(parseFloat(parcel === null || parcel === void 0 ? void 0 : (_parcel$area2 = parcel.area) === null || _parcel$area2 === void 0 ? void 0 : _parcel$area2.toFixed(2)))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(parseFloat(parcel === null || parcel === void 0 ? void 0 : (_parcel$areaPercentag = parcel.areaPercentage) === null || _parcel$areaPercentag === void 0 ? void 0 : _parcel$areaPercentag.toFixed(2)))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("span", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("input", {
        type: "checkbox",
        style: {
          width: "20px",
          height: "20px",
          margin: "3px"
        },
        checked: parcel.is_cut == 1 && true || parcel.isInvestalIncluded,
        disabled: [2322, 3099].indexOf(plan.current_step) != -1 && parcel.is_cut == 2 ? false : true,
        onChange: this.investalChange.bind(this, plan.statisticsParcels.findIndex(r => r.name == parcel.name) || -1)
      }))));
    }))))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(antd_lib_collapse__WEBPACK_IMPORTED_MODULE_8___default.a, {
      className: "Collapse",
      key: 4
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(Panel, {
      key: 4,
      header: `مؤشر نسب الاستعمالات`,
      forceRender: true,
      style: {
        margin: "5px"
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("table", {
      className: "table table-bordered no-margin table-striped"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("thead", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0627\u0644\u0627\u0633\u062A\u062E\u062F\u0627\u0645"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0627\u0644\u0645\u0633\u0627\u062D\u0629 (\u0645\u06F2)"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0627\u0644\u0646\u0633\u0628\u0629 \u0627\u0644\u0645\u0626\u0648\u064A\u0629 (%)"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("tbody", null, plan.statisticsParcels.map((parcel, index) => {
      var _parcel$area3, _parcel$areaPercentag2;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("tr", null, parcel.name == "undefined" && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0627\u062E\u0631\u0649"), parcel.name != "undefined" && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, parcel.name), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(parseFloat(parcel === null || parcel === void 0 ? void 0 : (_parcel$area3 = parcel.area) === null || _parcel$area3 === void 0 ? void 0 : _parcel$area3.toFixed(2)))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(parseFloat(parcel === null || parcel === void 0 ? void 0 : (_parcel$areaPercentag2 = parcel.areaPercentage) === null || _parcel$areaPercentag2 === void 0 ? void 0 : _parcel$areaPercentag2.toFixed(2)))));
    }))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(antd_lib_collapse__WEBPACK_IMPORTED_MODULE_8___default.a, {
      className: "Collapse",
      key: 5
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(Panel, {
      key: 5,
      header: `الميزانية التفصيلية`,
      forceRender: true,
      style: {
        margin: "5px"
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("section", {
      style: {
        display: "flex",
        marginTop: "20px"
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("table", {
      className: "table table-bordered no-margin table-striped"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("thead", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0627\u0644\u0627\u0633\u062A\u0639\u0645\u0627\u0644"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0627\u0644\u0627\u0633\u062A\u0639\u0645\u0627\u0644 \u0627\u0644\u0641\u0631\u0639\u064A"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0627\u0644\u0639\u062F\u062F"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0627\u0644\u0645\u0633\u0627\u062D\u0629 (\u0645\u06F2)"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0627\u0644\u0646\u0633\u0628\u0629 \u0627\u0644\u0645\u0626\u0648\u064A\u0629 (%)"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0627\u0644\u0646\u0633\u0628\u0629 \u0627\u0644\u0645\u0626\u0648\u064A\u0629 \u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A\u0629 (%)"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("tbody", null, plan.detailsParcelTypes.map((detail, index) => {
      var _ref3;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("tr", null, detail.key == "undefined" && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0627\u062E\u0631\u0649"), detail.key != "undefined" && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, detail.key), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("table", {
        className: "table no-margin table-striped"
      }, Object.values(detail.value).map((value, index) => {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, value.value[0].subType && value.value[0].subType.sublayer_description || ""));
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("table", {
        className: "table no-margin table-striped"
      }, Object.values(detail.value).map((value, index) => {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(value.value.length)));
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("table", {
        className: "table no-margin table-striped"
      }, Object.values(detail.value).map((value, index) => {
        var _value$total_area;
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(parseFloat(value === null || value === void 0 ? void 0 : (_value$total_area = value.total_area) === null || _value$total_area === void 0 ? void 0 : _value$total_area.toFixed(2)))));
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("table", {
        className: "table no-margin table-striped"
      }, Object.values(detail.value).map((value, index) => {
        var _ref2;
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(parseFloat((_ref2 = value.total_area / plan.TotalParcelArea * 100) === null || _ref2 === void 0 ? void 0 : _ref2.toFixed(2)))));
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(parseFloat((_ref3 = detail.usingTypeArea / plan.TotalParcelArea * 100) === null || _ref3 === void 0 ? void 0 : _ref3.toFixed(2)))));
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0645\u0639\u062F\u0644 \u0646\u0633\u0628\u0629 \u0623\u0637\u0648\u0627\u0644 \u0627\u0644\u0634\u0648\u0627\u0631\u0639 \u0641\u064A \u0627\u0644\u0645\u062E\u0637\u0637"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", {
      colSpan: 5
    }, ((_mainObject$landData2, _mainObject$landData3, _ref4, _plan$streets3) => {
      let totalAreaPercentage = (mainObject === null || mainObject === void 0 ? void 0 : (_mainObject$landData2 = mainObject.landData) === null || _mainObject$landData2 === void 0 ? void 0 : (_mainObject$landData3 = _mainObject$landData2.landData) === null || _mainObject$landData3 === void 0 ? void 0 : _mainObject$landData3.area) / 10000;
      return Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(+((_ref4 = ((_plan$streets3 = plan.streets) === null || _plan$streets3 === void 0 ? void 0 : _plan$streets3.reduce(function (a, b) {
        if (b.checked) {
          return a + +b.length.toFixed(2);
        }
        return a;
      }, 0)) / totalAreaPercentage) === null || _ref4 === void 0 ? void 0 : _ref4.toFixed(2)));
    })() + " م ط / هكتار")))))))));
  }
}
/* harmony default export */ __webpack_exports__["default"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_30__["connect"])(_mapping__WEBPACK_IMPORTED_MODULE_28__["mapStateToProps"], appMapDispatchToProps)(Object(react_i18next__WEBPACK_IMPORTED_MODULE_20__["translate"])("cadData")(plansDataComponent)));

/***/ }),

/***/ "./src/app/components/inputs/fields/label/index.js":
/*!*********************************************************!*\
  !*** ./src/app/components/inputs/fields/label/index.js ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/get */ "./node_modules/lodash/get.js");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _typeofData__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./typeofData */ "./src/app/components/inputs/fields/label/typeofData/index.js");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _mapping__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./mapping */ "./src/app/components/inputs/fields/label/mapping.js");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");






class labelComponent extends react__WEBPACK_IMPORTED_MODULE_1__["Component"] {
  componentDidMount() {
    const {
      init_data
    } = this.props;
    if (init_data) {
      init_data(this.props);
    }
  }
  render() {
    const {
      className,
      input: {
        value
      },
      type,
      data = {},
      t
    } = this.props;
    let initialVal = lodash_get__WEBPACK_IMPORTED_MODULE_0___default()(data, value, value);
    const Val = lodash_get__WEBPACK_IMPORTED_MODULE_0___default()(_typeofData__WEBPACK_IMPORTED_MODULE_2__, type, () => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("label", null, initialVal));
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Val, {
      className,
      data: value,
      t: t
    });
  }
}
/* harmony default export */ __webpack_exports__["default"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_5__["connect"])(_mapping__WEBPACK_IMPORTED_MODULE_4__["mapStateToProps"], _mapping__WEBPACK_IMPORTED_MODULE_4__["mapDispatchToProps"])(Object(react_i18next__WEBPACK_IMPORTED_MODULE_3__["translate"])('labels')(labelComponent)));

/***/ }),

/***/ "./src/app/components/inputs/fields/label/mapping.js":
/*!***********************************************************!*\
  !*** ./src/app/components/inputs/fields/label/mapping.js ***!
  \***********************************************************/
/*! exports provided: mapStateToProps, mapDispatchToProps */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mapStateToProps", function() { return mapStateToProps; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mapDispatchToProps", function() { return mapDispatchToProps; });
/* harmony import */ var redux_form__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! redux-form */ "./node_modules/redux-form/es/index.js");

const mapStateToProps = ({
  wizard: {
    mainObject
  },
  selectors = {},
  mainApp,
  mapViewer,
  ...state
}, {
  moduleName,
  path,
  value_key,
  ...props
}) => {
  return {
    mainObject: {
      ...mainObject
    }
  };
};
const mapDispatchToProps = (dispatch, {
  moduleName
}) => {
  return {
    getValues(name = 'stepForm') {
      return Object(redux_form__WEBPACK_IMPORTED_MODULE_0__["formValueSelector"])('name');
    }
  };
};

/***/ }),

/***/ "./src/app/components/inputs/fields/label/typeofData/boolean.js":
/*!**********************************************************************!*\
  !*** ./src/app/components/inputs/fields/label/typeofData/boolean.js ***!
  \**********************************************************************/
/*! exports provided: boolean */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "boolean", function() { return boolean; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

class boolean extends react__WEBPACK_IMPORTED_MODULE_0__["Component"] {
  render() {
    const {
      data,
      t
    } = this.props;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, data ? t('Yes') : t('No'));
  }
}

/***/ }),

/***/ "./src/app/components/inputs/fields/label/typeofData/date.js":
/*!*******************************************************************!*\
  !*** ./src/app/components/inputs/fields/label/typeofData/date.js ***!
  \*******************************************************************/
/*! exports provided: date */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "date", function() { return date; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_1__);


class date extends react__WEBPACK_IMPORTED_MODULE_0__["Component"] {
  render() {
    const {
      data
    } = this.props;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, moment__WEBPACK_IMPORTED_MODULE_1___default()(data));
  }
}

/***/ }),

/***/ "./src/app/components/inputs/fields/label/typeofData/index.js":
/*!********************************************************************!*\
  !*** ./src/app/components/inputs/fields/label/typeofData/index.js ***!
  \********************************************************************/
/*! exports provided: object, string, date, number, list, boolean */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _object__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./object */ "./src/app/components/inputs/fields/label/typeofData/object.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "object", function() { return _object__WEBPACK_IMPORTED_MODULE_0__["object"]; });

/* harmony import */ var _string__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./string */ "./src/app/components/inputs/fields/label/typeofData/string.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "string", function() { return _string__WEBPACK_IMPORTED_MODULE_1__["string"]; });

/* harmony import */ var _date__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./date */ "./src/app/components/inputs/fields/label/typeofData/date.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "date", function() { return _date__WEBPACK_IMPORTED_MODULE_2__["date"]; });

/* harmony import */ var _number__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./number */ "./src/app/components/inputs/fields/label/typeofData/number.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "number", function() { return _number__WEBPACK_IMPORTED_MODULE_3__["number"]; });

/* harmony import */ var _list__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./list */ "./src/app/components/inputs/fields/label/typeofData/list.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "list", function() { return _list__WEBPACK_IMPORTED_MODULE_4__["list"]; });

/* harmony import */ var _boolean__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./boolean */ "./src/app/components/inputs/fields/label/typeofData/boolean.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "boolean", function() { return _boolean__WEBPACK_IMPORTED_MODULE_5__["boolean"]; });








/***/ }),

/***/ "./src/app/components/inputs/fields/label/typeofData/number.js":
/*!*********************************************************************!*\
  !*** ./src/app/components/inputs/fields/label/typeofData/number.js ***!
  \*********************************************************************/
/*! exports provided: number */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "number", function() { return number; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

class number extends react__WEBPACK_IMPORTED_MODULE_0__["Component"] {
  render() {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, this.props.data && (+this.props.data).toFixed(2));
  }
}

/***/ }),

/***/ "./src/app/components/inputs/fields/label/typeofData/object.js":
/*!*********************************************************************!*\
  !*** ./src/app/components/inputs/fields/label/typeofData/object.js ***!
  \*********************************************************************/
/*! exports provided: object */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "object", function() { return object; });
/* harmony import */ var lodash_isEmpty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/isEmpty */ "./node_modules/lodash/isEmpty.js");
/* harmony import */ var lodash_isEmpty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_isEmpty__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/get */ "./node_modules/lodash/get.js");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _helpers_fieldValues__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../helpers/fieldValues */ "./src/app/helpers/fieldValues/index.js");




class object extends react__WEBPACK_IMPORTED_MODULE_2__["Component"] {
  render() {
    const {
      data,
      t
    } = this.props;
    let files = data && data.length ? data.filter(singleData => lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(singleData, 'uid', null) ? singleData : null) : null;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", null, !lodash_isEmpty__WEBPACK_IMPORTED_MODULE_0___default()(files) ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", null, Object(_helpers_fieldValues__WEBPACK_IMPORTED_MODULE_3__["fileUploader"])(data)) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      style: {
        display: 'flex'
      }
    }, data.map((val, index) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      style: {
        padding: '5px'
      },
      key: index
    }, index == 0 ? ` ${t(val)} ` : ` - ${t(val)} `))));
  }
}

/***/ }),

/***/ "./src/app/components/inputs/fields/label/typeofData/string.js":
/*!*********************************************************************!*\
  !*** ./src/app/components/inputs/fields/label/typeofData/string.js ***!
  \*********************************************************************/
/*! exports provided: string */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "string", function() { return string; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _date__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./date */ "./src/app/components/inputs/fields/label/typeofData/date.js");


class string extends react__WEBPACK_IMPORTED_MODULE_0__["Component"] {
  render() {
    const {
      data,
      t
    } = this.props;
    const datetime = /\d{4,4}-\d{2,2}-\d{2,2}/;
    let item = datetime.test(data) ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_date__WEBPACK_IMPORTED_MODULE_1__["date"], {
      data: data
    }) : data;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, item);
  }
}

/***/ })

}]);
//# sourceMappingURL=13.min.js.map