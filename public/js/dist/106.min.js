(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[106],{

/***/ "./src/app/components/inputs/fields/list/hob.js":
/*!******************************************************!*\
  !*** ./src/app/components/inputs/fields/list/hob.js ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return EditableTable; });
/* harmony import */ var antd_lib_table_style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! antd/lib/table/style */ "./node_modules/antd/lib/table/style/index.js");
/* harmony import */ var antd_lib_table_style__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(antd_lib_table_style__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var antd_lib_table__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! antd/lib/table */ "./node_modules/antd/lib/table/index.js");
/* harmony import */ var antd_lib_table__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(antd_lib_table__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var antd_lib_button_style__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! antd/lib/button/style */ "./node_modules/antd/lib/button/style/index.js");
/* harmony import */ var antd_lib_button_style__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(antd_lib_button_style__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var antd_lib_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! antd/lib/button */ "./node_modules/antd/lib/button/index.js");
/* harmony import */ var antd_lib_button__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(antd_lib_button__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var antd_lib_popconfirm_style__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! antd/lib/popconfirm/style */ "./node_modules/antd/lib/popconfirm/style/index.js");
/* harmony import */ var antd_lib_popconfirm_style__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(antd_lib_popconfirm_style__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var antd_lib_popconfirm__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! antd/lib/popconfirm */ "./node_modules/antd/lib/popconfirm/index.js");
/* harmony import */ var antd_lib_popconfirm__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(antd_lib_popconfirm__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var antd_lib_form_style__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! antd/lib/form/style */ "./node_modules/antd/lib/form/style/index.js");
/* harmony import */ var antd_lib_form_style__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(antd_lib_form_style__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var antd_lib_form__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! antd/lib/form */ "./node_modules/antd/lib/form/index.js");
/* harmony import */ var antd_lib_form__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(antd_lib_form__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var antd_lib_input_style__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! antd/lib/input/style */ "./node_modules/antd/lib/input/style/index.js");
/* harmony import */ var antd_lib_input_style__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(antd_lib_input_style__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var antd_lib_input__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! antd/lib/input */ "./node_modules/antd/lib/input/index.js");
/* harmony import */ var antd_lib_input__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(antd_lib_input__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_11__);












const EditableContext = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_11___default.a.createContext();
const EditableRow = ({
  form,
  index,
  ...props
}) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(EditableContext.Provider, {
  value: form
}, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("tr", props));

// const EditableFormRow = Form.create()(EditableRow);

class EditableCell extends react__WEBPACK_IMPORTED_MODULE_11___default.a.Component {
  constructor(...args) {
    super(...args);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default()(this, "state", {
      editing: false
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default()(this, "toggleEdit", () => {
      const editing = !this.state.editing;
      this.setState({
        editing
      }, () => {
        if (editing) {
          this.input.focus();
        }
      });
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default()(this, "save", e => {
      const {
        record,
        handleSave
      } = this.props;
      this.form.validateFields((error, values) => {
        if (error && error[e.currentTarget.id]) {
          return;
        }
        this.toggleEdit();
        handleSave({
          ...record,
          ...values
        });
      });
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default()(this, "renderCell", form => {
      this.form = form;
      const {
        children,
        dataIndex,
        record,
        title
      } = this.props;
      const {
        editing
      } = this.state;
      return editing ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(antd_lib_form__WEBPACK_IMPORTED_MODULE_7___default.a.Item, {
        style: {
          margin: 0
        }
      }, form.getFieldDecorator(dataIndex, {
        rules: [{
          required: true,
          message: `${title} is required.`
        }],
        initialValue: record[dataIndex]
      })( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(antd_lib_input__WEBPACK_IMPORTED_MODULE_9___default.a, {
        ref: node => this.input = node,
        onPressEnter: this.save,
        onBlur: this.save
      }))) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("div", {
        className: "editable-cell-value-wrap",
        style: {
          paddingRight: 24
        },
        onClick: this.toggleEdit
      }, children);
    });
  }
  render() {
    const {
      editable,
      dataIndex,
      title,
      record,
      index,
      handleSave,
      children,
      ...restProps
    } = this.props;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("td", restProps, editable ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(EditableContext.Consumer, null, this.renderCell) : children);
  }
}
class EditableTable extends react__WEBPACK_IMPORTED_MODULE_11___default.a.Component {
  constructor(props) {
    const {
      data: _data
    } = props;
    super(props);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default()(this, "handleDelete", key => {
      const dataSource = [...this.state.dataSource];
      this.setState({
        dataSource: dataSource.filter(item => item.key !== key)
      });
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default()(this, "handleAdd", () => {
      const {
        count,
        dataSource
      } = this.state;
      const {
        data
      } = this.props;
      this.setState({
        dataSource: [...dataSource, data],
        count: count + 1
      });
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_10___default()(this, "handleSave", row => {
      const newData = [...this.state.dataSource];
      const index = newData.findIndex(item => row.key === item.key);
      const item = newData[index];
      newData.splice(index, 1, {
        ...item,
        ...row
      });
      this.setState({
        dataSource: newData
      });
    });
    this.columns = [{
      title: 'البلدية',
      dataIndex: 'name'
      // width: '30%',
      // editable: true,
    }, {
      title: 'البلدية الفرعية',
      dataIndex: 'age'
    }, {
      title: 'الحى',
      dataIndex: 'address'
    }, {
      title: '#',
      dataIndex: 'operation',
      render: (text, record) => this.state.dataSource.length >= 1 ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(antd_lib_popconfirm__WEBPACK_IMPORTED_MODULE_5___default.a, {
        title: "Sure to delete?",
        onConfirm: () => this.handleDelete(record.key)
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("a", null, "Delete")) : null
    }];
    this.state = {
      dataSource: [],
      count: 0
    };
  }
  render() {
    const {
      dataSource
    } = this.state;
    const {
      addResultTotable
    } = this.props;
    const components = {
      body: {
        // row: EditableFormRow,
        cell: EditableCell
      }
    };
    const columns = this.columns.map(col => {
      if (!col.editable) {
        return col;
      }
      // return {
      //     ...col,
      //     onCell: record => ({
      //         record,
      //         editable: col.editable,
      //         dataIndex: col.dataIndex,
      //         title: col.title,
      //         handleSave: this.handleSave,
      //     }),
      // };
    });
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(antd_lib_button__WEBPACK_IMPORTED_MODULE_3___default.a, {
      onClick: addResultTotable,
      type: "primary",
      style: {
        marginBottom: 16
      }
    }, "Add a row"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_11___default.a.createElement(antd_lib_table__WEBPACK_IMPORTED_MODULE_1___default.a, {
      components: components,
      rowClassName: () => 'editable-row',
      bordered: true,
      dataSource: dataSource,
      columns: columns
    }));
  }
}

/***/ })

}]);
//# sourceMappingURL=106.min.js.map