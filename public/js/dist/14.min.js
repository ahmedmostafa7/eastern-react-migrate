(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[14],{

/***/ "./node_modules/css-loader/dist/cjs.js!./src/app/components/inputs/fields/identify/Component/msa7yDataComponent/planDataStyle.css":
/*!****************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./src/app/components/inputs/fields/identify/Component/msa7yDataComponent/planDataStyle.css ***!
  \****************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../../../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js")(false);
// Module
exports.push([module.i, ".usingsymbolStyle {\r\n    background: green;\r\n    color: white;\r\n    text-align: center;\r\n    padding: 15px;\r\n    margin-top: 15px;\r\n    margin-bottom: 15px;\r\n    font-size: 18px;\r\n}\r\n\r\n\r\n", ""]);



/***/ }),

/***/ "./src/app/components/inputs/fields/identify/Component/msa7yDataComponent/Helpers.js":
/*!*******************************************************************************************!*\
  !*** ./src/app/components/inputs/fields/identify/Component/msa7yDataComponent/Helpers.js ***!
  \*******************************************************************************************/
/*! exports provided: selectDis, DataQuery, queryOption, querySetting, DataReqest */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "selectDis", function() { return selectDis; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DataQuery", function() { return DataQuery; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "queryOption", function() { return queryOption; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "querySetting", function() { return querySetting; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DataReqest", function() { return DataReqest; });
/* harmony import */ var esri_loader__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! esri-loader */ "./node_modules/esri-loader/dist/umd/esri-loader.js");
/* harmony import */ var esri_loader__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(esri_loader__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _mapviewer_config_map__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../mapviewer/config/map */ "./src/app/components/inputs/fields/identify/Component/mapviewer/config/map.js");


const options = {
  url: 'https://js.arcgis.com/3.13'
};
const selectDis = e => {
  var a = [];
  e.forEach(el => {
    el.features.forEach(element => {
      if (!a.find(t => t.attributes.PARCEL_SPATIAL_ID == element.attributes.PARCEL_SPATIAL_ID)) {
        a.push(element);
      }
    });
  });
  return a;
};
const DataQuery = (layerNum, QueryOptions, CallBack) => {
  Object(esri_loader__WEBPACK_IMPORTED_MODULE_0__["loadModules"])(["esri/symbols/SimpleLineSymbol", "esri/Color", "esri/layers/FeatureLayer", "esri/tasks/RelationshipQuery", "esri/tasks/QueryTask", "esri/tasks/query", "esri/request", "esri/geometry/Polygon", "esri/symbols/SimpleFillSymbol", "esri/graphic"], options).then(([SimpleLineSymbol, Color, FeatureLayer, RQuery, QueryTask, Query, request, Polygon, SimpleFillSymbol, Graphic]) => {
    var query = new Query();
    var qt = new QueryTask(_mapviewer_config_map__WEBPACK_IMPORTED_MODULE_1__["mapUrl"] + `/${layerNum}`);
    QueryOptions.forEach(e => {
      query[e.name] = e.value;
    });
    qt.execute(query, CallBack, res => {
      console.log(res);
    });
  });
};
const queryOption = (where, geo, outfields) => {
  return [{
    name: "where",
    value: where
  }, {
    name: "returnGeometry",
    value: geo
  }, {
    name: "outFields",
    value: outfields
  }];
};
const querySetting = (num, where, geo, outfields, url) => {
  return {
    url: (url || _mapviewer_config_map__WEBPACK_IMPORTED_MODULE_1__["mapUrl"]) + "/" + num,
    where,
    returnGeometry: geo,
    outFields: outfields
  };
};
const DataReqest = (url, callBack) => {
  Object(esri_loader__WEBPACK_IMPORTED_MODULE_0__["loadModules"])(["esri/request"], options).then(([request]) => {
    request({
      url: url,
      content: {
        f: "json"
      },
      handleAs: "json",
      callbackParamName: "callback"
    }).then(callBack);
  });
};

/***/ }),

/***/ "./src/app/components/inputs/fields/identify/Component/msa7yDataComponent/planDataStyle.css":
/*!**************************************************************************************************!*\
  !*** ./src/app/components/inputs/fields/identify/Component/msa7yDataComponent/planDataStyle.css ***!
  \**************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(/*! !../../../../../../../../node_modules/css-loader/dist/cjs.js!./planDataStyle.css */ "./node_modules/css-loader/dist/cjs.js!./src/app/components/inputs/fields/identify/Component/msa7yDataComponent/planDataStyle.css");

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(/*! ../../../../../../../../node_modules/style-loader/lib/addStyles.js */ "./node_modules/style-loader/lib/addStyles.js")(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),

/***/ "./src/app/components/inputs/fields/identify/Component/msa7yDataComponent/plansData.js":
/*!*********************************************************************************************!*\
  !*** ./src/app/components/inputs/fields/identify/Component/msa7yDataComponent/plansData.js ***!
  \*********************************************************************************************/
/*! exports provided: appMapDispatchToProps, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "appMapDispatchToProps", function() { return appMapDispatchToProps; });
/* harmony import */ var antd_lib_tooltip_style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! antd/lib/tooltip/style */ "./node_modules/antd/lib/tooltip/style/index.js");
/* harmony import */ var antd_lib_tooltip_style__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(antd_lib_tooltip_style__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var antd_lib_tooltip__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! antd/lib/tooltip */ "./node_modules/antd/lib/tooltip/index.js");
/* harmony import */ var antd_lib_tooltip__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(antd_lib_tooltip__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var antd_lib_pagination_style__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! antd/lib/pagination/style */ "./node_modules/antd/lib/pagination/style/index.js");
/* harmony import */ var antd_lib_pagination_style__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(antd_lib_pagination_style__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var antd_lib_pagination__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! antd/lib/pagination */ "./node_modules/antd/lib/pagination/index.js");
/* harmony import */ var antd_lib_pagination__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(antd_lib_pagination__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var antd_lib_select_style__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! antd/lib/select/style */ "./node_modules/antd/lib/select/style/index.js");
/* harmony import */ var antd_lib_select_style__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(antd_lib_select_style__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var antd_lib_select__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! antd/lib/select */ "./node_modules/antd/lib/select/index.js");
/* harmony import */ var antd_lib_select__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(antd_lib_select__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime/helpers/defineProperty */ "./node_modules/@babel/runtime/helpers/defineProperty.js");
/* harmony import */ var _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var antd_lib_collapse_style__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! antd/lib/collapse/style */ "./node_modules/antd/lib/collapse/style/index.js");
/* harmony import */ var antd_lib_collapse_style__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(antd_lib_collapse_style__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var antd_lib_collapse__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! antd/lib/collapse */ "./node_modules/antd/lib/collapse/index.js");
/* harmony import */ var antd_lib_collapse__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(antd_lib_collapse__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var antd_lib_tabs_style__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! antd/lib/tabs/style */ "./node_modules/antd/lib/tabs/style/index.js");
/* harmony import */ var antd_lib_tabs_style__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(antd_lib_tabs_style__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var antd_lib_tabs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! antd/lib/tabs */ "./node_modules/antd/lib/tabs/index.js");
/* harmony import */ var antd_lib_tabs__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(antd_lib_tabs__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var antd_lib_radio_style__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! antd/lib/radio/style */ "./node_modules/antd/lib/radio/style/index.js");
/* harmony import */ var antd_lib_radio_style__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(antd_lib_radio_style__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var antd_lib_radio__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! antd/lib/radio */ "./node_modules/antd/lib/radio/index.js");
/* harmony import */ var antd_lib_radio__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(antd_lib_radio__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var lodash_isEmpty__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! lodash/isEmpty */ "./node_modules/lodash/isEmpty.js");
/* harmony import */ var lodash_isEmpty__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(lodash_isEmpty__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var lodash_map__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! lodash/map */ "./node_modules/lodash/map.js");
/* harmony import */ var lodash_map__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(lodash_map__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var _helpers_apiMethods__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../../../helpers/apiMethods */ "./src/app/helpers/apiMethods/index.js");
/* harmony import */ var _main_helpers_functions_filters_state__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../../../../main_helpers/functions/filters/state */ "./src/main_helpers/functions/filters/state.js");
/* harmony import */ var _common_esri_request__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../common/esri_request */ "./src/app/components/inputs/fields/identify/Component/common/esri_request.js");
/* harmony import */ var redux_form__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! redux-form */ "./node_modules/redux-form/es/index.js");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _common_common_func__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../common/common_func */ "./src/app/components/inputs/fields/identify/Component/common/common_func.js");
/* harmony import */ var _mapviewer_config_layers__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../mapviewer/config/layers */ "./src/app/components/inputs/fields/identify/Component/mapviewer/config/layers.js");
/* harmony import */ var _mapviewer_config_map__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../mapviewer/config/map */ "./src/app/components/inputs/fields/identify/Component/mapviewer/config/map.js");
/* harmony import */ var react_beautiful_dnd__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! react-beautiful-dnd */ "./node_modules/react-beautiful-dnd/dist/react-beautiful-dnd.esm.js");
/* harmony import */ var antd_dist_antd_css__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! antd/dist/antd.css */ "./node_modules/antd/dist/antd.css");
/* harmony import */ var antd_dist_antd_css__WEBPACK_IMPORTED_MODULE_25___default = /*#__PURE__*/__webpack_require__.n(antd_dist_antd_css__WEBPACK_IMPORTED_MODULE_25__);
/* harmony import */ var _MapComponent_MapComponent__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../MapComponent/MapComponent */ "./src/app/components/inputs/fields/identify/Component/MapComponent/MapComponent.js");
/* harmony import */ var _mapping__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../mapping */ "./src/app/components/inputs/fields/identify/Component/mapping.js");
/* harmony import */ var _main_helpers_actions_main__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../../../../../../main_helpers/actions/main */ "./src/main_helpers/actions/main/index.js");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _Helpers__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./Helpers */ "./src/app/components/inputs/fields/identify/Component/msa7yDataComponent/Helpers.js");
/* harmony import */ var _common_esri_loader__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../common/esri_loader */ "./src/app/components/inputs/fields/identify/Component/common/esri_loader.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! axios */ "./node_modules/axios/index.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_32___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_32__);
/* harmony import */ var _label__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../../../label */ "./src/app/components/inputs/fields/label/index.js");
/* harmony import */ var _reducers__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../../../../../../reducers */ "./src/app/reducers/index.js");
/* harmony import */ var _planDataStyle_css__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./planDataStyle.css */ "./src/app/components/inputs/fields/identify/Component/msa7yDataComponent/planDataStyle.css");
/* harmony import */ var _planDataStyle_css__WEBPACK_IMPORTED_MODULE_35___default = /*#__PURE__*/__webpack_require__.n(_planDataStyle_css__WEBPACK_IMPORTED_MODULE_35__);
/* harmony import */ var _apps_modules_tabs_tableActionFunctions_mappingObjects_plan_approval_planDefaults__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ../../../../../../../apps/modules/tabs/tableActionFunctions/mappingObjects/plan_approval/planDefaults */ "./src/apps/modules/tabs/tableActionFunctions/mappingObjects/plan_approval/planDefaults.js");
























const RadioGroup = antd_lib_radio__WEBPACK_IMPORTED_MODULE_12___default.a.Group;
const {
  TabPane
} = antd_lib_tabs__WEBPACK_IMPORTED_MODULE_10___default.a;







var uniqid = __webpack_require__(/*! uniqid */ "./node_modules/uniqid/index.js");
const _ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");






//import { planSubmission } from "../../../../../wizard/modulesObjects/plan_approval/steps/final_approval_module/planSubmissionFunction";
const Panel = antd_lib_collapse__WEBPACK_IMPORTED_MODULE_8___default.a.Panel;
const reorder = (list, startIndex, endIndex) => {
  const result = Array.from(list);
  const [removed] = result.splice(startIndex, 1);
  result.splice(endIndex, 0, removed);
  return result;
};

/**
 * Moves an item from one list to another list.
 */
const move = (source, destination, droppableSource, droppableDestination) => {
  const sourceClone = Array.from(source);
  const destClone = Array.from(destination);
  const [removed] = sourceClone.splice(droppableSource.index, 1);
  destClone.splice(droppableDestination.index, 0, removed);
  const result = {};
  result[droppableSource.droppableId] = sourceClone;
  result[droppableDestination.droppableId] = destClone;
  return result;
};
const grid = 8;
const getItemStyle = (isDragging, draggableStyle) => ({
  // some basic styles to make the items look a bit nicer
  userSelect: "none",
  padding: "2px",
  fontSize: "20px",
  marginRight: "13px",
  float: "right",
  // change background colour if dragging
  background: "#E0E0E0",
  // styles we need to apply on draggables
  ...draggableStyle
});
const dragStyle = {
  float: "right",
  marginRight: "13px",
  backgroundColor: "#E0E0E0",
  padding: "2px"
};
const getListStyle = isDraggingOver => ({
  //background: isDraggingOver ? 'lightblue' : 'lightgrey',
  padding: grid,
  width: "100%",
  height: "60px"
});
const itemContainerNorth = {
  borderTop: "13px solid #008DFF",
  margin: "auto",
  height: "auto",
  width: "500px",
  backgroundColor: "white",
  boxShadow: "1px 1px 3px #505050",
  cursor: "pointer",
  borderRadius: "10px",
  padding: "5px",
  minHeight: "152px",
  overflow: "auto"
};
const sideClass = {
  float: "right",
  textAlign: "right",
  fontSize: "20px",
  marginLeft: "10px",
  marginRight: "10px",
  backgroundColor: "#E0E0E0"
};
const itemContainerWest = {
  borderLeft: "13px solid red",
  height: "auto",
  margin: "auto",
  width: "500px",
  marginTop: "15px",
  backgroundColor: "white",
  boxShadow: "1px 1px 3px #505050",
  cursor: "pointer",
  borderRadius: "10px",
  padding: "5px",
  minHeight: "152px",
  overflow: "auto"
};
const itemContainerEmpty = {
  height: "auto",
  margin: "35px 88px auto",
  width: "500px",
  marginTop: "15px",
  backgroundColor: "white",
  boxShadow: "1px 1px 3px #505050",
  cursor: "pointer",
  borderRadius: "10px",
  padding: "5px",
  minHeight: "152px",
  overflow: "auto"
};
const itemContainerEast = {
  borderRight: "13px solid #8A8A8A",
  height: "auto",
  width: "500px",
  marginTop: "15px",
  backgroundColor: "white",
  boxShadow: "1px 1px 3px #505050",
  cursor: "pointer",
  borderRadius: "10px",
  padding: "5px",
  minHeight: "152px",
  overflow: "auto"
};
const itemContainerSouth = {
  borderBottom: "13px solid #09F869",
  margin: "auto",
  height: "auto",
  width: "500px",
  marginTop: "15px",
  backgroundColor: "white",
  boxShadow: "1px 1px 3px #505050",
  cursor: "pointer",
  borderRadius: "10px",
  padding: "5px",
  minHeight: "152px",
  overflow: "auto"
};
const planDescStyle = {
  fontSize: "15px",
  fontWeight: "600",
  marginTop: "5px",
  marginBottom: "5px"
};
const containerDetails = {
  minHeight: "10em",
  width: "150em",
  display: "table-cell",
  verticalAlign: "middle"
};
Number.prototype.toFixed = function (fixed) {
  var _Number, _Number$toString, _Number$toString$matc, _String, _String$match;
  var re = new RegExp(`^\\d+(?:\\.\\d{0,${fixed}})?`);
  return !isNaN(Number(this)) && ((_Number = Number(this)) === null || _Number === void 0 ? void 0 : (_Number$toString = _Number.toString()) === null || _Number$toString === void 0 ? void 0 : (_Number$toString$matc = _Number$toString.match(re)) === null || _Number$toString$matc === void 0 ? void 0 : _Number$toString$matc[0]) || ((_String = String(this)) === null || _String === void 0 ? void 0 : (_String$match = _String.match(re)) === null || _String$match === void 0 ? void 0 : _String$match[0]);
};
const appMapDispatchToProps = dispatch => {
  return {
    ...Object(_mapping__WEBPACK_IMPORTED_MODULE_27__["mapDispatchToProps"])(dispatch, "plansData"),
    ...Object(_main_helpers_actions_main__WEBPACK_IMPORTED_MODULE_28__["default"])(dispatch)
  };
};
class plansDataComponent extends react__WEBPACK_IMPORTED_MODULE_15__["Component"] {
  constructor(props) {
    var _props$mainObject, _props$mainObject$dat, _props$mainObject$dat2;
    super(props);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(this, "isValidCondition", parcel => {
      const {
        mainObject
      } = this.props;
      if (parcel.usingSymbol) {
        var condition = _.find(mainObject.buildingCondition, function (d) {
          return d.attributes.USING_SYMBOL_CODE == parcel.usingSymbol;
        });
        if (condition && condition.attributes && condition.attributes.SLIDE_AREA) return condition.attributes.SLIDE_AREA <= parcel.area;else return true;
      } else return true;
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(this, "removeNoSubType", itm => {
      return itm.cad_sublayers;
    });
    // $scope.$watch(function () {
    //     return $scope.model.selectedModel;
    // }, function (newVal, oldVal) {
    //     if (newVal && newVal != oldVal) {
    //         if (!pdc.serviceTypes) {
    //             $http.get($rootScope.serverUrl + "CadLayers/GetAll?pageSize=40").success(function (data) {
    //                 pdc.servicesTypes = data.results;
    //                 pdc.servicesTypes.forEach(function (type) {
    //                     type.layer_color = eval(type.layer_color);
    //                 });
    //                 init(newVal);
    //             });
    //         }
    //         else
    //             init(newVal);
    //     }
    // }, true);
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(this, "resetMap", () => {
      var _this$map, _this$map2;
      if (this !== null && this !== void 0 && (_this$map = this.map) !== null && _this$map !== void 0 && _this$map.graphicsLayerIds) {
        let arr = this.map.graphicsLayerIds.map(x => x);
        arr.forEach((layerName, index) => {
          if (layerName.toLowerCase().indexOf("Layer_G".toLowerCase()) != -1) {
            this.map.removeLayer(this.map.getLayer(layerName));
          } else {
            Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["clearGraphicFromLayer"])(this.map, layerName);
          }
        });
      }
      console.log("map", lodash_map__WEBPACK_IMPORTED_MODULE_14___default.a);
      (_this$map2 = this.map) === null || _this$map2 === void 0 ? void 0 : _this$map2.setExtent(new esri.geometry.Extent({
        xmin: 351074.79384063353,
        ymin: 2908411.351837893,
        xmax: 461736.99433170113,
        ymax: 2947768.2013849253,
        spatialReference: {
          wkid: 32639
        }
      }));
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(this, "setBuildingCondition", uplodedFeatures => {
      return new Promise((resolve, reject) => {
        try {
          let {
            mainObject
          } = this.props;
          var usingSymbolObj;
          if (uplodedFeatures) {
            usingSymbolObj = _(uplodedFeatures.shapeFeatures.landbase).groupBy("usingSymbol").value();
          }
          var maxCount = 0;
          if (!lodash_isEmpty__WEBPACK_IMPORTED_MODULE_13___default()(usingSymbolObj)) {
            Object.keys(usingSymbolObj).filter(function (d) {
              return d && d != "undefined";
            }).forEach(function (ele, key) {
              if (ele.startsWith("س") || ele.startsWith("(س") || ele.startsWith("ص") || ele.startsWith("ت") || ele.startsWith("ز") || ele.startsWith("خ") || ele.startsWith("م-") || ele.startsWith("ت-ج")) {
                if (usingSymbolObj[ele].length > maxCount && Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(mainObject.submission_data.mostafed_data.use_sumbol).indexOf(Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(ele)) != -1) {
                  maxCount = usingSymbolObj[ele].length;

                  // if (ele == "ت-3") {
                  //   ele = "م-ت ع";
                  // }

                  mainObject.selectedMaxUsingSymbolCode = ele;
                  mainObject.selectedMaxUsingSymbol = "منطقة " + mainObject.submission_data.mostafed_data.mostafed_type + (ele.indexOf("س") > -1 ? "ة" : "") + " " + ele;
                }
              }
            });
            mainObject.MaxUsingSymbolDescription = "يُسمح بالأستعمالات ال" + mainObject.submission_data.mostafed_data.mostafed_type + "ة" + "وأستعمالاتها التبعية فى المنطقة ال" + mainObject.submission_data.mostafed_data.mostafed_type + "ة" + " " + mainObject.selectedMaxUsingSymbol;
            Object(_common_esri_request__WEBPACK_IMPORTED_MODULE_18__["esriRequest"])(window.planMapEditing + "MapServer/layers").then(function (maplayers) {
              if (window.planMapEditing) {
                var layer = _.find(maplayers.tables, function (d) {
                  return d.name == "Tbl_Parcel_Conditions";
                });
                if (layer && layer.id) {
                  Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["queryTask_updated"])(window.planMapEditing + "MapServer/" + layer.id, "USING_SYMBOL_CODE='" + mainObject.selectedMaxUsingSymbolCode + "'", ["*"], function (result) {
                    mainObject.buildingCondition = result.features;
                  });
                }
              }
            });
          }
          return resolve(true);
        } catch (error) {
          console.error(error);
          return reject();
        }
      });
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(this, "init", function (newVal) {
      this.resetMap();
      const {
        currentModule: {
          record
        }
      } = this.props;
      setTimeout(function () {
        var _this$state$uplodedFe, _this$state$uplodedFe2, _this$state$uplodedFe3;
        if ((_this$state$uplodedFe = this.state.uplodedFeatures) !== null && _this$state$uplodedFe !== void 0 && (_this$state$uplodedFe2 = _this$state$uplodedFe[newVal]) !== null && _this$state$uplodedFe2 !== void 0 && (_this$state$uplodedFe3 = _this$state$uplodedFe2.shapeFeatures) !== null && _this$state$uplodedFe3 !== void 0 && _this$state$uplodedFe3.landbase && Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["checkUploadedLayersFullyContainedByBoundry"])(this.state.uplodedFeatures[newVal], this.props.mainObject.submission_data.mostafed_data.e3adt_tanzem, record === null || record === void 0 ? void 0 : record.request_no)) {
          this.drawFeatures(this.state.uplodedFeatures[newVal]);
          Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["loadCurrentPlan"])(this.props, this.map, window.loadedLayers, true);
        } else {
          var values = {
            isInvestalIncluded: false,
            statisticsParcels: [],
            enableDownlaodCad: false,
            planDescription: "",
            streets: [],
            detailsParcelTypes: [],
            streetsAnnotation: [],
            serviceSubType: null,
            serviceType: null,
            selectedCAD: "",
            selectedCADIndex: -1,
            planUsingSymbol: "",
            hide_details: true,
            servicesTypes: [],
            servicesSubTypes: [],
            TotalParcelArea: 0
          };
          var additionalValues = {
            totalParcelPage: 0,
            minParcelIndex: 0,
            maxParcelIndex: 0,
            totalInvestalParcelPage: 0,
            minInvestalParcelIndex: 0,
            maxInvestalParcelIndex: 0,
            totalStreetPage: 0,
            minStreetIndex: 0,
            maxStreetIndex: 0
          };
          this.props.input.onChange({
            ...values,
            ...additionalValues
          });
          this.setState({
            ...values,
            ...additionalValues
          });
        }
      }.bind(this), 500);
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(this, "onStreetChange", (street, evt) => {
      var _evt$target, _evt$target2;
      const {
        input: {
          value
        }
      } = this.props;
      street[evt.target.name] = evt.target.name == "streetname" ? (evt === null || evt === void 0 ? void 0 : (_evt$target = evt.target) === null || _evt$target === void 0 ? void 0 : _evt$target.value) || "" : evt === null || evt === void 0 ? void 0 : (_evt$target2 = evt.target) === null || _evt$target2 === void 0 ? void 0 : _evt$target2.value;
      street.polygon = street.polygon || new esri.geometry.Polygon(street);
      street.position = street.position || new esri.geometry.Polygon(street).getExtent().getCenter();

      // if (evt.target.name == "streetname") {
      //   redrawNames(street, this.map, street.streetname, "PacrelNoGraphicLayer");
      // }

      //this.state.streets[index] = street;
      this.props.input.onChange({
        ...value,
        streets: this.state.streets
      });
      this.setState({
        streets: this.state.streets
      });
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(this, "drawBuffer", function (bufferDistance) {
      if (this.map.getLayer("BufferGraphicLayer")) this.map.getLayer("BufferGraphicLayer").clear();
      if (this.state.bufferDistance > 0) {
        Object(_common_esri_loader__WEBPACK_IMPORTED_MODULE_31__["LoadModules"])(["esri/tasks/GeometryService", "esri/tasks/BufferParameters", "esri/geometry/Polygon", "esri/geometry/Circle"]).then(([GeometryService, BufferParameters, Polygon, Circle]) => {
          if (!this.state.serviceSubType) {
            _.filter(this.state.uplodedFeatures[this.state.selectedCADIndex].shapeFeatures.landbase, function (d) {
              return d.typeId == this.state.serviceType.symbol_id;
            }.bind(this)).forEach(function (feature) {
              if (!feature.spatialReference.wkid) {
                feature.spatialReference = this.map.spatialReference;
              }
              feature = new Polygon(feature);
              var circleGeometry = new Circle({
                center: feature.getExtent().getCenter(),
                radius: +this.state.bufferDistance,
                radiusUnit: esri.Units.METERS
              });
              Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["addGraphicToLayer"])(circleGeometry, this.map, "BufferGraphicLayer", [0, 0, 255], null, false, null, null, null, true, true, null, false);
            }.bind(this));
          } else {
            _.filter(this.state.uplodedFeatures[this.state.selectedCADIndex].shapeFeatures.landbase, function (d) {
              return d.useDetails == this.state.serviceSubType.symbol_id;
            }.bind(this)).forEach(function (feature) {
              if (!feature.spatialReference.wkid) {
                feature.spatialReference = this.map.spatialReference;
              }
              feature = new Polygon(feature);
              var circleGeometry = new Circle({
                center: feature.getExtent().getCenter(),
                radius: +bufferDistance,
                radiusUnit: esri.Units.METERS
              });
              Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["addGraphicToLayer"])(circleGeometry, this.map, "BufferGraphicLayer", [0, 0, 255], null, false, null, null, null, true, true, null, false);
            }.bind(this));
          }
          var gsvc = GeometryService(_mapviewer_config_map__WEBPACK_IMPORTED_MODULE_23__["geometryServiceUrl"]);
          var params = new BufferParameters();
          var boundry = new Polygon(this.state.uplodedFeatures[this.state.selectedCADIndex].shapeFeatures.boundry[0]);
          params.geometries = [dojo.clone(boundry)];
          params.distances = [+this.state.bufferDistance];
          params.unit = GeometryService.UNIT_METER;
          params.outSpatialReference = this.map.spatialReference;
          gsvc.buffer(params, function (geometries) {
            var where = "SRVC_TYPE =" + this.state.serviceType.layer_code;
            if (this.state.serviceSubType && this.state.serviceSubType.sublayer_code) where = "SRVC_SUBTYPE =" + this.state.serviceSubType.sublayer_code;
            Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["queryTask"])({
              url: planMapEditing + "MapServer/" + this.state.servicesLayer.id,
              where: where,
              outFields: ["OBJECTID"],
              callbackResult: res => {
                res.features.forEach(function (feature) {
                  var f = new esri.geometry.Point(feature.geometry);
                  if (!boundry.contains(f)) {
                    var circleGeometry = new Circle({
                      center: f,
                      radius: +bufferDistance,
                      radiusUnit: esri.Units.METERS
                    });
                    Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["addGraphicToLayer"])(circleGeometry, this.map, "BufferGraphicLayer", [0, 0, 255], null, false, null, null, null, true, true, null, false);
                  }
                }.bind(this));
              },
              callbackError: () => {
                _reducers__WEBPACK_IMPORTED_MODULE_34__["default"].dispatch({
                  type: "Show_Loading_new",
                  loading: false
                });
              },
              preQuery: function (query, Query) {
                query.geometry = dojo.clone(geometries[0]);
              },
              returnGeometry: true
            });
          }.bind(this));
        });
      }
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(this, "serviceChange", function (evt) {
      var item = JSON.parse(evt.target.value);
      if (item) {
        this.setState({
          serviceType: item,
          servicesSubTypes: item.cad_sublayers
        });
      }
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(this, "clearBuffer", function () {
      if (this.map.getLayer("BufferGraphicLayer")) this.map.getLayer("BufferGraphicLayer").clear();
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(this, "dragLength", function (event) {
      this.map.disableMapNavigation();
      this.map.getLayer("PacrelNoGraphicLayer").remove(event.graphic);
      Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["addParcelNo"])(event.mapPoint, this.map, "" + event.graphic.attributes["text"], "PacrelNoGraphicLayer", 12, null, event.graphic.attributes["angle"], null, {
        text: event.graphic.attributes["text"],
        angle: event.graphic.attributes["angle"]
      }, true, false);
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(this, "moveBoundries", function () {
      window.onDragLengthLayer = [];
      window.onDragLengthLayer.push(this.dragLength);
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(this, "getMaxTwoLinesLength", function (streetsLines) {
      var largestA = streetsLines[0];
      var largestB = streetsLines[1];
      for (var i = 0; i < streetsLines.length; i++) {
        if (streetsLines[i].text > largestA.text) {
          largestB = largestA;
          largestA = streetsLines[i];
        } else if (streetsLines[i].text > largestB.text && streetsLines[i].paths[0][0][0] != largestA.paths[0][0][0]) {
          largestB = streetsLines[i];
        }
      }
      return [largestA, largestB];
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(this, "serviceSubChange", function (evt) {
      var item = JSON.parse(evt.target.value);
      if (item) {
        this.setState({
          bufferDistance: +item.buffer_length,
          serviceSubType: item
        });
      }
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(this, "compareTwoFeatures", function (feature1, feature2) {
      var same = true;
      if (feature1.rings[0].length == feature2.rings[0].length) {
        for (var j = 0, n = feature1.rings[0].length - 1; j < n; j++) {
          if (feature1.rings[0][j] != feature2.rings[0][j]) {
            same = false;
            break;
          }
        }
        return same;
      } else {
        return false;
      }
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(this, "computeLineAngle", (pointA, pointB, cetroid, polygon) => {
      var y = pointA[1] - pointB[1];
      var x = pointA[0] - pointB[0];
      var line = new esri.geometry.Polyline([pointA, pointB]);
      var direction = Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["getLengthDirectionByCentroid"])([pointA, pointB], line.getExtent().getCenter(), polygon);
      var y = pointA[1] - pointB[1];
      var x = pointA[0] - pointB[0];
      return {
        length: Math.sqrt(x * x + y * y),
        direction: direction
      };
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(this, "drawFeatures", uplodedFeatures => {
      var _this$map3;
      const {
        mainObject,
        input,
        t,
        currentModule: {
          record
        }
      } = this.props;
      const {
        CurrentStep,
        servicesTypes,
        serviceSubType
      } = this.state;
      let msa7yArea = +_.chain(this.props.mainObject.data_msa7y.msa7yData.cadDetails.suggestionsParcels).reduce(function (a, b) {
        return a + +b.area;
      }, 0).value().toFixed(2);
      let landbasesArea = +_.chain(uplodedFeatures.shapeFeatures.landbase).reduce(function (a, b) {
        return a + +b.area;
      }, 0).value().toFixed(2);
      if (!this.props.mainObject.submission_data.mostafed_data.e3adt_tanzem && !record.request_no && msa7yArea != landbasesArea && (!window.Supporting || window.Supporting && !window.Supporting.areaDifference)) {
        window.notifySystem("error", "boundry لا يساوي اجمالي مساحة المخطط landbase اجمالي مساحات الرسم داخل طبقة", 10);
        window.notifySystem("error", Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(msa7yArea) + " م2 " + ":boundry اجمالي مساحة طبقة", 10);
        window.notifySystem("error", Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(landbasesArea) + " م2 " + " :landbase اجمالي مساحة طبقة", 10);
        return false;
      }
      var isWithIn = false;
      var moacount = 0;
      if (this.map.getLayer("PacrelNoGraphicLayer")) this.map.getLayer("PacrelNoGraphicLayer").clear();
      if (this !== null && this !== void 0 && (_this$map3 = this.map) !== null && _this$map3 !== void 0 && _this$map3.graphicsLayerIds) {
        this.map.graphicsLayerIds.forEach(function (layerID) {
          if (this.map.getLayer(layerID)) this.map.getLayer(layerID).clear();
        }.bind(this));
      }
      this.state.bufferDistance = 0;
      if (uplodedFeatures.shapeFeatures.boundry) {
        uplodedFeatures.shapeFeatures.boundry.forEach(function (boundry) {
          var _this$props$mainObjec, _this$props$mainObjec2, _this$props$mainObjec3, _this$props$mainObjec4, _this$props$mainObjec5;
          if (boundry.spatialReference && !boundry.spatialReference.wkid) {
            boundry.spatialReference = this.map.spatialReference;
          }
          boundry.area -= +((_this$props$mainObjec = this.props.mainObject) === null || _this$props$mainObjec === void 0 ? void 0 : (_this$props$mainObjec2 = _this$props$mainObjec.data_msa7y) === null || _this$props$mainObjec2 === void 0 ? void 0 : (_this$props$mainObjec3 = _this$props$mainObjec2.msa7yData) === null || _this$props$mainObjec3 === void 0 ? void 0 : (_this$props$mainObjec4 = _this$props$mainObjec3.cadDetails) === null || _this$props$mainObjec4 === void 0 ? void 0 : (_this$props$mainObjec5 = _this$props$mainObjec4.cuttes_area) === null || _this$props$mainObjec5 === void 0 ? void 0 : _this$props$mainObjec5.toFixed(2)) || 0;
          var feature = new esri.geometry.Polygon(boundry);
          _.filter(uplodedFeatures.annotations, function (d) {
            return d.layer == "boundry";
          }).forEach(function (annotation) {
            if (feature.contains && feature.contains(annotation.shape)) {
              boundry.text = annotation.text;
            }
          });
          var found = [];
          if (mainObject && mainObject.data_msa7y) {
            found = _.filter(feature.rings[0], function (ring) {
              return _.find(mainObject.data_msa7y.msa7yData.cadDetails.temp.cadResults.data[0].shapeFeatures[0].rings[0], function (ring2) {
                return ring2[0] == ring[0] && ring2[1] == ring[1];
              });
            });
            if (found.length != mainObject.data_msa7y.msa7yData.cadDetails.temp.cadResults.data[0].shapeFeatures[0].rings[0].length && CurrentStep == 2317) {
              window.notifySystem("error", t("PLANOOUTSIDETHEBOUDRY"));
            } else {
              isWithIn = true;
              Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["addGraphicToLayer"])(feature, this.map, "detailedGraphicLayer", [0, 0, 0], null, null, () => {
                // zoomToLayer(
                //   "detailedGraphicLayer",
                //   this.map,
                //   this.state["zoomRatio"]
                // );
                Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["resizeMap"])(this.map);
              }, null, null, true, null, null, false);
            }
          } else {
            isWithIn = true;
            Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["addGraphicToLayer"])(feature, this.map, "detailedGraphicLayer", [0, 0, 0], null, null, () => {
              // zoomToLayer(
              //   "detailedGraphicLayer",
              //   this.map,
              //   this.state["zoomRatio"]
              // );
              Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["resizeMap"])(this.map);
            }, null, null, true, null, null, false);
          }
        }.bind(this));
      }
      if (uplodedFeatures.shapeFeatures.out_sak_boundry) {
        uplodedFeatures.shapeFeatures.out_sak_boundry.forEach(function (boundry) {
          if (boundry.spatialReference && !boundry.spatialReference.wkid) {
            boundry.spatialReference = this.map.spatialReference;
          }
          var feature = new esri.geometry.Polygon(boundry);
          _.filter(uplodedFeatures.annotations, function (d) {
            return d.layer == "out_sak_boundry";
          }).forEach(function (annotation) {
            if (feature.contains && feature.contains(annotation.shape)) {
              boundry.text = annotation.text;
            }
          });
          Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["addGraphicToLayer"])(feature, this.map, "detailedGraphicLayer", [0, 0, 0], null, null, () => {
            // zoomToLayer(
            //   "detailedGraphicLayer",
            //   this.map,
            //   this.state["zoomRatio"]
            // );
            Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["resizeMap"])(this.map);
          }, null, null, true, null, null, false);
        }.bind(this));
      }
      if (isWithIn) {
        var _this$state$streets, _this$state;
        if (uplodedFeatures.lineFeatures.length > 0) {
          uplodedFeatures.lineFeatures.forEach(function (detail) {
            var polyline = new esri.geometry.Polyline(detail);
            Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["addGraphicToLayer"])(polyline, this.map, "detailedGraphicLayer", detail.color ? this.autoCadColor[detail.color - 1] : [60, 60, 60], null, null, () => {
              // zoomToLayer(
              //   "detailedGraphicLayer",
              //   this.map,
              //   this.state["zoomRatio"]
              // );
              Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["resizeMap"])(this.map);
            }, null, null, null, null, null, false);
          }.bind(this));
        } else {
          Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["zoomToLayer"])("detailedGraphicLayer", this.map, this.state["zoomRatio"]);
        }
        var annotations = [];
        uplodedFeatures.annotations.forEach(function (annotation) {
          annotation.shape = new esri.geometry.Point(annotation.shape);
          if (annotation.layer == "nearby_plans") {
            var txt = annotation.text;
            if (annotation.text) {
              txt = annotation.text;
            }
            var attr = {
              text: Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(txt),
              angle: -15
            };
            Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["addParcelNo"])(annotation.shape, this.map, Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(txt), "PacrelNoGraphicLayer", 12, [60, 60, 60], -15, {
              y: 0,
              x: 0
            }, attr, false, false);
          }
        }.bind(this));
        if (uplodedFeatures.shapeFeatures.subdivision) {
          uplodedFeatures.shapeFeatures.subdivision.forEach(function (subdivision) {
            if (subdivision.spatialReference && !subdivision.spatialReference.wkid) {
              subdivision.spatialReference = this.map.spatialReference;
            }
            var feature = new esri.geometry.Polygon(subdivision);
            _.filter(uplodedFeatures.annotations, function (d) {
              return d.layer == "subdivision";
            }).forEach(function (annotation) {
              if (feature.contains && feature.contains(annotation.shape)) {
                subdivision.text = annotation.text;
              }
            });
            Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["addGraphicToLayer"])(feature, this.map, "detailedGraphicLayer", [0, 0, 255], null, null, () => {
              // zoomToLayer(
              //   "detailedGraphicLayer",
              //   this.map,
              //   this.state["zoomRatio"]
              // );
              Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["resizeMap"])(this.map);
            }, null, null, true, null, null, false);
          }.bind(this));
        }
        if (uplodedFeatures.shapeFeatures.nearby_plans) {
          uplodedFeatures.shapeFeatures.nearby_plans.forEach(function (nearby_plan) {
            nearby_plan.spatialReference.wkid = this.map.spatialReference.wkid;
            var feature = new esri.geometry.Polygon(nearby_plan);
            _.filter(uplodedFeatures.annotations, function (d) {
              return d.layer == "nearby_plans";
            }).forEach(function (annotation) {
              if (feature.contains && feature.contains(annotation.shape)) {
                nearby_plan.text = annotation.text;
              }
            });
            Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["addGraphicToLayer"])(feature, this.map, "detailedGraphicLayer", [60, 60, 60], null, null, () => {
              // zoomToLayer(
              //   "detailedGraphicLayer",
              //   this.map,
              //   this.state["zoomRatio"]
              // );
              Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["resizeMap"])(this.map);
            }, null, null, true, null, null, false);
            var ang = -15;
            var txt = nearby_plan.text;
            if (txt) {
              txt = txt;
            }
            var attr = {
              text: Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(txt),
              angle: -15
            };
            Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["addParcelNo"])(feature.getExtent().getCenter(), this.map, Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(txt), "PacrelNoGraphicLayer", 12, [60, 60, 60], ang, {
              y: 0,
              x: 0
            }, attr, false, false);
          }.bind(this));
        }
        if (uplodedFeatures.shapeFeatures.block) {
          uplodedFeatures.shapeFeatures.block.forEach(function (block) {
            if (block.spatialReference && !block.spatialReference.wkid) {
              block.spatialReference = this.map.spatialReference;
            }
            var feature = new esri.geometry.Polygon(block);
            _.filter(uplodedFeatures.annotations, function (d) {
              return d.layer == "block";
            }).forEach(function (annotation) {
              if (feature.contains && feature.contains(annotation.shape)) {
                block.text = annotation.text;
              }
            });
            Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["addGraphicToLayer"])(feature, this.map, "detailedGraphicLayer", [0, 255, 0], null, null, null, null, null, true, null, null, false);
          }.bind(this));
        }
        this.state.TotalParcelArea = 0;
        var legends = [];
        var isValidCad = true;
        var cadErrors = {};

        // uplodedFeatures.shapeFeatures.landbase =
        //   uplodedFeatures.shapeFeatures.landbase.sort(function (a, b) {
        //     var lowerCaseA;
        //     var lowerCaseB;
        //     if (a.number && b.number) {
        //       lowerCaseA = a.number.toLocaleLowerCase();
        //       lowerCaseB = b.number.toLocaleLowerCase();
        //       return lowerCaseA.localeCompare(lowerCaseB);
        //     }
        //   });
        // console.log(uplodedFeatures.shapeFeatures.landbase);
        uplodedFeatures.shapeFeatures.landbase.forEach(function (landbase) {
          if (!landbase.spatialReference.wkid) {
            landbase.spatialReference = this.map.spatialReference;
          }
          var feature = new esri.geometry.Polygon(landbase);
          var color = [0, 255, 255];
          this.state.TotalParcelArea += landbase.area;
          _.filter(uplodedFeatures.annotations, function (d) {
            return d.layer == "landbase";
          }).forEach(function (annotation) {
            if (feature.contains && feature.contains(annotation.shape)) {
              landbase.text = annotation.text;
              var res = annotation.text.split("@");
              if (annotation.text.indexOf("@") < 0 && isNaN(annotation.text)) {} else {
                if (res.length != 3 && res.length == 1 && (res[0] < 12 || res[0] > 29)) {
                  cadErrors["parcels"] = "يجب ان تحتوى الأراضي على رقم الأرض - الاستخدام التفصيلي - رمز الاستخدام";
                  isValidCad = false;
                  return;
                }
                landbase.north_length = 0;
                landbase.south_length = 0;
                landbase.weast_length = 0;
                landbase.east_length = 0;
                if (res.length == 1) {
                  landbase.usingSymbol = res[0].replace(/ /g, "");
                  landbase.useDetails = res[0].replace(/ /g, "");
                } else {
                  landbase.number = res[0];
                  landbase.useDetails = res[1];
                  if (res.length > 2) {
                    landbase.usingSymbol = res[2].replace(/ /g, "");
                    if (Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["getUsingSymbol"])(res[2].replace(/ /g, ""))) landbase.usingSymbolName = Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["getUsingSymbol"])(res[2].replace(/ /g, "")).name;else if (Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["getUsingSymbol"])(res[2])) landbase.usingSymbolName = Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["getUsingSymbol"])(res[2]).name;else {
                      res.reverse();
                      landbase.number = res[0];
                      landbase.useDetails = res[1];
                      landbase.usingSymbol = res[2].replace(/ /g, "");
                      if (Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["getUsingSymbol"])(res[2].replace(/ /g, ""))) landbase.usingSymbolName = Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["getUsingSymbol"])(res[2].replace(/ /g, "")).name;else if (Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["getUsingSymbol"])(res[2])) landbase.usingSymbolName = Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["getUsingSymbol"])(res[2]).name;else {
                        cadErrors["usingSymbol"] = "رمز الاستخدام غير صحيح لأرض رقم " + landbase.usingSymbol;
                        isValidCad = false;
                        return;
                      }
                    }
                  }
                }
                servicesTypes.forEach(function (type) {
                  var subType = _.find(type.cad_sublayers, function (d) {
                    return d.symbol_id == landbase.useDetails;
                  });
                  if (subType) {
                    var f = legends.find(function (x) {
                      return x.id == type.id;
                    });
                    if (!f) legends.push(type);
                    landbase.subType = subType;
                    color = type.layer_color;
                    if (!color) color = [0, 255, 255];
                    landbase.typeName = type.layer_description;
                    landbase.typeId = type.symbol_id;
                    landbase.is_cut = type.is_cut;
                    landbase.is_notfees = type.is_notfees;
                  }
                });
                if (!landbase.subType) {
                  var type = _.find(servicesTypes, function (d) {
                    return d.symbol_id == landbase.useDetails;
                  });
                  if (type) {
                    var f = legends.find(function (x) {
                      return x.id == type.id;
                    });
                    if (!f) legends.push(type);
                    landbase.is_cut = type.is_cut;
                    landbase.is_notfees = type.is_notfees;
                    landbase.typeName = type.layer_description;
                    landbase.typeId = type.symbol_id;
                    color = type.layer_color;
                    if (!color) color = [0, 255, 255];
                  } else {
                    if (landbase.typeId != 23 && res.length != 1) {
                      cadErrors["useDetails"] = "الاستخدام التفصيلي غير صحيح لأرض رقم " + landbase.number;
                      isValidCad = false;
                      return;
                    }
                  }
                }
              }
            }
          }.bind(this));
        }.bind(this));
        this.state.streetsAnnotation = [];
        uplodedFeatures.shapeFeatures.landbase.forEach(function (landbase) {
          if (!landbase.spatialReference.wkid) {
            landbase.spatialReference = this.map.spatialReference;
          }
          var feature = new esri.geometry.Polygon(landbase);
          var color = [0, 255, 255];
          _.filter(uplodedFeatures.annotations, function (d) {
            return d.layer == "landbase";
          }).forEach(function (annotation) {
            if (feature.contains && feature.contains(annotation.shape)) {
              landbase.text = annotation.text;
              var res = annotation.text.split("@");
              if (annotation.text.indexOf("@") < 0 && isNaN(annotation.text)) {
                this.state.streetsAnnotation.push({
                  feature: annotation.shape,
                  text: annotation.text,
                  angle: annotation.angle
                });
                //break;
              } else {
                if (res.length != 3 && res.length == 1 && (res[0] < 12 || res[0] > 29)) {
                  cadErrors["parcels"] = "يجب ان تحتوى الأراضي على رقم الأرض - الاستخدام التفصيلي - رمز الاستخدام";
                  isValidCad = false;
                  return;
                }
                landbase.north_length = 0;
                landbase.south_length = 0;
                landbase.weast_length = 0;
                landbase.east_length = 0;
                if (res.length == 1) {
                  landbase.usingSymbol = res[0].replace(/ /g, "");
                  landbase.useDetails = res[0].replace(/ /g, "");
                } else {
                  landbase.number = res[0];
                  landbase.useDetails = res[1];
                  if (res.length > 2) {
                    landbase.usingSymbol = res[2].replace(/ /g, "");
                    if (Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["getUsingSymbol"])(res[2].replace(/ /g, ""))) landbase.usingSymbolName = Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["getUsingSymbol"])(res[2].replace(/ /g, "")).name;else if (Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["getUsingSymbol"])(res[2])) landbase.usingSymbolName = Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["getUsingSymbol"])(res[2]).name;else {
                      res.reverse();
                      landbase.number = res[0];
                      landbase.useDetails = res[1];
                      landbase.usingSymbol = res[2].replace(/ /g, "");
                      if (Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["getUsingSymbol"])(res[2].replace(/ /g, ""))) landbase.usingSymbolName = Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["getUsingSymbol"])(res[2].replace(/ /g, "")).name;else if (Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["getUsingSymbol"])(res[2])) landbase.usingSymbolName = Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["getUsingSymbol"])(res[2]).name;else {
                        cadErrors["usingSymbol"] = "رمز الاستخدام غير صحيح لأرض رقم " + landbase.usingSymbol;
                        isValidCad = false;
                        return;
                      }
                    }
                  }
                }
                servicesTypes.forEach(function (type) {
                  var subType = _.find(type.cad_sublayers, function (d) {
                    return d.symbol_id == landbase.useDetails;
                  });
                  if (subType) {
                    var f = legends.find(function (x) {
                      return x.id == type.id;
                    });
                    if (!f) legends.push(type);
                    landbase.subType = subType;
                    color = type.layer_color;
                    if (!color) color = [0, 255, 255];
                    landbase.typeName = type.layer_description;
                    landbase.typeId = type.symbol_id;
                    landbase.is_cut = type.is_cut;
                    landbase.is_notfees = type.is_notfees;
                  }
                });
                if (!landbase.subType) {
                  var type = _.find(servicesTypes, function (d) {
                    return d.symbol_id == landbase.useDetails;
                  });
                  if (type) {
                    var f = legends.find(function (x) {
                      return x.id == type.id;
                    });
                    if (!f) legends.push(type);
                    landbase.is_cut = type.is_cut;
                    landbase.is_notfees = type.is_notfees;
                    landbase.typeName = type.layer_description;
                    landbase.typeId = type.symbol_id;
                    color = type.layer_color;
                    if (!color) color = [0, 255, 255];
                  } else {
                    if (landbase.typeId != 23 && res.length != 1) {
                      cadErrors["useDetails"] = "الاستخدام التفصيلي غير صحيح لأرض رقم " + landbase.number;
                      isValidCad = false;
                      return;
                    }
                  }
                }
              }
            }

            //calculate street width
            if (landbase.typeName == "شوارع" || landbase.typeName == "مواقف" || landbase.typeName == "ممرات مشاة") {
              var streetLines = [];
              landbase.isHide = true;
              var min = 0;
              var max = 0;
              for (var j = 0, n = landbase.rings[0].length - 1; j < n; j++) {
                var _parseFloat;
                var point1 = new esri.geometry.Point(landbase.rings[0][j][0], landbase.rings[0][j][1]);
                var point2 = new esri.geometry.Point(landbase.rings[0][j + 1][0], landbase.rings[0][j + 1][1]);
                var length = esri.geometry.getLength(point1, point2);
                length = Number((_parseFloat = parseFloat(length)) === null || _parseFloat === void 0 ? void 0 : _parseFloat.toFixed(2));
                var path = {
                  paths: [[landbase.rings[0][j], landbase.rings[0][j + 1]]],
                  text: length,
                  spatialReference: landbase.spatialReference
                };
                streetLines.push(path);
              }
              this.state.maxLines = this.getMaxTwoLinesLength(streetLines);
              var polyline1 = new esri.geometry.Polyline(this.state.maxLines[0]);
              var polyline2 = new esri.geometry.Polyline(this.state.maxLines[1]);
              var ptLine1 = polyline1.getExtent().getCenter();
              var ptLine2 = polyline2.getExtent().getCenter();
              landbase.length = this.state.maxLines[0].text;
              landbase.width = +esri.geometry.getLength(ptLine1, ptLine2).toPrecision(2);
              if (landbase.typeName == "شوارع") landbase.number = " م" + landbase.width + " ضرع عراش";
            }
          }.bind(this));
          if (landbase.usingSymbol == "خ" && landbase.typeName == "حدائق") {
            landbase.number = landbase.number + "م ";
          } else if (landbase.usingSymbol == "خ") {
            landbase.number = landbase.number + "خ ";
          }
          landbase.north_points = [];
          landbase.south_points = [];
          landbase.weast_points = [];
          landbase.east_points = [];
          var min = 0;
          var max = 0;
          for (var j = 0, n = landbase.rings[0].length - 1; j < n; j++) {
            // var info = this.computeLineAngle(
            //   landbase.rings[0][j],
            //   landbase.rings[0][j + 1],
            //   feature.getExtent().getCenter(),
            //   feature
            // );

            var point1 = new esri.geometry.Point(landbase.rings[0][j][0], landbase.rings[0][j][1]);
            var point2 = new esri.geometry.Point(landbase.rings[0][j + 1][0], landbase.rings[0][j + 1][1]);
            if (point1.x > max) {
              max = point1.x;
              landbase.maxPoint = point1;
            }
            if (!min || point1.x < min) {
              min = point1.x;
              landbase.minPoint = point1;
            }
            if (point2.x > max) {
              max = point2.x;
              landbase.maxPoint = point2;
            }
            if (!min || point2.x < min) {
              min = point2.x;
              landbase.minPoint = point2;
            }
            let info = Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["computePointDirection"])(landbase, landbase.rings[0][j], landbase.rings[0][j + 1], landbase);
            if (info.direction == "north") {
              landbase.north_length = (landbase.north_length || 0) + info.length;
              landbase.north_points.push([landbase.rings[0][j], landbase.rings[0][j + 1]]);
            } else if (info.direction == "south") {
              landbase.south_length = (landbase.south_length || 0) + info.length;
              landbase.south_points.push([landbase.rings[0][j], landbase.rings[0][j + 1]]);
            } else if (info.direction == "east") {
              landbase.east_length = (landbase.east_length || 0) + info.length;
              landbase.east_points.push([landbase.rings[0][j], landbase.rings[0][j + 1]]);
            } else {
              landbase.weast_length = (landbase.weast_length || 0) + info.length;
              landbase.weast_points.push([landbase.rings[0][j], landbase.rings[0][j + 1]]);
            }
          }
          landbase.weast_center_point = null;
          if (landbase.weast_points.length >= 1) {
            var weast_polyline = {
              paths: landbase.weast_points,
              spatialReference: this.map.spatialReference
            };
            var weast_polyline = new esri.geometry.Polyline(weast_polyline);
            landbase.weast_center_point = weast_polyline.getExtent().getCenter();
          }
          landbase.north_center_point = null;
          if (landbase.north_points.length >= 1) {
            var north_polyline = {
              paths: landbase.north_points,
              spatialReference: this.map.spatialReference
            };
            var north_polyline = new esri.geometry.Polyline(north_polyline);
            landbase.north_center_point = north_polyline.getExtent().getCenter();
          }
          landbase.east_center_point = null;
          if (landbase.east_points.length >= 1) {
            var east_polyline = {
              paths: landbase.east_points,
              spatialReference: this.map.spatialReference
            };
            var east_polyline = new esri.geometry.Polyline(east_polyline);
            landbase.east_center_point = east_polyline.getExtent().getCenter();
          }
          landbase.south_center_point = null;
          if (landbase.south_points.length >= 1) {
            var south_polyline = {
              paths: landbase.south_points,
              spatialReference: this.map.spatialReference
            };
            var south_polyline = new esri.geometry.Polyline(south_polyline);
            landbase.south_center_point = south_polyline.getExtent().getCenter();
          }
          landbase.is_north_front = true;
          landbase.is_south_front = true;
          landbase.is_east_front = true;
          landbase.is_weast_front = true;
          uplodedFeatures.shapeFeatures.landbase.filter(function (land) {
            return land.typeName != "شوارع" && land.typeName != "مواقف" && land.typeName != "ممرات مشاة";
          }).forEach(function (temp_landbase) {
            if (!temp_landbase.spatialReference.wkid) {
              temp_landbase.spatialReference = this.map.spatialReference;
            }
            var feature = new esri.geometry.Polygon(temp_landbase);
            for (var j = 0, n = temp_landbase.rings[0].length - 1; j < n; j++) {
              if (!this.compareTwoFeatures(landbase, temp_landbase)) {
                var path = {
                  paths: [[temp_landbase.rings[0][j], temp_landbase.rings[0][j + 1]]],
                  spatialReference: this.map.spatialReference
                };
                var polyline = new esri.geometry.Polyline(path);
                var pt = polyline.getExtent().getCenter();
                if (landbase.north_center_point != null && landbase.north_center_point.x == pt.x && landbase.north_center_point.y == pt.y) {
                  landbase.is_north_front = false;
                }
                if (landbase.south_center_point != null && landbase.south_center_point.x == pt.x && landbase.south_center_point.y == pt.y) {
                  landbase.is_south_front = false;
                }
                if (landbase.east_center_point != null && landbase.east_center_point.x == pt.x && landbase.east_center_point.y == pt.y) {
                  landbase.is_east_front = false;
                }
                if (landbase.weast_center_point != null && landbase.weast_center_point.x == pt.x && landbase.weast_center_point.y == pt.y) {
                  landbase.is_weast_front = false;
                }
              }
            }
          }.bind(this));
          if (!landbase.frontLength) {
            var _landbase$frontLength;
            landbase.frontLength = 0;
            if (landbase.is_east_front) {
              landbase.frontLength = landbase.east_length;
            }
            if (landbase.is_north_front) {
              if (landbase.north_length > landbase.frontLength) landbase.frontLength = landbase.north_length;
            }
            if (landbase.is_south_front) {
              if (landbase.south_length > landbase.frontLength) landbase.frontLength = landbase.south_length;
            }
            if (landbase.is_weast_front) {
              if (landbase.weast_length > landbase.frontLength) landbase.frontLength = landbase.weast_length;
            }
            landbase.frontLength = (_landbase$frontLength = +(landbase === null || landbase === void 0 ? void 0 : landbase.frontLength)) === null || _landbase$frontLength === void 0 ? void 0 : _landbase$frontLength.toFixed(2);
          }
          let textcolor = [255, 255, 255];
          if (landbase.usingSymbol && landbase.usingSymbol.indexOf("س") > -1) {
            textcolor = [0, 0, 0];
          }
          if (landbase.typeName == "مواقف" || landbase.typeName == "ممرات مشاة") {
            textcolor = [0, 0, 0];
            color = [255, 255, 255];
          }
          if (landbase.subType && landbase.subType.sublayer_description) {
            var attr = {
              text: landbase.subType.sublayer_description,
              angle: -15
            };
            Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["addParcelNo"])(feature.getExtent().getCenter(), this.map, Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(landbase.subType.sublayer_description), "PacrelNoGraphicLayer", 12, textcolor, -15, {
              y: -10,
              x: 0
            }, attr, false, false);
          } else if (landbase.usingSymbol && landbase.usingSymbol.indexOf("س") < 0 && landbase.typeName && landbase.typeName.indexOf("شوارع") < 0) {
            if (landbase.typeName == "مواقف" || landbase.typeName == "ممرات مشاة") {
              moacount++;
              ang = 360 - Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["computeStreetAngle"])(this.state.maxLines[0].paths[0][0], this.state.maxLines[0].paths[0][1], feature.getExtent().getCenter());
              var attr = {
                text: landbase.typeName + " " + "م" + " " + (landbase.typeName != "ممرات مشاة" ? moacount : ""),
                angle: ang
              };
              Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["addParcelNo"])(feature.getExtent().getCenter(), this.map, Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(landbase.typeName + " " + "م" + " " + (landbase.typeName != "ممرات مشاة" ? moacount : "")), "PacrelNoGraphicLayer", 12, textcolor, ang, {
                y: 0,
                x: 0
              }, attr, false, false);
            } else if (landbase.typeName == "مناطق مفتوحة") {
              var attr = {
                text: landbase.typeName + " " + "م" + " " + moacount,
                angle: -15
              };
              Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["addParcelNo"])(feature.getExtent().getCenter(), this.map, Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(landbase.typeName + " " + "م" + " " + moacount), "PacrelNoGraphicLayer", 12, textcolor, -15, {
                y: -10,
                x: 0
              }, attr, false, false);
            } else {
              var attr = {
                text: landbase.typeName,
                angle: -15
              };
              Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["addParcelNo"])(feature.getExtent().getCenter(), this.map, Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(landbase.typeName), "PacrelNoGraphicLayer", 12, textcolor, -15, {
                y: -10,
                x: 0
              }, attr, false, false);
            }
          }
          if (landbase.number) {
            var ang = -15;
            if (landbase.typeName == "شوارع") {
              color = [255, 255, 255];
            } else {
              ang = -15;
              var attr = {
                text: Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(landbase.number),
                angle: -15
              };
              Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["addParcelNo"])(feature.getExtent().getCenter(), this.map, Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(landbase.number), "PacrelNoGraphicLayer", 12, textcolor, ang, {
                y: 0,
                x: 0
              }, attr, false, false);
            }
          }
          if (landbase.typeId && Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["getLayer"])("G" + landbase.typeId, this.map, 8)) {
            Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["addGraphicToLayer"])(feature, this.map, "Layer_G" + landbase.typeId, null, color, null, () => {
              // zoomToLayer(
              //   "Layer_G" + landbase.typeId,
              //   this.map,
              //   this.state["zoomRatio"]
              // );
              Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["resizeMap"])(this.map);
            }, null, null, false, null, null, false);
          } else {
            Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["addGraphicToLayer"])(feature, this.map, "detailedGraphicLayer", null, color, null, () => {
              // zoomToLayer(
              //   "detailedGraphicLayer",
              //   this.map,
              //   this.state["zoomRatio"]
              // );
              Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["resizeMap"])(this.map);
            }, null, null, false, null, null, false);
          }
        }.bind(this));
        for (var j = 0; j < this.state.streetsAnnotation.length; j++) {
          var extractNmber = this.state.streetsAnnotation[j].text.match(/[\d\.]+/);
          if (extractNmber && extractNmber.length > 0) {
            extractNmber = extractNmber[0];
            this.state.streetsAnnotation[j].text = this.state.streetsAnnotation[j].text.replace(extractNmber, extractNmber);
          } else {
            extractNmber = this.state.streetsAnnotation[j].text;
          }
          if (!this.state.streetsAnnotation[j].feature.spatialReference.wkid) {
            this.state.streetsAnnotation[j].feature.spatialReference.wkid = this.map.spatialReference.wkid;
          }
          var attr = {
            text: this.state.streetsAnnotation[j].text,
            angle: 360 - this.state.streetsAnnotation[j].angle
          };
          Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["addParcelNo"])(this.state.streetsAnnotation[j].feature, this.map, this.state.streetsAnnotation[j].text, "PacrelNoGraphicLayer", 12, [0, 0, 0], 360 - this.state.streetsAnnotation[j].angle, {
            y: 0,
            x: 0
          }, attr, true, false);
        }
        var maxCount = 0;
        var usingSymbolObj = _(uplodedFeatures.shapeFeatures.landbase).toArray().groupBy("usingSymbol").value();
        Object.keys(usingSymbolObj).filter(function (d) {
          return d && d != "undefined";
        }).forEach(function (ele, key) {
          if (ele.startsWith("س") || ele.startsWith("ص") || ele.startsWith("ت") || ele.startsWith("ز") || ele.startsWith("خ") || ele.startsWith("م-") || ele.startsWith("ت-ج")) {
            if (usingSymbolObj[ele].length > maxCount && Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(mainObject.submission_data.mostafed_data.use_sumbol).indexOf(Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(ele)) != -1) {
              maxCount = usingSymbolObj[ele].length;
              this.state["planUsingSymbol"] = "رمز استعمال المخطط " + "( " + ele + " )";
            }
          }
        }.bind(this));
        if (!isValidCad && !this.props.mainObject.submission_data.mostafed_data.e3adt_tanzem) {
          this.state.hideAll = true;
          Object.keys(cadErrors).forEach(f => {
            window.notifySystem("error", cadErrors[f], 10);
          });
          this.state.uplodedFeatures[this.state.selectedCADIndex] = null;
          this.props.change(`plansData.image_uploader${this.state.selectedCADIndex + 1}`, "");
          this.state.plans = [];
          for (var i = 0; i < this.state.uplodedFeatures.length; i++) {
            if (this.state.uplodedFeatures[i]) {
              this.state.selectedCADIndex = i;
              var currentPlan = i == 0 ? "perfectCad" : i == 1 ? "secondCad" : "thirdCad";
              this.state.selectedCAD = currentPlan;
              this.state.plans.push(currentPlan);
            } else {
              break;
            }
          }
          this.setBuildingCondition(this.state.uplodedFeatures[this.state.selectedCADIndex]).then(response => {
            this.init(this.state.selectedCADIndex);
          });
          return;
        } else {
          this.state.hideAll = false;
        }
        this.state.servicesTypes = legends;
        this.state["markall"] = {
          isVisibile: true
        };
        this.state.servicesTypes.unshift({
          cad_sublayers: null,
          id: "markall",
          is_cut: 1,
          layer_code: 210,
          layer_color: "",
          layer_description: "تحديد الكل",
          sort_id: 1000,
          symbol_id: "markall"
        });
        this.state.streets = ((_this$state$streets = this.state.streets) === null || _this$state$streets === void 0 ? void 0 : _this$state$streets.length) && ((_this$state = this.state) === null || _this$state === void 0 ? void 0 : _this$state.streets) || uplodedFeatures.shapeFeatures.landbase.filter(d => {
          return d.typeName == "شوارع";
        });

        //if (!this.isLoaded) {
        let selectedPlan = this.state.uplodedFeatures[this.state.selectedCADIndex];
        this.state.statisticsParcels = this.updateStatisticParcels(selectedPlan);
        var values = {
          isInvestalIncluded: this.state.isInvestalIncluded,
          statisticsParcels: this.state.statisticsParcels,
          enableDownlaodCad: uplodedFeatures.cad_path ? true : false,
          planDescription: this.state.planDescription,
          streets: this.state.streets,
          detailsParcelTypes: this.state.detailsParcelTypes,
          uplodedFeatures: this.state.uplodedFeatures,
          streetsAnnotation: this.state.streetsAnnotation,
          serviceSubType: this.state.serviceSubType,
          serviceType: this.state.serviceType,
          selectedCAD: this.state.selectedCAD,
          selectedCADIndex: this.state.selectedCADIndex,
          planUsingSymbol: this.state.planUsingSymbol,
          hide_details: false,
          servicesTypes: this.state.servicesTypes,
          servicesSubTypes: this.state.servicesSubTypes,
          TotalParcelArea: this.state.TotalParcelArea,
          current_step: this.state.current_step
        };
        var additionalValues = {
          totalParcelPage:
          //.filter((parcel) => parcel.is_cut != 2)
          this.state.uplodedFeatures[this.state.selectedCADIndex].shapeFeatures.landbase.length / this.pageSize,
          totalInvestalParcelPage: this.state.uplodedFeatures[this.state.selectedCADIndex].shapeFeatures.landbase.filter(parcel => parcel.is_cut == 2).length / this.pageSize,
          minParcelIndex: 0,
          maxParcelIndex: this.pageSize,
          minInvestalParcelIndex: 0,
          maxInvestalParcelIndex: this.pageSize,
          totalStreetPage: this.state.streets.length / this.pageSize,
          minStreetIndex: 0,
          maxStreetIndex: this.pageSize
        };
        this.props.input.onChange({
          ...values,
          ...additionalValues
        });
        this.setState({
          ...values,
          ...additionalValues
        });
        // } else {
        //   this.isLoaded = false;
        //   this.setState({});
        // }
      }
    });
    // updateStatisticParcels = (uplodedFeatures) => {
    //   //statistics استعمالات
    //   let statisticsParcels = [];
    //   var pacrelTypes = _.chain(uplodedFeatures?.shapeFeatures?.landbase)
    //     ?.sortBy(
    //       function (d) {
    //         var found = _.find(this.state.servicesTypes, function (v) {
    //           return v.symbol_id == d.typeId;
    //         });
    //         return found && found.sort_id ? found.sort_id : 100;
    //       }.bind(this)
    //     )
    //     ?.groupBy("typeName");
    //   this.state.detailsParcelTypes = pacrelTypes
    //     ?.map(function (list, key) {
    //       return {
    //         key: key,
    //         usingTypeArea: _.reduce(
    //           list,
    //           function (memo, d) {
    //             return memo + +d.area;
    //           },
    //           0
    //         ),
    //         value: _.chain(list)
    //           .groupBy(function (d) {
    //             return d.subType && d.subType.sublayer_code;
    //           })
    //           .map(function (list, key) {
    //             return {
    //               key: key,
    //               value: list,
    //               total_area: _.reduce(
    //                 list,
    //                 function (memo, d) {
    //                   return memo + +d.area;
    //                 },
    //                 0
    //               ),
    //             };
    //           })
    //           .value(),
    //       };
    //     })
    //     ?.value();
    //   pacrelTypes = pacrelTypes?.value();
    //   var msa7y_area = _.chain(
    //     this.props.mainObject?.data_msa7y?.msa7yData?.cadDetails
    //       ?.suggestionsParcels
    //   )
    //     ?.reduce(function (a, b) {
    //       return a + +b.area;
    //     }, 0)
    //     ?.value();
    //   Object.keys(pacrelTypes)?.forEach(
    //     function (parcelTypeKey) {
    //       var area = pacrelTypes[parcelTypeKey]
    //         .map(function (p) {
    //           return p.area;
    //         })
    //         .reduce(function (a, b) {
    //           return a + b;
    //         });
    //       statisticsParcels.push({
    //         name: parcelTypeKey,
    //         area: area,
    //         is_cut: pacrelTypes[parcelTypeKey][0].is_cut,
    //         areaPercentage:
    //           (area /
    //             ((this.props.mainObject.submission_data.mostafed_data
    //               .e3adt_tanzem &&
    //               msa7y_area) ||
    //               this.state.TotalParcelArea)) *
    //           100,
    //       });
    //     }.bind(this)
    //   );
    //   //
    //   calculateSchemanticProportions(
    //     uplodedFeatures,
    //     statisticsParcels,
    //     this.state.TotalParcelArea,
    //     this.props.mainObject
    //   );
    //   // this.state.statisticsParcels.push({
    //   //   name: "خدمات",
    //   //   area: this.state.statisticsParcels
    //   //     .filter(function (st) {
    //   //       return st.name.indexOf("خدمات") > -1;
    //   //     })
    //   //     .reduce(function (a, b) {
    //   //       return a + +b.area;
    //   //     }, 0),
    //   //   areaPercentage: this.state.statisticsParcels
    //   //     .filter(function (st) {
    //   //       return st.name.indexOf("خدمات") > -1;
    //   //     })
    //   //     .reduce(function (a, b) {
    //   //       return a + +b.areaPercentage;
    //   //     }, 0),
    //   // });
    //   return statisticsParcels;
    // };
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(this, "updateStatisticParcels", uplodedFeatures => {
      var _$chain, _$chain$sortBy, _uplodedFeatures$shap, _pacrelTypes, _pacrelTypes$map, _pacrelTypes2, _$chain2, _$chain2$reduce, _this$props$mainObjec6, _this$props$mainObjec7, _this$props$mainObjec8, _this$props$mainObjec9, _Object$keys;
      //statistics استعمالات
      let statisticsParcels = [];
      var pacrelTypes = (_$chain = _.chain(uplodedFeatures === null || uplodedFeatures === void 0 ? void 0 : (_uplodedFeatures$shap = uplodedFeatures.shapeFeatures) === null || _uplodedFeatures$shap === void 0 ? void 0 : _uplodedFeatures$shap.landbase)) === null || _$chain === void 0 ? void 0 : (_$chain$sortBy = _$chain.sortBy(function (d) {
        var found = _.find(this.state.servicesTypes, function (v) {
          return v.symbol_id == d.typeId;
        });
        return found && found.sort_id ? found.sort_id : 100;
      }.bind(this))) === null || _$chain$sortBy === void 0 ? void 0 : _$chain$sortBy.groupBy("typeName");
      this.state.detailsParcelTypes = (_pacrelTypes = pacrelTypes) === null || _pacrelTypes === void 0 ? void 0 : (_pacrelTypes$map = _pacrelTypes.map(function (list, key) {
        return {
          key: key,
          usingTypeArea: _.reduce(list, function (memo, d) {
            return memo + +d.area;
          }, 0),
          value: _.chain(list).groupBy(function (d) {
            return d.subType && d.subType.sublayer_code;
          }).map(function (list, key) {
            return {
              key: key,
              value: list,
              total_area: _.reduce(list, function (memo, d) {
                return memo + +d.area;
              }, 0)
            };
          }).value()
        };
      })) === null || _pacrelTypes$map === void 0 ? void 0 : _pacrelTypes$map.value();
      pacrelTypes = (_pacrelTypes2 = pacrelTypes) === null || _pacrelTypes2 === void 0 ? void 0 : _pacrelTypes2.value();
      var msa7y_area = (_$chain2 = _.chain((_this$props$mainObjec6 = this.props.mainObject) === null || _this$props$mainObjec6 === void 0 ? void 0 : (_this$props$mainObjec7 = _this$props$mainObjec6.data_msa7y) === null || _this$props$mainObjec7 === void 0 ? void 0 : (_this$props$mainObjec8 = _this$props$mainObjec7.msa7yData) === null || _this$props$mainObjec8 === void 0 ? void 0 : (_this$props$mainObjec9 = _this$props$mainObjec8.cadDetails) === null || _this$props$mainObjec9 === void 0 ? void 0 : _this$props$mainObjec9.suggestionsParcels)) === null || _$chain2 === void 0 ? void 0 : (_$chain2$reduce = _$chain2.reduce(function (a, b) {
        return a + +b.area;
      }, 0)) === null || _$chain2$reduce === void 0 ? void 0 : _$chain2$reduce.value();
      (_Object$keys = Object.keys(pacrelTypes)) === null || _Object$keys === void 0 ? void 0 : _Object$keys.forEach(function (parcelTypeKey) {
        var area = pacrelTypes[parcelTypeKey].map(function (p) {
          return p.area;
        }).reduce(function (a, b) {
          return a + b;
        });
        statisticsParcels.push({
          name: parcelTypeKey,
          area: area,
          is_cut: pacrelTypes[parcelTypeKey][0].is_cut,
          is_notfees: pacrelTypes[parcelTypeKey][0].is_notfees,
          areaPercentage: area / (this.props.mainObject.submission_data.mostafed_data.e3adt_tanzem && msa7y_area || this.state.TotalParcelArea) * 100
        });
      }.bind(this));
      //

      Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["calculateSchemanticProportions"])(uplodedFeatures, statisticsParcels, this.state.TotalParcelArea, this.props.mainObject);
      // this.state.statisticsParcels.push({
      //   name: "خدمات",
      //   area: this.state.statisticsParcels
      //     .filter(function (st) {
      //       return st.name.indexOf("خدمات") > -1;
      //     })
      //     .reduce(function (a, b) {
      //       return a + +b.area;
      //     }, 0),
      //   areaPercentage: this.state.statisticsParcels
      //     .filter(function (st) {
      //       return st.name.indexOf("خدمات") > -1;
      //     })
      //     .reduce(function (a, b) {
      //       return a + +b.areaPercentage;
      //     }, 0),
      // });

      return statisticsParcels;
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(this, "handleParcelChange", page => {
      this.setState({
        currentParcelPage: page,
        minParcelIndex: (page - 1) * this.pageSize,
        maxParcelIndex: page * this.pageSize
      });
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(this, "handleInvestalParcelChange", page => {
      this.setState({
        currentInvestalParcelPage: page,
        minInvestalParcelIndex: (page - 1) * this.pageSize,
        maxInvestalParcelIndex: page * this.pageSize
      });
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(this, "handleStreetChange", page => {
      this.setState({
        currentStreetPage: page,
        minStreetIndex: (page - 1) * this.pageSize,
        maxStreetIndex: page * this.pageSize
      });
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(this, "investalChange", (statisticsParcels, parcel, val) => {
      const {
        input: {
          value
        }
      } = this.props;
      parcel.isInvestalIncluded = val;
      let index = statisticsParcels.findIndex(p => p.name == parcel.name);
      if (index != -1) {
        statisticsParcels[index] = parcel;
      }
      let values = {
        statisticsParcels: statisticsParcels
      };
      this.setState(values);
      this.props.input.onChange({
        ...value,
        ...values
      });
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(this, "changeVisibilty", (layerName, isVisibile) => {
      var checkboxs = {};
      if (layerName == "markall") {
        this.state["markall"] = this.state["markall"] || {};
        this.state["markall"].isVisibile = !this.state["markall"].isVisibile;
        this.state.servicesTypes.forEach(function (service) {
          if (this.map.getLayer("Layer_G" + service.symbol_id)) this.map.getLayer("Layer_G" + service.symbol_id).setOpacity(this.state["markall"].isVisibile ? 1 : 0);
          checkboxs[service.symbol_id + "_visbility"] = this.state["markall"].isVisibile ? 1 : 0;
        }.bind(this));
        if (this.map.getLayer("PacrelNoGraphicLayer")) this.map.getLayer("PacrelNoGraphicLayer").setOpacity(this.state["markall"].isVisibile ? 1 : 0);
      } else {
        if (this.map.getLayer("Layer_G" + layerName)) this.map.getLayer("Layer_G" + layerName).setOpacity(isVisibile ? 1 : 0);
        checkboxs[layerName + "_visbility"] = isVisibile ? 1 : 0;
      }
      this.setState({
        ...checkboxs
      });
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(this, "zoom", function (feature) {
      feature.type = "polygon";
      Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["highlightFeature"])({
        geometry: feature
      }, this.map, {
        layerName: "highlightGraphicLayer",
        isZoom: true,
        zoomFactor: 20,
        isHiglightSymbol: true,
        highlighColor: [0, 255, 255, 0.5]
      });
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(this, "highlight", function (feature) {
      feature.type = "polygon";
      Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["highlightFeature"])({
        geometry: feature
      }, this.map, {
        layerName: "highlightBoundriesGraphicLayer",
        isZoom: false,
        highlighColor: [0, 255, 255]
      });
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(this, "clearHighlight", feature => {
      Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["clearGraphicFromLayer"])(this.map, "highlightBoundriesGraphicLayer");
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(this, "selectPlan", evt => {
      const {
        input: {
          value
        }
      } = this.props;
      this.state.selectedCAD = evt.target.value;
      this.state.selectedCADIndex = evt.target.value.indexOf("first") != -1 ? 0 : evt.target.value.indexOf("second") != -1 ? 1 : 2;
      this.setState({
        hide_details: true
      });
      this.init(this.state.selectedCADIndex);
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(this, "changeBufferDistance", evt => {
      this.setState({
        bufferDistance: evt.target.value
      });
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(this, "changeNote", (parcel, evt) => {
      const {
        input: {
          value
        }
      } = this.props;
      parcel.note = evt.target.value;
      this.setState({
        uplodedFeatures: uplodedFeatures
      });
      this.props.input.onChange({
        ...value,
        uplodedFeatures: uplodedFeatures
      });
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(this, "changeFrontLength", (parcel, evt) => {
      const {
        input: {
          value
        }
      } = this.props;
      parcel.frontLength = evt.target.value;
      this.setState({
        uplodedFeatures: this.state.uplodedFeatures
      });
      this.props.input.onChange({
        ...value,
        uplodedFeatures: this.state.uplodedFeatures
      });
      // onChange
    });
    _babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_6___default()(this, "openPopup", (key, evt) => {
      let {
        selectedCADIndex,
        uplodedFeatures
      } = this.state;
      const {
        input: {
          value
        }
      } = this.props;
      let selectedPlan = uplodedFeatures && uplodedFeatures[selectedCADIndex];
      var fields = !selectedPlan.shapeFeatures.landbase[key].survayParcelCutter && this.fields || this.editFields;
      let scope = this;
      this.props.setMain("Popup", {
        popup: {
          type: "create",
          childProps: {
            fields,
            initialValues: {
              ...selectedPlan.shapeFeatures.landbase[key]
            },
            ok(values) {
              values.cuttes_area = 0;
              if (values.survayParcelCutter.length) {
                if (values.survayParcelCutter[0].NORTH_EAST_DIRECTION) {
                  values.cuttes_area += +values.survayParcelCutter[0].NORTH_EAST_DIRECTION;
                }
                if (values.survayParcelCutter[0].NORTH_WEST_DIRECTION) {
                  values.cuttes_area += +values.survayParcelCutter[0].NORTH_WEST_DIRECTION;
                }
                if (values.survayParcelCutter[0].SOUTH_EAST_DIRECTION) {
                  values.cuttes_area += +values.survayParcelCutter[0].SOUTH_EAST_DIRECTION;
                }
                if (values.survayParcelCutter[0].SOUTH_WEST_DIRECTION) {
                  values.cuttes_area += +values.survayParcelCutter[0].SOUTH_WEST_DIRECTION;
                }
              }
              selectedPlan.shapeFeatures.landbase[key] = {
                ...selectedPlan.shapeFeatures.landbase[key],
                ...values
              };
              scope.setState({
                uplodedFeatures: uplodedFeatures
              });
              scope.props.input.onChange({
                ...value,
                uplodedFeatures: uplodedFeatures
              });
              return Promise.resolve(true);
            }
          }
        }
      });
    });
    this.fields = {
      survayParcelCutter: {
        field: "list",
        hideLabel: true,
        init_data: (values, props) => {
          if (!props.input.value) {
            props.input.onChange([{
              direction: "الشطفة",
              NORTH_EAST_DIRECTION: "",
              NORTH_WEST_DIRECTION: "",
              SOUTH_EAST_DIRECTION: "",
              SOUTH_WEST_DIRECTION: ""
            }]);
          }
        },
        fields: {
          direction: {
            head: "الإتجاه"
          },
          NORTH_EAST_DIRECTION: {
            head: "شمال / شرق",
            type: "input",
            placeholder: "شمال / شرق",
            field: "text",
            hideLabel: true
          },
          NORTH_WEST_DIRECTION: {
            head: "شمال / غرب",
            type: "input",
            placeholder: "شمال / غرب",
            field: "text",
            hideLabel: true
          },
          SOUTH_EAST_DIRECTION: {
            head: "جنوب / شرق",
            type: "input",
            placeholder: "جنوب / شرق",
            field: "text",
            hideLabel: true
          },
          SOUTH_WEST_DIRECTION: {
            head: "جنوب / غرب",
            type: "input",
            placeholder: "جنوب / غرب",
            field: "text",
            hideLabel: true
          }
        }
      }
    };
    this.editFields = {
      survayParcelCutter: {
        field: "list",
        hideLabel: true,
        fields: {
          direction: {
            head: "الإتجاه"
          },
          NORTH_EAST_DIRECTION: {
            head: "شمال / شرق"
          },
          NORTH_WEST_DIRECTION: {
            head: "شمال / غرب"
          },
          SOUTH_EAST_DIRECTION: {
            head: "جنوب / شرق"
          },
          SOUTH_WEST_DIRECTION: {
            head: "جنوب / غرب"
          }
        }
      }
    };
    this.autoCadColor = [[255, 0, 0], [255, 255, 0], [0, 255, 0], [0, 255, 255], [0, 0, 255], [255, 0, 255], [255, 255, 255], [128, 128, 128], [192, 192, 192], [255, 0, 0], [255, 127, 127], [204, 0, 0], [204, 102, 102], [153, 0, 0], [153, 76, 76], [127, 0, 0], [127, 63, 63], [76, 0, 0], [76, 38, 38], [255, 63, 0], [255, 159, 127], [204, 51, 0], [204, 127, 102], [153, 38, 0], [153, 95, 76], [127, 31, 0], [127, 79, 63], [76, 19, 0], [76, 47, 38], [255, 127, 0], [255, 191, 127], [204, 102, 0], [204, 153, 102], [153, 76, 0], [153, 114, 76], [127, 63, 0], [127, 95, 63], [76, 38, 0], [76, 57, 38], [255, 191, 0], [255, 223, 127], [204, 153, 0], [204, 178, 102], [153, 114, 0], [153, 133, 76], [127, 95, 0], [127, 111, 63], [76, 57, 0], [76, 66, 38], [255, 255, 0], [255, 255, 127], [204, 204, 0], [204, 204, 102], [153, 153, 0], [153, 153, 76], [127, 127, 0], [127, 127, 63], [76, 76, 0], [76, 76, 38], [191, 255, 0], [223, 255, 127], [153, 204, 0], [178, 204, 102], [114, 153, 0], [133, 153, 76], [95, 127, 0], [111, 127, 63], [57, 76, 0], [66, 76, 38], [127, 255, 0], [191, 255, 127], [102, 204, 0], [153, 204, 102], [76, 153, 0], [114, 153, 76], [63, 127, 0], [95, 127, 63], [38, 76, 0], [57, 76, 38], [63, 255, 0], [159, 255, 127], [51, 204, 0], [127, 204, 102], [38, 153, 0], [95, 153, 76], [31, 127, 0], [79, 127, 63], [19, 76, 0], [47, 76, 38], [0, 255, 0], [127, 255, 127], [0, 204, 0], [102, 204, 102], [0, 153, 0], [76, 153, 76], [0, 127, 0], [63, 127, 63], [0, 76, 0], [38, 76, 38], [0, 255, 63], [127, 255, 159], [0, 204, 51], [102, 204, 127], [0, 153, 38], [76, 153, 95], [0, 127, 31], [63, 127, 79], [0, 76, 19], [38, 76, 47], [0, 255, 127], [127, 255, 191], [0, 204, 102], [102, 204, 153], [0, 153, 76], [76, 153, 114], [0, 127, 63], [63, 127, 95], [0, 76, 38], [38, 76, 57], [0, 255, 191], [127, 255, 223], [0, 204, 153], [102, 204, 178], [0, 153, 114], [76, 153, 133], [0, 127, 95], [63, 127, 111], [0, 76, 57], [38, 76, 66], [0, 255, 255], [127, 255, 255], [0, 204, 204], [102, 204, 204], [0, 153, 153], [76, 153, 153], [0, 127, 127], [63, 127, 127], [0, 76, 76], [38, 76, 76], [0, 191, 255], [127, 223, 255], [0, 153, 204], [102, 178, 204], [0, 114, 153], [76, 133, 153], [0, 95, 127], [63, 111, 127], [0, 57, 76], [38, 66, 76], [0, 127, 255], [127, 191, 255], [0, 102, 204], [102, 153, 204], [0, 76, 153], [76, 114, 153], [0, 63, 127], [63, 95, 127], [0, 38, 76], [38, 57, 76], [0, 63, 255], [127, 159, 255], [0, 51, 204], [102, 127, 204], [0, 38, 153], [76, 95, 153], [0, 31, 127], [63, 79, 127], [0, 19, 76], [38, 47, 76], [0, 0, 255], [127, 127, 255], [0, 0, 204], [102, 102, 204], [0, 0, 153], [76, 76, 153], [0, 0, 127], [63, 63, 127], [0, 0, 76], [38, 38, 76], [63, 0, 255], [159, 127, 255], [51, 0, 204], [127, 102, 204], [38, 0, 153], [95, 76, 153], [31, 0, 127], [79, 63, 127], [19, 0, 76], [47, 38, 76], [127, 0, 255], [191, 127, 255], [102, 0, 204], [153, 102, 204], [76, 0, 153], [114, 76, 153], [63, 0, 127], [95, 63, 127], [38, 0, 76], [57, 38, 76], [191, 0, 255], [223, 127, 255], [153, 0, 204], [178, 102, 204], [114, 0, 153], [133, 76, 153], [95, 0, 127], [111, 63, 127], [57, 0, 76], [66, 38, 76], [255, 0, 255], [255, 127, 255], [204, 0, 204], [204, 102, 204], [153, 0, 153], [153, 76, 153], [127, 0, 127], [127, 63, 127], [76, 0, 76], [76, 38, 76], [255, 0, 191], [255, 127, 223], [204, 0, 153], [204, 102, 178], [153, 0, 114], [153, 76, 133], [127, 0, 95], [127, 63, 111], [76, 0, 57], [76, 38, 66], [255, 0, 127], [255, 127, 191], [204, 0, 102], [204, 102, 153], [153, 0, 76], [153, 76, 114], [127, 0, 63], [127, 63, 95], [76, 0, 38], [76, 38, 57], [255, 0, 63], [255, 127, 159], [204, 0, 51], [204, 102, 127], [153, 0, 38], [153, 76, 95], [127, 0, 31], [127, 63, 79], [76, 0, 19], [76, 38, 47], [51, 51, 51], [91, 91, 91], [132, 132, 132], [173, 173, 173], [214, 214, 214], [255, 255, 255]];
    this.pageSize = props.pageSize || 15;
    let cadDetails = (_props$mainObject = props.mainObject) === null || _props$mainObject === void 0 ? void 0 : (_props$mainObject$dat = _props$mainObject.data_msa7y) === null || _props$mainObject$dat === void 0 ? void 0 : (_props$mainObject$dat2 = _props$mainObject$dat.msa7yData) === null || _props$mainObject$dat2 === void 0 ? void 0 : _props$mainObject$dat2.cadDetails;
    const {
      mainObject: {
        currentStepId
      },
      currentModule: {
        record: {
          CurrentStep: _CurrentStep
        }
      }
    } = props;
    var planDetailsInfo = (cadDetails === null || cadDetails === void 0 ? void 0 : cadDetails.planDescription) || "";
    if (props.mainObject && props.mainObject[`${props.currentStep}`] && props.mainObject[`${props.currentStep}`][`${props.currentStep}Data`] && props.mainObject[`${props.currentStep}`][`${props.currentStep}Data`]["planDetails"]) {
      var _planDetails$uplodedF, _planDetails$uplodedF2, _planDetails$uplodedF3, _planDetails$uplodedF4, _planDetails$uplodedF5, _planDetails$uplodedF6, _planDetails$uplodedF7, _planDetails$uplodedF8, _planDetails$uplodedF9, _planDetails$uplodedF10, _planDetails$uplodedF11, _planDetails$uplodedF12;
      const {
        mainObject: {
          [`${props.currentStep}`]: {
            [`${props.currentStep}Data`]: {
              planDetails
            }
          }
        }
      } = props;
      if (planDetails.selectedCAD == "firstCAD") planDetails.selectedCAD = "perfectCad";else if (planDetails.selectedCAD == "secondCAD") planDetails.selectedCAD = "secondCad";else if (planDetails.selectedCAD == "thirdCAD") planDetails.selectedCAD = "thirdCad";
      planDetails.selectedCADIndex = planDetails.selectedCAD == "perfectCad" ? 0 : planDetails.selectedCAD == "secondCad" ? 1 : 2;
      this.state = {
        isInvestalIncluded: planDetails.isInvestalIncluded || false,
        zoomRatio: 50,
        plans: [],
        polygons: [],
        selectedCAD: planDetails.selectedCAD || "",
        selectedCADIndex: planDetails.selectedCADIndex != -1 ? planDetails.selectedCADIndex : -1,
        planDescription: planDetailsInfo,
        planUsingSymbol: planDetails.planUsingSymbol || "",
        hide_details: planDetails.hide_details != undefined && planDetails.hide_details != true ? false : true,
        streets: planDetails.streets || [],
        currentParcelPage: 1,
        totalParcelPage: planDetails.uplodedFeatures &&
        //.filter((parcel) => parcel.is_cut != 2)
        (planDetails === null || planDetails === void 0 ? void 0 : (_planDetails$uplodedF = planDetails.uplodedFeatures) === null || _planDetails$uplodedF === void 0 ? void 0 : (_planDetails$uplodedF2 = _planDetails$uplodedF[(planDetails === null || planDetails === void 0 ? void 0 : planDetails.selectedCADIndex) || 0]) === null || _planDetails$uplodedF2 === void 0 ? void 0 : (_planDetails$uplodedF3 = _planDetails$uplodedF2.shapeFeatures) === null || _planDetails$uplodedF3 === void 0 ? void 0 : (_planDetails$uplodedF4 = _planDetails$uplodedF3.landbase) === null || _planDetails$uplodedF4 === void 0 ? void 0 : _planDetails$uplodedF4.filter(parcel => parcel.is_cut != 2).length) / this.pageSize || 0,
        minParcelIndex: 0,
        maxParcelIndex: 1 * this.pageSize,
        currentInvestalParcelPage: 1,
        totalInvestalParcelPage: planDetails.uplodedFeatures && (planDetails === null || planDetails === void 0 ? void 0 : (_planDetails$uplodedF5 = planDetails.uplodedFeatures) === null || _planDetails$uplodedF5 === void 0 ? void 0 : (_planDetails$uplodedF6 = _planDetails$uplodedF5[(planDetails === null || planDetails === void 0 ? void 0 : planDetails.selectedCADIndex) || 0]) === null || _planDetails$uplodedF6 === void 0 ? void 0 : (_planDetails$uplodedF7 = _planDetails$uplodedF6.shapeFeatures) === null || _planDetails$uplodedF7 === void 0 ? void 0 : (_planDetails$uplodedF8 = _planDetails$uplodedF7.landbase) === null || _planDetails$uplodedF8 === void 0 ? void 0 : _planDetails$uplodedF8.filter(parcel => parcel.is_cut == 2).length) / this.pageSize || 0,
        minInvestalParcelIndex: 0,
        maxInvestalParcelIndex: 1 * this.pageSize,
        currentStreetPage: 1,
        totalStreetPage: planDetails.streets && planDetails.streets.length / this.pageSize || 0,
        minStreetIndex: 0,
        maxStreetIndex: 1 * this.pageSize,
        current_step: _CurrentStep && _CurrentStep.id || currentStepId,
        removeNoSubType: undefined,
        serviceType: planDetails.serviceType || {},
        servicesTypes: planDetails.servicesTypes || [],
        serviceSubType: planDetails.serviceSubType || {},
        servicesSubTypes: planDetails.servicesSubTypes || [],
        bufferDistance: 5,
        uplodedFeatures: planDetails.uplodedFeatures || [],
        statisticsParcels: planDetails.statisticsParcels || [],
        detailsParcelTypes: planDetails.detailsParcelTypes || [],
        TotalParcelArea: planDetails.TotalParcelArea || planDetails.uplodedFeatures && (planDetails === null || planDetails === void 0 ? void 0 : (_planDetails$uplodedF9 = planDetails.uplodedFeatures) === null || _planDetails$uplodedF9 === void 0 ? void 0 : (_planDetails$uplodedF10 = _planDetails$uplodedF9[(planDetails === null || planDetails === void 0 ? void 0 : planDetails.selectedCADIndex) || 0]) === null || _planDetails$uplodedF10 === void 0 ? void 0 : (_planDetails$uplodedF11 = _planDetails$uplodedF10.shapeFeatures) === null || _planDetails$uplodedF11 === void 0 ? void 0 : (_planDetails$uplodedF12 = _planDetails$uplodedF11.landbase) === null || _planDetails$uplodedF12 === void 0 ? void 0 : _planDetails$uplodedF12.reduce((a, b) => a + b.area, 0)) || 0,
        servicesLayer: {},
        //cadPath: '',
        streetsAnnotation: planDetails.streetsAnnotation || [],
        enableDownlaodCad: props.mainObject && props.mainObject.enableDownlaodCad || false
      };
    } else {
      this.state = {
        isInvestalIncluded: false,
        zoomRatio: 50,
        plans: [],
        polygons: [],
        //hide_details: false,
        selectedCAD: "",
        selectedCADIndex: -1,
        planDescription: planDetailsInfo,
        planUsingSymbol: "",
        hide_details: true,
        streets: [],
        currentParcelPage: 1,
        totalParcelPage: 0,
        minParcelIndex: 0,
        maxParcelIndex: 1 * this.pageSize,
        currentInvestalParcelPage: 1,
        totalInvestalParcelPage: 0,
        minInvestalParcelIndex: 0,
        maxInvestalParcelIndex: 1 * this.pageSize,
        currentStreetPage: 1,
        totalStreetPage: 0,
        minStreetIndex: 0,
        maxStreetIndex: 1 * this.pageSize,
        current_step: _CurrentStep && _CurrentStep.id || currentStepId,
        removeNoSubType: undefined,
        serviceType: {},
        servicesTypes: [],
        serviceSubType: {},
        servicesSubTypes: [],
        bufferDistance: 5,
        uplodedFeatures: [],
        statisticsParcels: [],
        detailsParcelTypes: [],
        TotalParcelArea: 0,
        servicesLayer: {},
        //cadPath: '',
        streetsAnnotation: [],
        enableDownlaodCad: false
      };
    }
    this.isLoaded = true;
    Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["getInfo"])(_mapviewer_config_map__WEBPACK_IMPORTED_MODULE_23__["mapUrl"]).then(response => {
      let StreetNamingLayerId = response["Street_Naming"];
      Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["getFieldDomain"])("", StreetNamingLayerId).then(domains => {
        this.domains = domains;
      });
    });
  }
  componentDidUpdate() {
    var _this$props$values, _this$props$values$ma, _this$props$values$ma2, _this$props$values2, _this$props$values2$m, _this$props$values2$m2;
    const {
      input,
      mainObject
    } = this.props;
    if (input.value && input.value != "" && input.value.justInvoked) {
      this.state.plans = [];
      input.value.justInvoked = false;
      this.isLoaded = false;
      this.map = Object(_main_helpers_functions_filters_state__WEBPACK_IMPORTED_MODULE_17__["getMap"])();
      if (!this.state.uplodedFeatures || Array.isArray(this.state.uplodedFeatures) && this.state.uplodedFeatures.length == 0) {
        this.state.uplodedFeatures = [];
        this.state.uplodedFeatures.push(!lodash_isEmpty__WEBPACK_IMPORTED_MODULE_13___default()(input.value.perfectCad) && input.value.perfectCad || null);
        this.state.uplodedFeatures.push(!lodash_isEmpty__WEBPACK_IMPORTED_MODULE_13___default()(input.value.secondCad) && input.value.secondCad || null);
        this.state.uplodedFeatures.push(!lodash_isEmpty__WEBPACK_IMPORTED_MODULE_13___default()(input.value.thirdCad) && input.value.thirdCad || null);
      } else {
        this.state.uplodedFeatures[0] = !lodash_isEmpty__WEBPACK_IMPORTED_MODULE_13___default()(input.value.perfectCad) && input.value.perfectCad || null;
        this.state.uplodedFeatures[1] = !lodash_isEmpty__WEBPACK_IMPORTED_MODULE_13___default()(input.value.secondCad) && input.value.secondCad || null;
        this.state.uplodedFeatures[2] = !lodash_isEmpty__WEBPACK_IMPORTED_MODULE_13___default()(input.value.thirdCad) && input.value.thirdCad || null;
      }
      this.state.hide_details = input.value.hide_details || false;
      for (var i = 0; i < this.state.uplodedFeatures.length; i++) {
        if (this.state.uplodedFeatures[i]) {
          this.state.selectedCADIndex = i;
          var currentPlan = i == 0 ? "perfectCad" : i == 1 ? "secondCad" : "thirdCad";
          this.state.selectedCAD = currentPlan;
          this.state.plans.push(currentPlan);
        } else {
          break;
        }
      }

      //if (!this.state.serviceTypes) {
      axios__WEBPACK_IMPORTED_MODULE_32___default.a.get(`${host}/CadLayers/GetAll?pageSize=1000`).then(({
        data
      }) => {
        this.state.servicesTypes = data.results;
        this.state.servicesTypes.forEach(function (type) {
          type.layer_color = eval(type.layer_color);
        });
        this.setBuildingCondition(this.state.uplodedFeatures[this.state.selectedCADIndex]).then(response => {
          this.init(this.state.selectedCADIndex);
        });
      });
      //}
      // if (!this.state.serviceTypes) {
      //     axios.get(`${host}/CadLayers/GetAll?pageSize=40`).then(({ data }) => {
      //         this.state.servicesTypes = data.results;
      //         this.state.servicesTypes.forEach(function (type) {
      //             type.layer_color = eval(type.layer_color);
      //         });
      //     });
      // }
      //this.moveBoundries();

      //this.setState({ uplodedFeatures: this.state.uplodedFeatures, selectedCADIndex: this.state.selectedCADIndex, selectedCAD: this.state.selectedCAD });
    } else if (this.isLoaded && window.mapInfo && !((_this$props$values = this.props.values) !== null && _this$props$values !== void 0 && (_this$props$values$ma = _this$props$values.mapviewer) !== null && _this$props$values$ma !== void 0 && (_this$props$values$ma2 = _this$props$values$ma.mapGraphics) !== null && _this$props$values$ma2 !== void 0 && _this$props$values$ma2.length)) {
      this.state.plans = [];
      this.map = Object(_main_helpers_functions_filters_state__WEBPACK_IMPORTED_MODULE_17__["getMap"])();
      if (Object(_main_helpers_functions_filters_state__WEBPACK_IMPORTED_MODULE_17__["getIsMapLoaded"])()) {
        Object(_main_helpers_functions_filters_state__WEBPACK_IMPORTED_MODULE_17__["setIsMapLoaded"])(false);
        this.isLoaded = false;
        this.state.servicesLayer = _.filter(window.mapInfo.info.$layers.layers, function (d) {
          return d.name == "Serivces_Data" || d.name == "Service_Data";
        })[0];
        for (var i = 0; i < this.state.uplodedFeatures.length; i++) {
          if (this.state.uplodedFeatures[i]) {
            this.state.selectedCADIndex = i;
            var currentPlan = i == 0 ? "perfectCad" : i == 1 ? "secondCad" : "thirdCad";
            this.state.selectedCAD = currentPlan;
            this.state.plans.push(currentPlan);
          } else {
            break;
          }
        }

        //if (!this.state.serviceTypes) {
        axios__WEBPACK_IMPORTED_MODULE_32___default.a.get(`${host}/CadLayers/GetAll?pageSize=1000`).then(({
          data
        }) => {
          this.state.servicesTypes = data.results;
          this.state.servicesTypes.forEach(function (type) {
            type.layer_color = eval(type.layer_color);
          });
          if (this.state.selectedCADIndex != -1) {
            this.setBuildingCondition(this.state.uplodedFeatures[this.state.selectedCADIndex]).then(response => {
              this.init(this.state.selectedCADIndex);
            });
          }
        });
        // }
      }
    } else if (this.isLoaded && window.mapInfo && (_this$props$values2 = this.props.values) !== null && _this$props$values2 !== void 0 && (_this$props$values2$m = _this$props$values2.mapviewer) !== null && _this$props$values2$m !== void 0 && (_this$props$values2$m2 = _this$props$values2$m.mapGraphics) !== null && _this$props$values2$m2 !== void 0 && _this$props$values2$m2.length) {
      //   this.state.plans = [];
      this.map = Object(_main_helpers_functions_filters_state__WEBPACK_IMPORTED_MODULE_17__["getMap"])();
      if (Object(_main_helpers_functions_filters_state__WEBPACK_IMPORTED_MODULE_17__["getIsMapLoaded"])()) {
        Object(_main_helpers_functions_filters_state__WEBPACK_IMPORTED_MODULE_17__["setIsMapLoaded"])(false);
        this.isLoaded = false;
        //     this.state.servicesLayer = _.filter(
        //       window.mapInfo.info.$layers.layers,
        //       function (d) {
        //         return d.name == "Serivces_Data" || d.name == "Service_Data";
        //       }
        //     )[0];
        for (var i = 0; i < this.state.uplodedFeatures.length; i++) {
          if (this.state.uplodedFeatures[i]) {
            this.state.selectedCADIndex = i;
            var currentPlan = i == 0 ? "perfectCad" : i == 1 ? "secondCad" : "thirdCad";
            this.state.selectedCAD = currentPlan;
            this.state.plans.push(currentPlan);
          } else {
            break;
          }
        }

        //this.updateStatisticParcels(this.state.uplodedFeatures[this.state.selectedCADIndex]);
        //     if (!this.state.serviceTypes) {
        //       axios.get(`${host}/CadLayers/GetAll?pageSize=1000`).then(({ data }) => {

        //         this.state.servicesTypes = data.results;
        //         this.state.servicesTypes.forEach(function (type) {
        //           type.layer_color = eval(type.layer_color);
        //         });

        //         if (this.state.selectedCADIndex != -1) {
        //           this.setBuildingCondition(
        //             this.state.uplodedFeatures[this.state.selectedCADIndex]
        //           ).then((response) => {
        //             this.init(this.state.selectedCADIndex);
        //           });
        //         }
        //       });
        //     }
        //   }
      }
    }
    //return true;
  }
  render() {
    var _statisticsParcels, _statisticsParcels$fi;
    const {
      mainObject,
      t,
      isInViewMode,
      forAddingPlans
    } = this.props;
    let {
      hide_details,
      selectedCAD,
      selectedCADIndex,
      planDescription,
      planUsingSymbol,
      servicesTypes,
      streets,
      currentParcelPage,
      totalParcelPage,
      minParcelIndex,
      maxParcelIndex,
      currentInvestalParcelPage,
      totalInvestalParcelPage,
      minInvestalParcelIndex,
      maxInvestalParcelIndex,
      currentStreetPage,
      totalStreetPage,
      minStreetIndex,
      maxStreetIndex,
      current_step,
      serviceType,
      serviceSubType,
      servicesSubTypes,
      bufferDistance,
      uplodedFeatures,
      statisticsParcels,
      detailsParcelTypes,
      TotalParcelArea,
      plans
    } = this.state;
    let selectedPlan = uplodedFeatures && uplodedFeatures[selectedCADIndex];
    if (statisticsParcels.findIndex(p => p.isInvestalIncluded) == -1) {
      statisticsParcels = this.updateStatisticParcels(selectedPlan);
    } else {
      Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["calculateSchemanticProportions"])(selectedPlan, statisticsParcels, TotalParcelArea, this.props.mainObject);
    }
    console.log("current Step ID: " + current_step);
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("div", null, !isInViewMode && selectedCADIndex != -1 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("select", {
      onChange: this.selectPlan,
      className: "form-control",
      style: {
        height: "40px"
      }
    }, lodash_map__WEBPACK_IMPORTED_MODULE_14___default()(plans, (plan, index) => {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("option", {
        value: plan,
        selected: plan == selectedCAD
      }, t(plan));
    })), planDescription && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("div", {
      style: planDescStyle
    }, Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(planDescription)), planUsingSymbol && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("div", {
      className: "usingsymbolStyle"
    }, Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(planUsingSymbol)), !isInViewMode && !hide_details && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("div", {
      style: containerDetails
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(antd_lib_collapse__WEBPACK_IMPORTED_MODULE_8___default.a, {
      className: "Collapse",
      key: 0
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(Panel, {
      key: 0,
      header: `مفتاح الخريطة`,
      forceRender: true,
      style: {
        margin: "5px"
      }
    }, servicesTypes && servicesTypes.map((type, index) => {
      if (this.state[type.symbol_id + "_visbility"] == undefined) this.state[type.symbol_id + "_visbility"] = true;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("span", {
        style: {
          padding: "7px",
          width: "130px"
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("span", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("input", {
        type: "checkbox",
        style: {
          width: "20px",
          height: "20px",
          margin: "3px"
        },
        checked: this.state[type.symbol_id + "_visbility"],
        onChange: this.changeVisibilty.bind(this, type.symbol_id, !this.state[type.symbol_id + "_visbility"])
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("span", {
        style: {
          width: "20px",
          height: "20px",
          display: "inline-flex",
          backgroundColor: type.layer_color ? "rgba(" + type.layer_color[0] + ", " + type.layer_color[1] + ", " + type.layer_color[2] + ", " + type.layer_color[3] + ")" : "rgb(255, 255, 255)"
        }
      }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("span", {
        style: {
          fontSize: "16px",
          margin: "3px"
        }
      }, type.layer_description)));
    }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(antd_lib_collapse__WEBPACK_IMPORTED_MODULE_8___default.a, {
      className: "Collapse",
      key: 1
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(Panel, {
      key: 1,
      header: `الشوارع`,
      forceRender: true,
      style: {
        margin: "5px"
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("table", {
      className: "table table-bordered no-margin table-striped"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("thead", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("tr", null, [52].indexOf(this.props.currentModule.id) != -1 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_15___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0627\u0633\u0645 \u0627\u0644\u0634\u0627\u0631\u0639"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0635\u0646\u0641 \u0627\u0644\u0634\u0627\u0631\u0639"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0646\u0648\u0639 \u0627\u0644\u0634\u0627\u0631\u0639"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0628\u0627\u062A\u062C\u0627\u0647 \u0648\u0627\u062D\u062F"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0627\u0644\u0637\u0631\u064A\u0642\u0629 \u0645\u0641\u0635\u0648\u0644\u0629 \u0628\u062C\u0632\u064A\u0631\u0629 \u0648\u0633\u0637\u064A\u0629")), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0627\u0644\u0637\u0648\u0644 (\u0645)"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0627\u0644\u0639\u0631\u0636 (\u0645)"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u064A\u062D\u0633\u0628 \u0636\u0645\u0646 \u0645\u0639\u062F\u0644 \u0646\u0633\u0628\u0629 \u0623\u0637\u0648\u0627\u0644 \u0627\u0644\u0634\u0648\u0627\u0631\u0639 \u0628\u0627\u0644\u0645\u062E\u0637\u0637"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("tbody", null, streets && streets.map((street, index) => {
      var _this$domains, _this$domains$, _this$domains$$domain, _this$domains2, _this$domains2$, _this$domains2$$domai, _this$domains3, _this$domains3$, _this$domains3$$domai, _this$domains4, _this$domains4$, _this$domains4$$domai, _street$length, _street$width;
      return index >= minStreetIndex && index < maxStreetIndex && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("tr", null, [52].indexOf(this.props.currentModule.id) != -1 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_15___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("input", {
        type: "text",
        name: "streetname",
        value: street.streetname,
        placeholder: "\u0645\u0646 \u0641\u0636\u0644\u0643 \u0623\u062F\u062E\u0644 \u0627\u0633\u0645 \u0627\u0644\u0634\u0627\u0631\u0639",
        className: "sidebar-form-control form-control",
        onInput: this.onStreetChange.bind(this, street)
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(antd_lib_select__WEBPACK_IMPORTED_MODULE_5___default.a, {
        getPopupContainer: trigger => trigger.parentNode,
        autoFocus: true,
        name: "streetClass",
        onChange: val => {
          this.onStreetChange(street, {
            target: {
              value: val,
              name: "streetClass"
            }
          });
        },
        placeholder: "\u0635\u0646\u0641 \u0627\u0644\u0634\u0627\u0631\u0639",
        value: street.streetClass
      }, (((_this$domains = this.domains) === null || _this$domains === void 0 ? void 0 : (_this$domains$ = _this$domains[9]) === null || _this$domains$ === void 0 ? void 0 : (_this$domains$$domain = _this$domains$.domain) === null || _this$domains$$domain === void 0 ? void 0 : _this$domains$$domain.codedValues) || []).map((e, i) => {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(Option, {
          key: i + 1,
          value: e.code
        }, e.name);
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(antd_lib_select__WEBPACK_IMPORTED_MODULE_5___default.a, {
        getPopupContainer: trigger => trigger.parentNode,
        autoFocus: true,
        name: "streetType",
        onChange: val => {
          this.onStreetChange(street, {
            target: {
              value: val,
              name: "streetType"
            }
          });
        },
        placeholder: "\u0646\u0648\u0639 \u0627\u0644\u0634\u0627\u0631\u0639",
        value: street.streetType
      }, (((_this$domains2 = this.domains) === null || _this$domains2 === void 0 ? void 0 : (_this$domains2$ = _this$domains2[10]) === null || _this$domains2$ === void 0 ? void 0 : (_this$domains2$$domai = _this$domains2$.domain) === null || _this$domains2$$domai === void 0 ? void 0 : _this$domains2$$domai.codedValues) || []).map((e, i) => {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(Option, {
          key: i + 1,
          value: e.code
        }, e.name);
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(RadioGroup, {
        onChange: val => {
          this.onStreetChange(street, {
            target: {
              value: val.target.value,
              name: "oneWay"
            }
          });
        },
        options: (_this$domains3 = this.domains) === null || _this$domains3 === void 0 ? void 0 : (_this$domains3$ = _this$domains3[11]) === null || _this$domains3$ === void 0 ? void 0 : (_this$domains3$$domai = _this$domains3$.domain) === null || _this$domains3$$domai === void 0 ? void 0 : _this$domains3$$domai.codedValues.map(x => ({
          label: x.name,
          value: x.code && true || false
        })),
        name: "oneWay",
        type: "radio",
        value: street.oneWay
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(RadioGroup, {
        onChange: val => {
          this.onStreetChange(street, {
            target: {
              value: val.target.value,
              name: "divided"
            }
          });
        },
        options: (_this$domains4 = this.domains) === null || _this$domains4 === void 0 ? void 0 : (_this$domains4$ = _this$domains4[12]) === null || _this$domains4$ === void 0 ? void 0 : (_this$domains4$$domai = _this$domains4$.domain) === null || _this$domains4$$domai === void 0 ? void 0 : _this$domains4$$domai.codedValues.map(x => ({
          label: x.name,
          value: x.code && true || false
        })),
        name: "divided",
        type: "radio",
        value: street.divided
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(parseFloat(street === null || street === void 0 ? void 0 : (_street$length = street.length) === null || _street$length === void 0 ? void 0 : _street$length.toFixed(2)))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(parseFloat(street === null || street === void 0 ? void 0 : (_street$width = street.width) === null || _street$width === void 0 ? void 0 : _street$width.toFixed(2)))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("input", {
        type: "checkbox",
        style: {
          width: "20px",
          height: "20px",
          margin: "3px"
        },
        checked: street.checked,
        disabled: [2322, 3099].indexOf(current_step) == -1,
        onChange: () => {
          const {
            input: {
              value
            }
          } = this.props;
          street.checked = !street.checked;
          this.setState({
            streets: streets
          }, () => {
            this.props.input.onChange({
              ...value,
              streets: streets
            });
          });
        }
      })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", {
        onClick: this.zoom.bind(this, street),
        onMouseOver: this.highlight.bind(this, street),
        onMouseLeave: this.clearHighlight.bind(this)
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("i", {
        className: "fa fa-search-plus"
      })));
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0645\u0639\u062F\u0644 \u0646\u0633\u0628\u0629 \u0623\u0637\u0648\u0627\u0644 \u0627\u0644\u0634\u0648\u0627\u0631\u0639 \u0641\u064A \u0627\u0644\u0645\u062E\u0637\u0637"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", {
      colSpan: "100%"
    }, ((_mainObject$landData, _mainObject$landData$, _ref) => {
      let totalAreaPercentage = (mainObject === null || mainObject === void 0 ? void 0 : (_mainObject$landData = mainObject.landData) === null || _mainObject$landData === void 0 ? void 0 : (_mainObject$landData$ = _mainObject$landData.landData) === null || _mainObject$landData$ === void 0 ? void 0 : _mainObject$landData$.area) / 10000;
      return Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(+((_ref = (streets === null || streets === void 0 ? void 0 : streets.reduce(function (a, b) {
        if (b.checked) {
          return a + +b.length.toFixed(2);
        }
        return a;
      }, 0)) / totalAreaPercentage) === null || _ref === void 0 ? void 0 : _ref.toFixed(2)));
    })() + " م ط / هكتار")))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(antd_lib_pagination__WEBPACK_IMPORTED_MODULE_3___default.a, {
      pageSize: this.pageSize,
      current: currentStreetPage,
      total: streets.length,
      onChange: this.handleStreetChange,
      style: {
        bottom: "0px",
        position: "static"
      }
    }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(antd_lib_collapse__WEBPACK_IMPORTED_MODULE_8___default.a, {
      className: "Collapse",
      key: 2
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(Panel, {
      key: 2,
      header: `نطاقات تأثير الخدمات`,
      forceRender: true,
      style: {
        margin: "5px"
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(redux_form__WEBPACK_IMPORTED_MODULE_19__["FormSection"], {
      name: `frm`,
      className: "form"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("select", {
      name: "servTypes",
      onChange: this.serviceChange.bind(this),
      className: "form-control",
      style: {
        margin: "5px",
        fontSize: "16px"
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("option", {
      "ng-disabled": "false",
      value: ""
    }, "\u0646\u0648\u0639 \u0627\u0644\u062E\u062F\u0645\u0629"), _.filter(servicesTypes, (type, index) => {
      return type.cad_sublayers && type.cad_sublayers.length; // != null && type.layer_description.trim() == this.removeNoSubType(type).trim()
    }).map((item, index) => {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("option", {
        value: JSON.stringify(item)
      }, item.layer_description);
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("select", {
      name: "servSubTypes",
      onChange: this.serviceSubChange.bind(this),
      className: "form-control",
      style: {
        margin: "5px"
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("option", {
      "ng-disabled": "false",
      value: true
    }, "\u0645\u0633\u062A\u0648\u0649 \u0627\u0644\u062E\u062F\u0645\u0629"), servicesSubTypes && servicesSubTypes.map((item, index) => {
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("option", {
        value: JSON.stringify(item)
      }, item.sublayer_description);
    })), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("input", {
      type: "text",
      value: this.state["bufferDistance"],
      style: {
        margin: "5px",
        fontSize: "16px"
      },
      onChange: this.changeBufferDistance.bind(this),
      placeholder: "\u0646\u0637\u0627\u0642 \u0627\u0644\u062A\u062E\u062F\u064A\u0645 \u0628\u0627\u0644\u0645\u062A\u0631",
      name: "service",
      className: "form-control"
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("button", {
      className: "btn btn-primary btn-sm",
      type: "button",
      style: {
        margin: "5px",
        fontSize: "16px"
      },
      onClick: this.drawBuffer.bind(this, this.state["bufferDistance"])
    }, "\u0631\u0633\u0645"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("button", {
      className: "btn btn-primary btn-sm",
      type: "button",
      onClick: this.clearBuffer.bind(this)
    }, "\u0645\u0633\u062D")))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(antd_lib_collapse__WEBPACK_IMPORTED_MODULE_8___default.a, {
      className: "Collapse",
      key: 3
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(Panel, {
      key: 3,
      header: `قطع الأراضي`,
      forceRender: true,
      style: {
        margin: "5px"
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("section", {
      style: {
        display: "flex",
        marginTop: "20px"
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("div", {
      style: {
        width: "100%"
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("table", {
      className: "table table-bordered no-margin table-striped"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("thead", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0631\u0642\u0645 \u0627\u0644\u0642\u0637\u0639\u0629"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0627\u0644\u0627\u0633\u062A\u062E\u062F\u0627\u0645"), (current_step == 2329 || current_step == 2330 || current_step == 2372 || current_step == 2902 || current_step == 2903 || current_step == 2895 || current_step == 2896 || current_step == 2897 || current_step == 2898 || current_step == 2899 || current_step == 2900 || current_step == 2901 || current_step == 2331 || current_step == 2371 || current_step == 3117 || current_step == 3118 || current_step == 3119 || current_step == 3120 || current_step == 3121 || current_step == 3122 || current_step == 3123 || current_step == 3124 || current_step == 3125 || current_step == 3126 || current_step == 3130 || current_step == 3132 || current_step == 3133) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0637\u0648\u0644 \u0627\u0644\u062D\u062F \u0627\u0644\u0634\u0645\u0627\u0644\u064A (\u0645)"), (current_step == 2329 || current_step == 2330 || current_step == 2372 || current_step == 2902 || current_step == 2903 || current_step == 2895 || current_step == 2896 || current_step == 2897 || current_step == 2898 || current_step == 2899 || current_step == 2900 || current_step == 2901 || current_step == 2331 || current_step == 2371 || current_step == 3117 || current_step == 3118 || current_step == 3119 || current_step == 3120 || current_step == 3121 || current_step == 3122 || current_step == 3123 || current_step == 3124 || current_step == 3125 || current_step == 3126 || current_step == 3130 || current_step == 3132 || current_step == 3133) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0637\u0648\u0644 \u0627\u0644\u062D\u062F \u0627\u0644\u0634\u0631\u0642\u064A (\u0645)"), (current_step == 2329 || current_step == 2330 || current_step == 2372 || current_step == 2902 || current_step == 2903 || current_step == 2895 || current_step == 2896 || current_step == 2897 || current_step == 2898 || current_step == 2899 || current_step == 2900 || current_step == 2901 || current_step == 2331 || current_step == 2371 || current_step == 3117 || current_step == 3118 || current_step == 3119 || current_step == 3120 || current_step == 3121 || current_step == 3122 || current_step == 3123 || current_step == 3124 || current_step == 3125 || current_step == 3126 || current_step == 3130 || current_step == 3132 || current_step == 3133) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0637\u0648\u0644 \u0627\u0644\u062D\u062F \u0627\u0644\u062C\u0646\u0648\u0628\u064A (\u0645)"), (current_step == 2329 || current_step == 2330 || current_step == 2372 || current_step == 2902 || current_step == 2903 || current_step == 2895 || current_step == 2896 || current_step == 2897 || current_step == 2898 || current_step == 2899 || current_step == 2900 || current_step == 2901 || current_step == 2331 || current_step == 2371 || current_step == 3117 || current_step == 3118 || current_step == 3119 || current_step == 3120 || current_step == 3121 || current_step == 3122 || current_step == 3123 || current_step == 3124 || current_step == 3125 || current_step == 3126 || current_step == 3130 || current_step == 3132 || current_step == 3133) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0637\u0648\u0644 \u0627\u0644\u062D\u062F \u0627\u0644\u063A\u0631\u0628\u064A (\u0645)"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0627\u0644\u0645\u0633\u0627\u062D\u0629 (\u0645\u06F2)"), current_step != 2329 && current_step != 3117 && current_step != 2330 && current_step != 3118 && current_step != 2371 && current_step != 3119 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0637\u0648\u0644 \u0627\u0644\u0648\u0627\u062C\u0647\u0629 (\u0645)"), (current_step == 2329 || current_step == 2330 || current_step == 2372 || current_step == 2902 || current_step == 2903 || current_step == 2895 || current_step == 2896 || current_step == 2897 || current_step == 2898 || current_step == 2899 || current_step == 2900 || current_step == 2901 || current_step == 2331 || current_step == 2371 || current_step == 3117 || current_step == 3118 || current_step == 3119 || current_step == 3120 || current_step == 3121 || current_step == 3122 || current_step == 3123 || current_step == 3124 || current_step == 3125 || current_step == 3126 || current_step == 3130 || current_step == 3132 || current_step == 3133) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0645\u0644\u0627\u062D\u0638\u0627\u062A"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0627\u0644\u0634\u0637\u0641\u0627\u062A"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("tbody", null, selectedPlan && selectedPlan.shapeFeatures && selectedPlan.shapeFeatures.landbase && selectedPlan.shapeFeatures.landbase
    //.filter((parcel) => parcel.is_cut != 2)
    .map((parcel, index) => {
      var _parcel$north_length, _parcel$east_length, _parcel$south_length, _parcel$weast_length, _parcel$area, _parcel$survayParcelC;
      return !parcel.isHide && index >= minParcelIndex && index < maxParcelIndex && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("tr", {
        style: this.isValidCondition(parcel) && {
          backgroundColor: "white"
        } || {
          backgroundColor: "#f58c8c"
        }
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(parcel.number)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(parcel.usingSymbolName)), (current_step == 2329 || current_step == 2330 || current_step == 2372 || current_step == 2902 || current_step == 2903 || current_step == 2895 || current_step == 2896 || current_step == 2897 || current_step == 2898 || current_step == 2899 || current_step == 2900 || current_step == 2901 || current_step == 2331 || current_step == 2371 || current_step == 3117 || current_step == 3118 || current_step == 3119 || current_step == 3120 || current_step == 3121 || current_step == 3122 || current_step == 3123 || current_step == 3124 || current_step == 3125 || current_step == 3126 || current_step == 3130 || current_step == 3132 || current_step == 3133) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(parseFloat(parcel === null || parcel === void 0 ? void 0 : (_parcel$north_length = parcel.north_length) === null || _parcel$north_length === void 0 ? void 0 : _parcel$north_length.toFixed(2)))), (current_step == 2329 || current_step == 2330 || current_step == 2372 || current_step == 2902 || current_step == 2903 || current_step == 2895 || current_step == 2896 || current_step == 2897 || current_step == 2898 || current_step == 2899 || current_step == 2900 || current_step == 2901 || current_step == 2331 || current_step == 2371 || current_step == 3117 || current_step == 3118 || current_step == 3119 || current_step == 3120 || current_step == 3121 || current_step == 3122 || current_step == 3123 || current_step == 3124 || current_step == 3125 || current_step == 3126 || current_step == 3130 || current_step == 3132 || current_step == 3133) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(parseFloat(parcel === null || parcel === void 0 ? void 0 : (_parcel$east_length = parcel.east_length) === null || _parcel$east_length === void 0 ? void 0 : _parcel$east_length.toFixed(2)))), (current_step == 2329 || current_step == 2330 || current_step == 2372 || current_step == 2902 || current_step == 2903 || current_step == 2895 || current_step == 2896 || current_step == 2897 || current_step == 2898 || current_step == 2899 || current_step == 2900 || current_step == 2901 || current_step == 2331 || current_step == 2371 || current_step == 3117 || current_step == 3118 || current_step == 3119 || current_step == 3120 || current_step == 3121 || current_step == 3122 || current_step == 3123 || current_step == 3124 || current_step == 3125 || current_step == 3126 || current_step == 3130 || current_step == 3132 || current_step == 3133) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(parseFloat(parcel === null || parcel === void 0 ? void 0 : (_parcel$south_length = parcel.south_length) === null || _parcel$south_length === void 0 ? void 0 : _parcel$south_length.toFixed(2)))), (current_step == 2329 || current_step == 2330 || current_step == 2372 || current_step == 2902 || current_step == 2903 || current_step == 2895 || current_step == 2896 || current_step == 2897 || current_step == 2898 || current_step == 2899 || current_step == 2900 || current_step == 2901 || current_step == 2331 || current_step == 2371 || current_step == 3117 || current_step == 3118 || current_step == 3119 || current_step == 3120 || current_step == 3121 || current_step == 3122 || current_step == 3123 || current_step == 3124 || current_step == 3125 || current_step == 3126 || current_step == 3130 || current_step == 3132 || current_step == 3133) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(parseFloat(parcel === null || parcel === void 0 ? void 0 : (_parcel$weast_length = parcel.weast_length) === null || _parcel$weast_length === void 0 ? void 0 : _parcel$weast_length.toFixed(2)))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(
      // Number(
      //   parcel?.area.toString().match(/^\d+(?:\.\d{0,2})?/)
      // )
      parseFloat(+(parcel === null || parcel === void 0 ? void 0 : (_parcel$area = parcel.area) === null || _parcel$area === void 0 ? void 0 : _parcel$area.toFixed(2)) - (parcel.cuttes_area || parcel.survayParcelCutter && +parcel.survayParcelCutter[0].NORTH_EAST_DIRECTION + +parcel.survayParcelCutter[0].NORTH_WEST_DIRECTION + +parcel.survayParcelCutter[0].SOUTH_EAST_DIRECTION + +parcel.survayParcelCutter[0].SOUTH_WEST_DIRECTION || 0)))), [2329, 3117].indexOf(current_step) != -1 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("input", {
        type: "text",
        value: parcel.note,
        onChange: this.changeNote.bind(this, parcel),
        placeholder: "\u0645\u0646 \u0641\u0636\u0644\u0643 \u0623\u062F\u062E\u0644 \u0645\u0644\u0627\u062D\u0638\u0627\u062A\u0643",
        className: "sidebar-form-control form-control"
      })), (current_step && [2317, 3095].indexOf(current_step) != -1 && [2329, 3117].indexOf(current_step) == -1 || !current_step) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("input", {
        type: "text",
        value: parcel.frontLength,
        onChange: this.changeFrontLength.bind(this, parcel),
        placeholder: "\u0645\u0646 \u0641\u0636\u0644\u0643 \u0623\u062F\u062E\u0644 \u0637\u0648\u0644 \u0627\u0644\u0648\u0627\u062C\u0647\u0629",
        className: "sidebar-form-control form-control"
      })), current_step && current_step != 2317 && current_step != 3095 && current_step != 2330 && current_step != 2329 && current_step != 2371 && current_step != 3117 && current_step != 3118 && current_step != 3119 && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(parcel.frontLength)), (current_step == 2329 || current_step == 2330 || current_step == 2372 || current_step == 2902 || current_step == 2903 || current_step == 2895 || current_step == 2896 || current_step == 2897 || current_step == 2898 || current_step == 2899 || current_step == 2900 || current_step == 2901 || current_step == 2331 || current_step == 2371 || current_step == 3117 || current_step == 3118 || current_step == 3119 || current_step == 3120 || current_step == 3121 || current_step == 3122 || current_step == 3123 || current_step == 3124 || current_step == 3125 || current_step == 3126 || current_step == 3130 || current_step == 3132 || current_step == 3133) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(parcel.note)), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("button", {
        className: "btn",
        onClick: this.openPopup.bind(this, index)
      }, !(parcel !== null && parcel !== void 0 && (_parcel$survayParcelC = parcel.survayParcelCutter) !== null && _parcel$survayParcelC !== void 0 && _parcel$survayParcelC.length) && "اضافة شطفات" || "تعديل الشطفات")), !this.isValidCondition(parcel) && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(antd_lib_tooltip__WEBPACK_IMPORTED_MODULE_1___default.a, {
        title: "\u0627\u0644\u0645\u0633\u0627\u062D\u0629 \u0644\u0627 \u062A\u0637\u0627\u0628\u0642 \u0627\u0634\u062A\u0631\u0627\u0637\u0627\u062A \u0627\u0644\u0628\u0646\u0627\u0621"
      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("i", {
        className: "fa fa-exclamation-circle"
      }))));
    }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(antd_lib_pagination__WEBPACK_IMPORTED_MODULE_3___default.a, {
      pageSize: this.pageSize,
      current: currentParcelPage,
      total: selectedPlan && selectedPlan.shapeFeatures && selectedPlan.shapeFeatures.landbase &&
      // .filter(
      //   (parcel) => parcel.is_cut != 2
      // )
      selectedPlan.shapeFeatures.landbase.length || 0,
      onChange: this.handleParcelChange,
      style: {
        bottom: "0px",
        position: "static"
      }
    }))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(antd_lib_collapse__WEBPACK_IMPORTED_MODULE_8___default.a, {
      className: "Collapse",
      key: 3
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(Panel, {
      key: 3,
      header: `النسب التخطيطية`,
      forceRender: true,
      style: {
        margin: "5px"
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("section", {
      style: {
        display: "flex",
        marginTop: "20px"
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("div", {
      style: {
        width: "100%"
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("table", {
      className: "table table-bordered no-margin table-striped"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("thead", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0627\u0644\u0627\u0633\u062A\u062E\u062F\u0627\u0645"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0627\u0644\u0645\u0633\u0627\u062D\u0629 (\u0645\u06F2)"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0627\u0644\u0646\u0633\u0628\u0629 \u0627\u0644\u0645\u0626\u0648\u064A\u0629 (%)"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u062A\u062D\u0633\u0628 \u0636\u0645\u0646 \u0627\u0644\u0646\u0633\u0628 \u0627\u0644\u062A\u062E\u0637\u064A\u0637\u064A\u0629"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("tbody", null, (_statisticsParcels = statisticsParcels) === null || _statisticsParcels === void 0 ? void 0 : (_statisticsParcels$fi = _statisticsParcels.filter(parcel => [1, 2].indexOf(parcel.is_cut) != -1)) === null || _statisticsParcels$fi === void 0 ? void 0 : _statisticsParcels$fi.map((parcel, index) => {
      var _parcel$area2, _parcel$areaPercentag;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("tr", null, parcel.name != "undefined" && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, parcel.name), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(parseFloat(parcel === null || parcel === void 0 ? void 0 : (_parcel$area2 = parcel.area) === null || _parcel$area2 === void 0 ? void 0 : _parcel$area2.toFixed(2)))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(parseFloat(parcel === null || parcel === void 0 ? void 0 : (_parcel$areaPercentag = parcel.areaPercentage) === null || _parcel$areaPercentag === void 0 ? void 0 : _parcel$areaPercentag.toFixed(2)))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("span", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("input", {
        type: "checkbox",
        style: {
          width: "20px",
          height: "20px",
          margin: "3px"
        },
        checked: parcel.is_cut == 1 && true || parcel.isInvestalIncluded,
        disabled: [2322, 3099].indexOf(current_step) != -1 && parcel.is_cut == 2 ? false : true,
        onChange: this.investalChange.bind(this, statisticsParcels, parcel, !parcel.isInvestalIncluded)
      }))));
    }))))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(antd_lib_collapse__WEBPACK_IMPORTED_MODULE_8___default.a, {
      className: "Collapse",
      key: 4
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(Panel, {
      key: 4,
      header: `مؤشر نسب الاستعمالات`,
      forceRender: true,
      style: {
        margin: "5px"
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("table", {
      className: "table table-bordered no-margin table-striped"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("thead", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0627\u0644\u0627\u0633\u062A\u062E\u062F\u0627\u0645"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0627\u0644\u0645\u0633\u0627\u062D\u0629 (\u0645\u06F2)"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0627\u0644\u0646\u0633\u0628\u0629 \u0627\u0644\u0645\u0626\u0648\u064A\u0629 (%)"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("tbody", null, statisticsParcels.map((parcel, index) => {
      var _parcel$area3, _parcel$areaPercentag2;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("tr", null, parcel.name == "undefined" && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0627\u062E\u0631\u0649"), parcel.name != "undefined" && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, parcel.name), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(parseFloat(parcel === null || parcel === void 0 ? void 0 : (_parcel$area3 = parcel.area) === null || _parcel$area3 === void 0 ? void 0 : _parcel$area3.toFixed(2)))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(parseFloat(parcel === null || parcel === void 0 ? void 0 : (_parcel$areaPercentag2 = parcel.areaPercentage) === null || _parcel$areaPercentag2 === void 0 ? void 0 : _parcel$areaPercentag2.toFixed(2)))));
    }))))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(antd_lib_collapse__WEBPACK_IMPORTED_MODULE_8___default.a, {
      className: "Collapse",
      key: 5
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement(Panel, {
      key: 5,
      header: `الميزانية التفصيلية`,
      forceRender: true,
      style: {
        margin: "5px"
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("section", {
      style: {
        display: "flex",
        marginTop: "20px"
      }
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("table", {
      className: "table table-bordered no-margin table-striped"
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("thead", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0627\u0644\u0627\u0633\u062A\u0639\u0645\u0627\u0644"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0627\u0644\u0627\u0633\u062A\u0639\u0645\u0627\u0644 \u0627\u0644\u0641\u0631\u0639\u064A"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0627\u0644\u0639\u062F\u062F"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0627\u0644\u0645\u0633\u0627\u062D\u0629 (\u0645\u06F2)"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0627\u0644\u0646\u0633\u0628\u0629 \u0627\u0644\u0645\u0626\u0648\u064A\u0629 (%)"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0627\u0644\u0646\u0633\u0628\u0629 \u0627\u0644\u0645\u0626\u0648\u064A\u0629 \u0627\u0644\u0625\u062C\u0645\u0627\u0644\u064A\u0629 (%)"))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("tbody", null, detailsParcelTypes.map((detail, index) => {
      var _ref3;
      return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("tr", null, detail.key == "undefined" && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0627\u062E\u0631\u0649"), detail.key != "undefined" && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, detail.key), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("table", {
        className: "table no-margin table-striped"
      }, Object.values(detail.value).map((value, index) => {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, value.value[0].subType && value.value[0].subType.sublayer_description || ""));
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("table", {
        className: "table no-margin table-striped"
      }, Object.values(detail.value).map((value, index) => {
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(value.value.length)));
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("table", {
        className: "table no-margin table-striped"
      }, Object.values(detail.value).map((value, index) => {
        var _value$total_area;
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(parseFloat(value === null || value === void 0 ? void 0 : (_value$total_area = value.total_area) === null || _value$total_area === void 0 ? void 0 : _value$total_area.toFixed(2)))));
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("table", {
        className: "table no-margin table-striped"
      }, Object.values(detail.value).map((value, index) => {
        var _ref2;
        return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(parseFloat((_ref2 = value.total_area / TotalParcelArea * 100) === null || _ref2 === void 0 ? void 0 : _ref2.toFixed(2)))));
      }))), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(parseFloat((_ref3 = detail.usingTypeArea / TotalParcelArea * 100) === null || _ref3 === void 0 ? void 0 : _ref3.toFixed(2)))));
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("tr", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", null, "\u0645\u0639\u062F\u0644 \u0646\u0633\u0628\u0629 \u0623\u0637\u0648\u0627\u0644 \u0627\u0644\u0634\u0648\u0627\u0631\u0639 \u0641\u064A \u0627\u0644\u0645\u062E\u0637\u0637"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_15___default.a.createElement("td", {
      colSpan: 5
    }, ((_mainObject$landData2, _mainObject$landData3, _ref4) => {
      let totalAreaPercentage = (mainObject === null || mainObject === void 0 ? void 0 : (_mainObject$landData2 = mainObject.landData) === null || _mainObject$landData2 === void 0 ? void 0 : (_mainObject$landData3 = _mainObject$landData2.landData) === null || _mainObject$landData3 === void 0 ? void 0 : _mainObject$landData3.area) / 10000;
      return Object(_common_common_func__WEBPACK_IMPORTED_MODULE_21__["convertToArabic"])(+((_ref4 = (streets === null || streets === void 0 ? void 0 : streets.reduce(function (a, b) {
        if (b.checked) {
          return a + +b.length.toFixed(2);
        }
        return a;
      }, 0)) / totalAreaPercentage) === null || _ref4 === void 0 ? void 0 : _ref4.toFixed(2)));
    })() + " م ط / هكتار")))))))));
  }
}
/* harmony default export */ __webpack_exports__["default"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_29__["connect"])(_mapping__WEBPACK_IMPORTED_MODULE_27__["mapStateToProps"], appMapDispatchToProps)(Object(react_i18next__WEBPACK_IMPORTED_MODULE_20__["translate"])("cadData")(plansDataComponent)));

/***/ }),

/***/ "./src/app/components/inputs/fields/label/index.js":
/*!*********************************************************!*\
  !*** ./src/app/components/inputs/fields/label/index.js ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/get */ "./node_modules/lodash/get.js");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _typeofData__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./typeofData */ "./src/app/components/inputs/fields/label/typeofData/index.js");
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var _mapping__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./mapping */ "./src/app/components/inputs/fields/label/mapping.js");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");






class labelComponent extends react__WEBPACK_IMPORTED_MODULE_1__["Component"] {
  componentDidMount() {
    const {
      init_data
    } = this.props;
    if (init_data) {
      init_data(this.props);
    }
  }
  render() {
    const {
      className,
      input: {
        value
      },
      type,
      data = {},
      t
    } = this.props;
    let initialVal = lodash_get__WEBPACK_IMPORTED_MODULE_0___default()(data, value, value);
    const Val = lodash_get__WEBPACK_IMPORTED_MODULE_0___default()(_typeofData__WEBPACK_IMPORTED_MODULE_2__, type, () => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("label", null, initialVal));
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(Val, {
      className,
      data: value,
      t: t
    });
  }
}
/* harmony default export */ __webpack_exports__["default"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_5__["connect"])(_mapping__WEBPACK_IMPORTED_MODULE_4__["mapStateToProps"], _mapping__WEBPACK_IMPORTED_MODULE_4__["mapDispatchToProps"])(Object(react_i18next__WEBPACK_IMPORTED_MODULE_3__["translate"])('labels')(labelComponent)));

/***/ }),

/***/ "./src/app/components/inputs/fields/label/mapping.js":
/*!***********************************************************!*\
  !*** ./src/app/components/inputs/fields/label/mapping.js ***!
  \***********************************************************/
/*! exports provided: mapStateToProps, mapDispatchToProps */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mapStateToProps", function() { return mapStateToProps; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mapDispatchToProps", function() { return mapDispatchToProps; });
/* harmony import */ var redux_form__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! redux-form */ "./node_modules/redux-form/es/index.js");

const mapStateToProps = ({
  wizard: {
    mainObject
  },
  selectors = {},
  mainApp,
  mapViewer,
  ...state
}, {
  moduleName,
  path,
  value_key,
  ...props
}) => {
  return {
    mainObject: {
      ...mainObject
    }
  };
};
const mapDispatchToProps = (dispatch, {
  moduleName
}) => {
  return {
    getValues(name = 'stepForm') {
      return Object(redux_form__WEBPACK_IMPORTED_MODULE_0__["formValueSelector"])('name');
    }
  };
};

/***/ }),

/***/ "./src/app/components/inputs/fields/label/typeofData/boolean.js":
/*!**********************************************************************!*\
  !*** ./src/app/components/inputs/fields/label/typeofData/boolean.js ***!
  \**********************************************************************/
/*! exports provided: boolean */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "boolean", function() { return boolean; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

class boolean extends react__WEBPACK_IMPORTED_MODULE_0__["Component"] {
  render() {
    const {
      data,
      t
    } = this.props;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, data ? t('Yes') : t('No'));
  }
}

/***/ }),

/***/ "./src/app/components/inputs/fields/label/typeofData/date.js":
/*!*******************************************************************!*\
  !*** ./src/app/components/inputs/fields/label/typeofData/date.js ***!
  \*******************************************************************/
/*! exports provided: date */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "date", function() { return date; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_1__);


class date extends react__WEBPACK_IMPORTED_MODULE_0__["Component"] {
  render() {
    const {
      data
    } = this.props;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, moment__WEBPACK_IMPORTED_MODULE_1___default()(data));
  }
}

/***/ }),

/***/ "./src/app/components/inputs/fields/label/typeofData/index.js":
/*!********************************************************************!*\
  !*** ./src/app/components/inputs/fields/label/typeofData/index.js ***!
  \********************************************************************/
/*! exports provided: object, string, date, number, list, boolean */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _object__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./object */ "./src/app/components/inputs/fields/label/typeofData/object.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "object", function() { return _object__WEBPACK_IMPORTED_MODULE_0__["object"]; });

/* harmony import */ var _string__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./string */ "./src/app/components/inputs/fields/label/typeofData/string.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "string", function() { return _string__WEBPACK_IMPORTED_MODULE_1__["string"]; });

/* harmony import */ var _date__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./date */ "./src/app/components/inputs/fields/label/typeofData/date.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "date", function() { return _date__WEBPACK_IMPORTED_MODULE_2__["date"]; });

/* harmony import */ var _number__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./number */ "./src/app/components/inputs/fields/label/typeofData/number.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "number", function() { return _number__WEBPACK_IMPORTED_MODULE_3__["number"]; });

/* harmony import */ var _list__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./list */ "./src/app/components/inputs/fields/label/typeofData/list.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "list", function() { return _list__WEBPACK_IMPORTED_MODULE_4__["list"]; });

/* harmony import */ var _boolean__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./boolean */ "./src/app/components/inputs/fields/label/typeofData/boolean.js");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "boolean", function() { return _boolean__WEBPACK_IMPORTED_MODULE_5__["boolean"]; });








/***/ }),

/***/ "./src/app/components/inputs/fields/label/typeofData/number.js":
/*!*********************************************************************!*\
  !*** ./src/app/components/inputs/fields/label/typeofData/number.js ***!
  \*********************************************************************/
/*! exports provided: number */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "number", function() { return number; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);

class number extends react__WEBPACK_IMPORTED_MODULE_0__["Component"] {
  render() {
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, this.props.data && (+this.props.data).toFixed(2));
  }
}

/***/ }),

/***/ "./src/app/components/inputs/fields/label/typeofData/object.js":
/*!*********************************************************************!*\
  !*** ./src/app/components/inputs/fields/label/typeofData/object.js ***!
  \*********************************************************************/
/*! exports provided: object */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "object", function() { return object; });
/* harmony import */ var lodash_isEmpty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/isEmpty */ "./node_modules/lodash/isEmpty.js");
/* harmony import */ var lodash_isEmpty__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_isEmpty__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/get */ "./node_modules/lodash/get.js");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _helpers_fieldValues__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../helpers/fieldValues */ "./src/app/helpers/fieldValues/index.js");




class object extends react__WEBPACK_IMPORTED_MODULE_2__["Component"] {
  render() {
    const {
      data,
      t
    } = this.props;
    let files = data && data.length ? data.filter(singleData => lodash_get__WEBPACK_IMPORTED_MODULE_1___default()(singleData, 'uid', null) ? singleData : null) : null;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", null, !lodash_isEmpty__WEBPACK_IMPORTED_MODULE_0___default()(files) ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", null, Object(_helpers_fieldValues__WEBPACK_IMPORTED_MODULE_3__["fileUploader"])(data)) : /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      style: {
        display: 'flex'
      }
    }, data.map((val, index) => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div", {
      style: {
        padding: '5px'
      },
      key: index
    }, index == 0 ? ` ${t(val)} ` : ` - ${t(val)} `))));
  }
}

/***/ }),

/***/ "./src/app/components/inputs/fields/label/typeofData/string.js":
/*!*********************************************************************!*\
  !*** ./src/app/components/inputs/fields/label/typeofData/string.js ***!
  \*********************************************************************/
/*! exports provided: string */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "string", function() { return string; });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _date__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./date */ "./src/app/components/inputs/fields/label/typeofData/date.js");


class string extends react__WEBPACK_IMPORTED_MODULE_0__["Component"] {
  render() {
    const {
      data,
      t
    } = this.props;
    const datetime = /\d{4,4}-\d{2,2}-\d{2,2}/;
    let item = datetime.test(data) ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_date__WEBPACK_IMPORTED_MODULE_1__["date"], {
      data: data
    }) : data;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div", null, item);
  }
}

/***/ })

}]);
//# sourceMappingURL=14.min.js.map