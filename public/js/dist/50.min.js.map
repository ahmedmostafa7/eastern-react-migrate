{"version":3,"file":"50.min.js","sources":["webpack:///./src/app/components/inputs/fields/selectedParcels/Component/style.css","webpack:///./src/app/components/inputs/fields/selectedParcels/Component/mapping.js","webpack:///./src/app/components/inputs/fields/selectedParcels/Component/selected_parcels_view.js","webpack:///./src/app/components/inputs/fields/selectedParcels/Component/style.css?6b59"],"sourcesContent":["exports = module.exports = require(\"../../../../../../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \".titleSelectedParcel {\\r\\n  background: #00726f;\\r\\n  color: white;\\r\\n  text-align: right;\\r\\n  margin-top: 0px !important;\\r\\n  padding: 5px;\\r\\n  text-align: center;\\r\\n  font-size: 20px !important;\\r\\n}\\r\\n\\r\\n.add-gis {\\r\\n  background: #00726f !important;\\r\\n  float: none !important;\\r\\n  margin: 0 !important;\\r\\n  color: #fff !important;\\r\\n}\", \"\"]);\n\n","import { formValueSelector } from \"redux-form\";\r\nimport { get } from \"lodash\";\r\nexport const mapStateToProps = (\r\n  {\r\n    mapReducer,\r\n    wizard: {\r\n      steps,\r\n      mainObject,\r\n      currentStep,\r\n      treeNode,\r\n      currentModule,\r\n      comments,\r\n      wizardSettings,\r\n    },\r\n    selectors = {},\r\n    ...state\r\n  },\r\n  { moduleName, path, value_key, ...props }\r\n) => {\r\n  return {\r\n    mainObject,\r\n    selectedRequestType: get(selectors[moduleName], \"selectedRequestType\", {}),\r\n    domainList: get(selectors[moduleName], \"domainList\", {}),\r\n    currentStep,\r\n    steps,\r\n    currentModule,\r\n  };\r\n};\r\n\r\nexport const mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    getValues(name = \"stepForm\") {\r\n      return formValueSelector(\"name\");\r\n    },\r\n    setSelectorEnability: (moduleName, data) => {\r\n      dispatch({\r\n        type: \"setSelectors\",\r\n        path: `${moduleName}.disabled`,\r\n        data,\r\n      });\r\n    },\r\n    removeSelector: (moduleName) => {\r\n      dispatch({\r\n        type: \"removeSelectors\",\r\n        path: `${moduleName}`,\r\n      });\r\n    },\r\n    setSelector: (moduleName, data) => {\r\n      dispatch({\r\n        type: \"setSelectors\",\r\n        path: `${moduleName}`,\r\n        data,\r\n      });\r\n    },\r\n    // setSelectedParcels: (path, data) => dispatch({type: 'setWizard', path: `mainObject.waseka_data.selectedParcels`, data})\r\n  };\r\n};\r\n","import React, { Component, useState } from \"react\";\r\nimport { mapStateToProps } from \"./mapping\";\r\nimport mapDispatchToProps from \"main_helpers/actions/main\";\r\nimport { connect } from \"react-redux\";\r\nimport { Select, Button, Form, message } from \"antd\";\r\nimport \"antd/dist/antd.css\";\r\nimport applyFilters from \"main_helpers/functions/filters\";\r\nimport store from \"reducers\";\r\nimport {\r\n  slice,\r\n  map,\r\n  get,\r\n  pickBy,\r\n  mapKeys,\r\n  replace,\r\n  assign,\r\n  pick,\r\n  includes,\r\n  orderBy,\r\n  isEqual,\r\n} from \"lodash\";\r\nimport {\r\n  generateUUID,\r\n  localizeNumber,\r\n} from \"../../identify/Component/common/common_func\";\r\nimport \"./style.css\";\r\nclass SelectedParcelsViewComponent extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {};\r\n  }\r\n\r\n  saveEdit = (e, name, i, isEditing) => {\r\n    e.attributes[name] = this[\"edit_\" + name + i];\r\n    this.setState({\r\n      [name + \"_isEdit_\" + i]: isEditing,\r\n    });\r\n  };\r\n\r\n  myChangeHandler = (e, name, i, event) => {\r\n    this[\"edit_\" + name + i] = event.target.value;\r\n    e.attributes[name] = event.target.value;\r\n    this.setState({\r\n      [name + \"_isEdit_\" + i]: true,\r\n    });\r\n  };\r\n\r\n  showEditBtn = (name, value) => {\r\n    const {\r\n      input: {\r\n        value: { fields_enable_editing },\r\n      },\r\n    } = this.props;\r\n    return [...(fields_enable_editing || [])].indexOf(name) > -1;\r\n  };\r\n\r\n  enableEdit = (name, i) => {\r\n    this.setState({ [name + \"_isEdit_\" + i]: true });\r\n  };\r\n\r\n  openPopup = (scope, parcel) => {\r\n    this.units = [\r\n      { value: \"متر\", label: \"متر\" },\r\n      { value: \"قدم\", label: \"قدم\" },\r\n      { value: \"مغرس\", label: \"مغرس\" },\r\n    ];\r\n    let extInitialValue = \"متر\";\r\n    let callBackSelect = (scope, controlName, val) => {\r\n      let {\r\n        input: { onChange, value },\r\n      } = scope.props;\r\n      // if (typeof value == 'string') {\r\n      //   value = { inputValue: value };\r\n      // }\r\n      delete value[controlName];\r\n      let controlValue = { [controlName]: val, ...value };\r\n      scope.state[controlName] = val;\r\n      onChange(controlValue);\r\n      scope.setState(controlValue);\r\n    };\r\n\r\n    var editBoundriesMsg = \"لتعديل أبعاد الحدود يرجي تعديل الأبعاد على ملف الرفع المساحي\"\r\n    var fields = {\r\n      parcel_type: {\r\n        label: \"عبارة عن\",\r\n        placeholder: \"من فضلك اخل نوع الأرض\",\r\n        type: \"input\",\r\n        field: \"select\",\r\n        name: \"parcel_type\",\r\n        data: [\r\n          { label: \"أرض فضاء\", value: \"أرض فضاء\" },\r\n          { label: \"مبنى سكني\", value: \"مبنى سكني\" },\r\n          { label: \"ورشة\", value: \"ورشة\" },\r\n          { label: \"أخرى\", value: \"أخرى\" },\r\n        ],\r\n        required: true,\r\n        disabled: true\r\n      },\r\n      north_length: {\r\n        label: \"طول الحد الشمالي (م)\",\r\n        placeholder: \"من فضلك ادخل طول الحد الشمالي (م)\",\r\n        field: \"inputNumber\",\r\n        type: \"input\",\r\n        name: \"north_length\",\r\n        hasAU: true,\r\n        value_key: \"value\",\r\n        label_key: \"value\",\r\n        data: [...this.units],\r\n        onClick: callBackSelect,\r\n        required: true,\r\n        extInitialValue,\r\n        disabled: true, // !this?.props?.input?.value?.modify_length_boundries,\r\n        extDisabled: !this?.props?.input?.value?.update_lengths_units,\r\n        title: editBoundriesMsg\r\n      },\r\n      north_desc: {\r\n        label: \"وصف الحد الشمالي\",\r\n        placeholder: \"من فضلك ادخل وصف الحد الشمالي\",\r\n        type: \"text\",\r\n        name: \"north_desc\",\r\n        maxLength: 200,\r\n        required: true,\r\n        disabled: true, // !this?.props?.input?.value?.modify_length_boundries,\r\n        title: editBoundriesMsg\r\n      },\r\n      south_length: {\r\n        label: \"طول الحد الجنوبي (م)\",\r\n        placeholder: \"من فضلك ادخل طول الحد الجنوبي (م)\",\r\n        field: \"inputNumber\",\r\n        type: \"input\",\r\n        name: \"south_length\",\r\n        required: true,\r\n        hasAU: true,\r\n        value_key: \"value\",\r\n        label_key: \"value\",\r\n        data: [...this.units],\r\n        onClick: callBackSelect,\r\n        extInitialValue,\r\n        disabled: true, // !this?.props?.input?.value?.modify_length_boundries,\r\n        extDisabled: !this?.props?.input?.value?.update_lengths_units,\r\n        title: editBoundriesMsg\r\n      },\r\n      south_desc: {\r\n        label: \"وصف الحد الجنوبي\",\r\n        placeholder: \"من فضلك ادخل وصف الحد الجنوبي\",\r\n        type: \"text\",\r\n        name: \"south_desc\",\r\n        maxLength: 200,\r\n        required: true,\r\n        disabled: true, // !this?.props?.input?.value?.modify_length_boundries,\r\n        title: editBoundriesMsg\r\n      },\r\n      east_length: {\r\n        label: \"طول الحد الشرقي (م)\",\r\n        placeholder: \"من فضلك ادخل طول الحد الشرقي (م)\",\r\n        field: \"inputNumber\",\r\n        type: \"input\",\r\n        name: \"east_length\",\r\n        required: true,\r\n        hasAU: true,\r\n        value_key: \"value\",\r\n        label_key: \"value\",\r\n        data: [...this.units],\r\n        onClick: callBackSelect,\r\n        extInitialValue,\r\n        disabled: true, // !this?.props?.input?.value?.modify_length_boundries,\r\n        extDisabled: !this?.props?.input?.value?.update_lengths_units,\r\n        title: editBoundriesMsg\r\n      },\r\n      east_desc: {\r\n        label: \"وصف الحد الشرقي\",\r\n        placeholder: \"من فضلك ادخل وصف الحد الشرقي\",\r\n        type: \"text\",\r\n        name: \"east_desc\",\r\n        maxLength: 200,\r\n        required: true,\r\n        disabled: true, // !this?.props?.input?.value?.modify_length_boundries,\r\n        title: editBoundriesMsg\r\n      },\r\n      west_length: {\r\n        label: \"طول الحد الغربي (م)\",\r\n        placeholder: \"من فضلك ادخل طول الحد الغربي (م)\",\r\n        field: \"inputNumber\",\r\n        type: \"input\",\r\n        name: \"west_length\",\r\n        required: true,\r\n        hasAU: true,\r\n        value_key: \"value\",\r\n        label_key: \"value\",\r\n        data: [...this.units],\r\n        onClick: callBackSelect,\r\n        extInitialValue,\r\n        disabled: true, // !this?.props?.input?.value?.modify_length_boundries,\r\n        extDisabled: !this?.props?.input?.value?.update_lengths_units,\r\n        title: editBoundriesMsg\r\n      },\r\n      west_desc: {\r\n        label: \"وصف الحد الغربي\",\r\n        placeholder: \"من فضلك ادخل وصف الحد الغربي\",\r\n        type: \"text\",\r\n        name: \"west_desc\",\r\n        maxLength: 200,\r\n        required: true,\r\n        disabled: true, // !this?.props?.input?.value?.modify_length_boundries,\r\n        title: editBoundriesMsg\r\n      },\r\n    };\r\n    this.props.setMain(\"Popup\", {\r\n      popup: {\r\n        type: \"create\",\r\n        title: 'حدود وابعاد الارض وفق لبيانات الرفع المساحي',\r\n        childProps: {\r\n          fields: { ...fields },\r\n          initialValues: { ...parcel.parcelData },\r\n          ok(values) {\r\n            \r\n            parcel.parcelData = values;\r\n            return Promise.resolve(true);\r\n          },\r\n        },\r\n      },\r\n    });\r\n  };\r\n\r\n  // componentDidUpdate() {\r\n  //   \r\n  // }\r\n\r\n  render() {\r\n    const {\r\n      parcel_fields,\r\n      parcel_fields_headers,\r\n      input: {\r\n        value: { data },\r\n      },\r\n    } = this.props;\r\n    return (\r\n      <div class=\"col-xs-12\">\r\n        {data && data.length > 0 && (\r\n          <div>\r\n            <h1 className=\"titleSelectedParcel\">الأراضي المختارة</h1>\r\n\r\n            <table className=\"table table-bordered\" style={{ marginTop: \"1%\" }}>\r\n              <thead>\r\n                <tr>\r\n                  {parcel_fields_headers.map((field, k) => {\r\n                    return <th>{field}</th>;\r\n                  })}\r\n                  <th> خيارات</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {data.map((e, i) => {\r\n                  return (\r\n                    <tr key={i}>\r\n                      {parcel_fields.map((field, k) => {\r\n                        return (\r\n                          <td key={k}>\r\n                            <div>\r\n                              {!this.state[field + \"_isEdit_\" + i] ? (\r\n                                <span>\r\n                                  <span>\r\n                                    {localizeNumber(e.attributes[field] || \"\")}\r\n                                  </span>\r\n                                  {this.showEditBtn(\r\n                                    field,\r\n                                    e.attributes[field]\r\n                                  ) && (\r\n                                    <span>\r\n                                      <button\r\n                                        className=\"btn\"\r\n                                        style={{\r\n                                          marginRight: e.attributes[field]\r\n                                            ? \"20px\"\r\n                                            : \"0px\",\r\n                                        }}\r\n                                        onClick={this.enableEdit.bind(\r\n                                          this,\r\n                                          field,\r\n                                          i\r\n                                        )}\r\n                                      >\r\n                                        <i className=\"fas fa-edit\"></i>\r\n                                      </button>\r\n                                    </span>\r\n                                  )}\r\n                                </span>\r\n                              ) : (\r\n                                <span\r\n                                  style={{\r\n                                    display: \"grid\",\r\n                                    gridTemplateColumns: \"1fr auto\",\r\n                                  }}\r\n                                >\r\n                                  <input\r\n                                    key={i}\r\n                                    className=\"form-control\"\r\n                                    type=\"text\"\r\n                                    step=\"any\"\r\n                                    value={e.attributes[field]}\r\n                                    onChange={this.myChangeHandler.bind(\r\n                                      this,\r\n                                      e,\r\n                                      field,\r\n                                      i\r\n                                    )}\r\n                                  />\r\n                                  <button\r\n                                    className=\"btn\"\r\n                                    style={{ marginRight: \"20px\" }}\r\n                                    onClick={this.saveEdit.bind(\r\n                                      this,\r\n                                      e,\r\n                                      field,\r\n                                      i,\r\n                                      false\r\n                                    )}\r\n                                  >\r\n                                    <i className=\"fa fa-floppy-o\"></i>\r\n                                  </button>\r\n                                </span>\r\n                              )}\r\n                            </div>\r\n                          </td>\r\n                        );\r\n                      })}\r\n                      <td>\r\n                        <button\r\n                          className=\"btn follow\"\r\n                          style={{ margin: \"0px 5px\" }}\r\n                          onClick={() => {\r\n                            this.openPopup(this, e);\r\n                          }}\r\n                        >\r\n                          حدود و أبعاد الأرض\r\n                        </button>\r\n                      </td>\r\n                    </tr>\r\n                  );\r\n                })}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(SelectedParcelsViewComponent);\r\n","\nvar content = require(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js!./style.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js!./style.css\", function() {\n\t\tvar newContent = require(\"!!../../../../../../../node_modules/css-loader/dist/cjs.js!./style.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}"],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;ACHA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxDA;AACA;AACA;AACA;AAEA;AACA;AACA;AAcA;AAIA;AACA;AACA;AACA;AAAA;AAKA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAGA;AAAA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAjMA;AACA;AAkMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAGA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AAMA;AACA;AAAA;AAEA;AACA;AAAA;AAaA;AACA;AACA;AAGA;AACA;AAIA;AAEA;AAAA;AAOA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AAKA;AAGA;AACA;AAAA;AAAA;AACA;AAMA;AAEA;AAAA;AAOA;AAGA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAOA;AAOA;AACA;AAEA;;;;;;;;;;;AC7VA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}