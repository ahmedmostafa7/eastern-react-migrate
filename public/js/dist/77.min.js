(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[77],{

/***/ "./src/app/components/inputs/fields/inputNumber.js":
/*!*********************************************************!*\
  !*** ./src/app/components/inputs/fields/inputNumber.js ***!
  \*********************************************************/
/*! exports provided: inputNumberComp, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "inputNumberComp", function() { return inputNumberComp; });
/* harmony import */ var antd_lib_select_style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! antd/lib/select/style */ "./node_modules/antd/lib/select/style/index.js");
/* harmony import */ var antd_lib_select_style__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(antd_lib_select_style__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var antd_lib_select__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! antd/lib/select */ "./node_modules/antd/lib/select/index.js");
/* harmony import */ var antd_lib_select__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(antd_lib_select__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var antd_lib_input_number_style__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! antd/lib/input-number/style */ "./node_modules/antd/lib/input-number/style/index.js");
/* harmony import */ var antd_lib_input_number_style__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(antd_lib_input_number_style__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var antd_lib_input_number__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! antd/lib/input-number */ "./node_modules/antd/lib/input-number/index.js");
/* harmony import */ var antd_lib_input_number__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(antd_lib_input_number__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/helpers/extends */ "./node_modules/@babel/runtime/helpers/extends.js");
/* harmony import */ var _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var lodash_isFunction__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash/isFunction */ "./node_modules/lodash/isFunction.js");
/* harmony import */ var lodash_isFunction__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash_isFunction__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var react_i18next__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! react-i18next */ "./node_modules/react-i18next/dist/es/index.js");
/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-redux */ "./node_modules/react-redux/es/index.js");
/* harmony import */ var _mapping__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../mapping */ "./src/app/components/inputs/mapping.js");
/* harmony import */ var react_router__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react-router */ "./node_modules/react-router/es/index.js");
/* harmony import */ var _helpers_main_input__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../helpers/main/input */ "./src/app/helpers/main/input.js");












class inputNumberComp extends _helpers_main_input__WEBPACK_IMPORTED_MODULE_11__["default"] {
  constructor(props) {
    var _this$props;
    super(props);
    if ((_this$props = this.props) !== null && _this$props !== void 0 && _this$props.hasAU) {
      var _this$props2;
      const {
        input: {
          value,
          onChange
        }
      } = props;
      let isValueString = typeof value == "string";
      this.state = {
        inputValue: value && typeof value == "object" && (value === null || value === void 0 ? void 0 : value.inputValue) || value != undefined && typeof value == "string" && value || "",
        extValue: value && typeof value == "object" && (value === null || value === void 0 ? void 0 : value.extValue) || ((_this$props2 = this.props) === null || _this$props2 === void 0 ? void 0 : _this$props2.extInitialValue)
      };
      if (isValueString) {
        onChange(this.state);
      }
    }
    if (props.init_data) {
      props.init_data(props);
    }
  }

  // shouldComponentUpdate(nextProps, nextState) {
  //   return (
  //     !isEqual(nextProps.data, this.props.data) ||
  //     !isEqual(nextProps.input.value, this.props.input.value) ||
  //     !isEqual(nextProps.lang, this.props.lang) ||
  //     !isEqual(nextProps.forceUpdate, this.props.forceUpdate)
  //   );
  // }

  render() {
    let {
      className,
      input,
      label,
      type,
      t,
      textAfter,
      hasAU,
      data,
      disabled,
      extDisabled,
      title,
      values,
      placeholder
    } = this.props;
    disabled = lodash_isFunction__WEBPACK_IMPORTED_MODULE_5___default()(disabled) ? disabled(values, this.props) : disabled;
    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_6___default.a.Fragment, null, textAfter && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div", null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("b", null, "(", textAfter, ")"), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(antd_lib_input_number__WEBPACK_IMPORTED_MODULE_3___default.a, _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_4___default()({
      className
    }, input, {
      disabled: disabled,
      type: "number",
      placeholder: t(label || placeholder),
      title: title,
      onChange: val => {
        if (this.props.onClick) {
          this.props.onClick(this.props, val);
        } else {
          this.props.input.onChange(val);
        }
      }
    }))) || hasAU && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_6___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(antd_lib_input_number__WEBPACK_IMPORTED_MODULE_3___default.a, {
      title: title,
      className,
      disabled: disabled,
      type: "number",
      placeholder: t(label || placeholder),
      onChange: val => {
        this.setState({
          inputValue: val
        }, () => {
          this.props.input.onChange({
            inputValue: val,
            extValue: this.state["extValue"]
          });
        });
      },
      value: this.state["inputValue"]
    }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(antd_lib_select__WEBPACK_IMPORTED_MODULE_1___default.a, {
      getPopupContainer: trigger => trigger.parentNode,
      autoFocus: true,
      onChange: val => {
        this.setState({
          extValue: val
        }, () => {
          this.props.input.onChange({
            inputValue: this.state["inputValue"],
            extValue: val
          });
        });
      },
      value: this.state["extValue"],
      disabled: extDisabled
    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(Option, {
      disabled: "disabled",
      value: null
    }, "من فضلك ادخل وحدة الطول"), data.map(e => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(Option, {
      key: e.value,
      value: e.value
    }, e.label, " ")))) || /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_6___default.a.Fragment, null, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(antd_lib_input_number__WEBPACK_IMPORTED_MODULE_3___default.a, _babel_runtime_helpers_extends__WEBPACK_IMPORTED_MODULE_4___default()({
      title: title,
      className
    }, input, {
      disabled: disabled,
      type: "number",
      placeholder: t(label || placeholder),
      onChange: val => {
        if (this.props.onClick) {
          this.props.onClick(this.props, val);
        } else {
          this.props.input.onChange(val);
        }
      }
    }))));
  }
}
/* harmony default export */ __webpack_exports__["default"] = (Object(react_redux__WEBPACK_IMPORTED_MODULE_8__["connect"])(_mapping__WEBPACK_IMPORTED_MODULE_9__["mapStateToProps"], _mapping__WEBPACK_IMPORTED_MODULE_9__["mapDispatchToProps"])(Object(react_i18next__WEBPACK_IMPORTED_MODULE_7__["translate"])("labels")(inputNumberComp)));

/***/ }),

/***/ "./src/app/components/inputs/mapping.js":
/*!**********************************************!*\
  !*** ./src/app/components/inputs/mapping.js ***!
  \**********************************************/
/*! exports provided: mapStateToProps, mapDispatchToProps */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mapStateToProps", function() { return mapStateToProps; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mapDispatchToProps", function() { return mapDispatchToProps; });
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash/get */ "./node_modules/lodash/get.js");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var redux_form__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! redux-form */ "./node_modules/redux-form/es/index.js");
/* harmony import */ var _fields_identify_Component_common_common_func__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./fields/identify/Component/common/common_func */ "./src/app/components/inputs/fields/identify/Component/common/common_func.js");



const mapStateToProps = ({
  wizard: {
    currentStep,
    wizardSettings,
    steps,
    mainObject,
    comments,
    currentModule
  },
  selectors = {},
  mainApp,
  user,
  mapViewer,
  ...state
}, {
  moduleName,
  path,
  value_key,
  ...props
}) => {
  return {
    data: props.data || lodash_get__WEBPACK_IMPORTED_MODULE_0___default()(state, path),
    lang: mainApp.language,
    selectors,
    apps: mainApp.apps,
    info: lodash_get__WEBPACK_IMPORTED_MODULE_0___default()(mapViewer, "info.info", {}),
    ...(selectors[moduleName] || {}),
    value_key: lodash_get__WEBPACK_IMPORTED_MODULE_0___default()(selectors[moduleName], "value_key", value_key),
    currentStep,
    steps,
    mainObject,
    currentModule,
    user: lodash_get__WEBPACK_IMPORTED_MODULE_0___default()(user, "user", {}),
    comments,
    wizardSettings,
    //allNotes,
    mainApp,
    record: lodash_get__WEBPACK_IMPORTED_MODULE_0___default()(currentModule, "record") || []
  };
};
const mapDispatchToProps = (dispatch, {
  moduleName
}) => {
  return {
    getValues(name = "stepForm") {
      return Object(redux_form__WEBPACK_IMPORTED_MODULE_1__["formValueSelector"])("name");
    },
    setSelector: (moduleName, data) => {
      dispatch({
        type: "setSelectors",
        path: `${moduleName}`,
        data
      });
    },
    setValueLabelKeys: (label_key, value_key) => {
      dispatch({
        type: "setSelectors",
        path: `${moduleName}.label_key`,
        data: label_key
      });
      dispatch({
        type: "setSelectors",
        path: `${moduleName}.value_key`,
        data: value_key
      });
    },
    setData: data => {
      dispatch({
        type: "setSelectors",
        path: `${moduleName}.data`,
        data
      });
    },
    addToData: (data, index, operation) => {
      dispatch({
        type: "insertInArraySelectors",
        path: `${moduleName}.data`,
        operation,
        index,
        data
      });
    },
    setNextUrl: nextUrl => {
      dispatch({
        type: "setSelectors",
        path: `${moduleName}.links.nextLink`,
        data: nextUrl
      });
    },
    addNewSelector: (moduleName, data) => {
      dispatch({
        type: "setSelectors",
        path: moduleName,
        data
      });
    },
    removeSelector: moduleName => {
      dispatch({
        type: "removeSelectors",
        path: moduleName
      });
    },
    setCurrentModule: data => {
      dispatch({
        type: "setWizard",
        path: "currentModule",
        data
      });
    },
    removeMainObject: () => {
      dispatch({
        type: "removeWizard",
        path: "mainObject"
      });
      dispatch({
        type: "removeWizard",
        path: "currentStep"
      });
      dispatch({
        type: "removeWizard",
        path: "comments"
      });
      dispatch({
        type: "removeWizard",
        path: "allNotes"
      });
    },
    setMainObject: (data, step, user) => {
      dispatch({
        type: "setWizard",
        path: `mainObject.${step}`,
        data
      });
      if (user) {
        // user = { ...user, currentDate: moment().format("iYYYY/iM/iD") };

        dispatch({
          type: "setWizard",
          path: `mainObject.${step}.user`,
          data: Object(_fields_identify_Component_common_common_func__WEBPACK_IMPORTED_MODULE_2__["copyUser"])({
            user
          })
        });
      }
    }
  };
};

/***/ })

}]);
//# sourceMappingURL=77.min.js.map