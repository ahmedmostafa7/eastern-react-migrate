{"version":3,"file":"110.min.js","sources":["webpack:///./src/app/components/inputs/fields/mention.js"],"sourcesContent":["import React from \"react\";\r\nimport { Mention } from \"antd\";\r\nimport mainInput from \"app/helpers/main/input\";\r\nimport {withTranslation} from \"react-i18next\";\r\nimport { keys, get } from \"lodash\";\r\nconst { toString, toContentState } = Mention;\r\n\r\nexport class mentionsComponent extends mainInput {\r\n  state = {\r\n    dataSource: [],\r\n  };\r\n  handleChange(contentState) {\r\n    const {\r\n      input: { onChange },\r\n    } = this.props;\r\n    onChange(toString(contentState));\r\n  }\r\n  onSearchChange(value, trigger) {\r\n    const { suggestions } = this.props;\r\n    let data = get(suggestions, trigger, []);\r\n    data = Array.isArray(data) ? data : [];\r\n    this.setState({\r\n      dataSource: data.filter((item) => item.indexOf(value) !== -1),\r\n    });\r\n  }\r\n  render() {\r\n    const {\r\n      className,\r\n      input: { value, onBlur },\r\n      t,\r\n      suggestions,\r\n      type,\r\n      label,\r\n      placeholder,\r\n      notFoundContent,\r\n    } = this.props;\r\n    return (\r\n      <Mention\r\n        {...{ className }}\r\n        onBlur={onBlur}\r\n        defaultValue={toContentState(String(value))}\r\n        onChange={this.handleChange.bind(this)}\r\n        notFoundContent={notFoundContent ? notFoundContent : t(\"No data\")}\r\n        suggestions={this.state.dataSource}\r\n        onSearchChange={this.onSearchChange.bind(this)}\r\n        prefix={keys(suggestions)}\r\n        label={label}\r\n        type={type}\r\n        placeholder={placeholder ? placeholder : label}\r\n        {...{ className }}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default withTranslation(\"messages\")(mentionsComponent);\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAEA;AACA;AAEA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AAEA;;;;A","sourceRoot":""}